<!-- build time:Thu Nov 21 2024 15:10:04 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="但行好事，莫问前程" href="https://60saint.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="但行好事，莫问前程" href="https://60saint.github.io/atom.xml"><link rel="alternate" type="application/json" title="但行好事，莫问前程" href="https://60saint.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="C++"><link rel="canonical" href="https://60saint.github.io/cpp/%E4%B8%89.C++%E6%8F%90%E9%AB%98%E7%BC%96%E7%A8%8B/"><title>三.C++提高编程 - C++ | Zn1's Blog = 但行好事，莫问前程</title><meta name="generator" content="Hexo 7.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">三.C++提高编程</h1><div class="meta"><span class="item" title="Created: 2024-11-08 17:12:58"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">Posted on</span> <time itemprop="dateCreated datePublished" datetime="2024-11-08T17:12:58+08:00">2024-11-08</time> </span><span class="item" title="Symbols count in article"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">Symbols count in article</span> <span>90k</span> <span class="text">words</span> </span><span class="item" title="Reading time"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">Reading time</span> <span>1:22</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="Toggle navigation bar"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Zn1's Blog</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><img src="/assets/cpp.png"></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">Home</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/cpp/" itemprop="item" rel="index" title="In C++"><span itemprop="name">C++</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="en"><link itemprop="mainEntityOfPage" href="https://60saint.github.io/cpp/%E4%B8%89.C++%E6%8F%90%E9%AB%98%E7%BC%96%E7%A8%8B/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Li Xinyi"><meta itemprop="description" content=", "></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="但行好事，莫问前程"></span><div class="body md" itemprop="articleBody"><ul><li>本阶段主要针对 C++<mark> 泛型编程</mark>和<mark> STL</mark> 技术做详细讲解，探讨 C++ 更深层的使用</li></ul><h1 id="1-模版"><a class="anchor" href="#1-模版">#</a> 1 模版</h1><h2 id="11-模版的概念"><a class="anchor" href="#11-模版的概念">#</a> 1.1 模版的概念</h2><p>模版就是建立<strong>通用的模具</strong>，大大<strong>提高复用性</strong></p><p>例如生活中的模板</p><p>一寸照片模板：</p><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411081720353.png" alt=""></p><p>PPT 模板：</p><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411081729432.png" alt=""></p><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411081731076.png" alt=""></p><p>模版的特点：</p><ul><li><p>模版不可以直接使用，它只是一个框架</p><blockquote><p>比如说不能直接把一寸照片的模板图当成自己的一寸照片，也不能把网上的年终总结报告模板给老板发过去</p></blockquote></li><li><p>模板的通用并不是万能的</p><blockquote><p>比如养了一个宠物，给宠物上证的时候也要提供宠物的证件照，不能拿人的证件照模板去 p 图。年终总结报告的 PPT 模板也是一样，只针对年终总结报告，对其他类型的报告就不太实用了，并不能把所有类型的报告写出来</p></blockquote></li></ul><h2 id="12-函数模板"><a class="anchor" href="#12-函数模板">#</a> 1.2 函数模板</h2><ul><li>C++ 另一种编程思想称为<mark>泛型编程</mark>，主要利用的技术就是模板</li><li>C++ 提供两种模板机制：<strong>函数模板</strong>和<strong>类模板</strong></li></ul><h3 id="121-函数模板语法"><a class="anchor" href="#121-函数模板语法">#</a> 1.2.1 函数模板语法</h3><p>函数模板作用：</p><p>建立一个通用函数，其函数返回值类型和形参类型可以不具体指定，用一个<strong>虚拟的类型</strong>来代表</p><blockquote><p>比如 <code>void func(int a)</code> ，在写模板的时候可以先不指定返回值是什么类型，也可以不指定传入的参数到底是什么数据类型。模板可以把形参的类型以及返回值的类型更抽象化，在使用的时候再确定类型，一开始的时候可以用虚拟的类型来代表它，比如 T（有可能是 int /double/float）</p></blockquote><p><strong>语法：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre>函数声明或定义</pre></td></tr></table></figure><p><strong>解释：</strong></p><p>template --- 声明创建模板</p><p>typename --- 表明其后面的符号是一种数据类型，可以用 class 代替</p><p>T --- 通用的数据类型，名称可以替换，通常为大写字母</p><p><strong>示例：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 交换两个整型的函数</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">void</span> <span class="token function">swapInt</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token keyword">int</span> temp <span class="token operator">=</span> a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  a <span class="token operator">=</span> b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  b <span class="token operator">=</span> temp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 交换两个浮点型函数</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">void</span> <span class="token function">swapDouble</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token keyword">double</span> temp <span class="token operator">=</span> a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  a <span class="token operator">=</span> b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  b <span class="token operator">=</span> temp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 函数模板</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">typename</span> <span class="token class-name">T</span><span class="token operator">></span>  <span class="token comment">// 声明一个模板，告诉编译器后面代码中紧跟着的 T 不要报错，T 是一个通用数据类型</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">void</span> <span class="token function">mySwap</span><span class="token punctuation">(</span>T<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> T<span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  T temp <span class="token operator">=</span> a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  a <span class="token operator">=</span> b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>  b <span class="token operator">=</span> temp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>  <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>  <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>  <span class="token comment">// swapInt(a, b);</span></pre></td></tr><tr><td data-num="26"></td><td><pre>  <span class="token comment">// 利用函数模板交换</span></pre></td></tr><tr><td data-num="27"></td><td><pre>  <span class="token comment">// 两种方式使用函数模板</span></pre></td></tr><tr><td data-num="28"></td><td><pre>  <span class="token comment">// 1、自动类型推导</span></pre></td></tr><tr><td data-num="29"></td><td><pre>  <span class="token function">mySwap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>  <span class="token comment">// 2、显示指定类型</span></pre></td></tr><tr><td data-num="31"></td><td><pre>  <span class="token generic-function"><span class="token function">mySwap</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a = "</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"b = "</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre></pre></td></tr><tr><td data-num="35"></td><td><pre>  <span class="token keyword">double</span> c <span class="token operator">=</span> <span class="token number">1.1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>  <span class="token keyword">double</span> d <span class="token operator">=</span> <span class="token number">2.2</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>  <span class="token function">swapDouble</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"c = "</span> <span class="token operator">&lt;&lt;</span> c <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"d = "</span> <span class="token operator">&lt;&lt;</span> d <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>总结：</p><ul><li>函数模板利用关键字 template</li><li>使用函数模板有两种方式：自动类型推导、显示指定类型</li><li>模板的目的是为了提高复用性，将类型参数化</li></ul><h3 id="122-函数模板注意事项"><a class="anchor" href="#122-函数模板注意事项">#</a> 1.2.2 函数模板注意事项</h3><p>注意事项：</p><ul><li>自动类型推导，必须推导出一致的数据类型 T，才可以使用</li><li>模板必须要确定出 T 的数据类型，才可以使用</li></ul><p><strong>示例：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span>  <span class="token comment">//typename 可以替换成 class</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">void</span> <span class="token function">mySwap</span><span class="token punctuation">(</span>T<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> T<span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  T temp <span class="token operator">=</span> a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  a <span class="token operator">=</span> b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  b <span class="token operator">=</span> temp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 是一个函数模板，因为它紧跟着模板</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"func调用"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token function">mySwap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 正确！</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a = "</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"b = "</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>  <span class="token comment">// 1、自动类型推导，必须推导出一致的数据类型 T 才可以使用</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  <span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token char">'c'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>  <span class="token comment">//mySwap (a, c);  // 错误！推导不出一致的 T 类型</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>  <span class="token comment">// 2、模板必须要确定出 T 的数据类型，才可以使用</span></pre></td></tr><tr><td data-num="25"></td><td><pre>  <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 报错，因为没有指定 T。若 func 是普通函数，这行代码没有任何问题，当把函数变成一个函数模板后，必须指出 T 的数据类型。现在没办法自动类型推导了，只能显示指定类型</span></pre></td></tr><tr><td data-num="26"></td><td><pre>  <span class="token generic-function"><span class="token function">func</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>总结：</p><p>使用模板时必须确定出通用数据类型 T，并且能够推导出一致的类型</p><h3 id="123-函数模板案例"><a class="anchor" href="#123-函数模板案例">#</a> 1.2.3 函数模板案例</h3><p>案例描述：</p><ul><li>利用函数模板封装一个排序的函数，可以对<strong>不同数据类型数组</strong>进行排序</li><li>排序规则从大到小，排序算法为<strong>选择排序</strong></li><li>分别利用<strong> char 数组</strong>和<strong> int 数组</strong>进行测试</li></ul><p>示例：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 交换函数模板</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">void</span> <span class="token function">mySwap</span><span class="token punctuation">(</span>T<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> T<span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  T temp <span class="token operator">=</span> a<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  a <span class="token operator">=</span> b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  b <span class="token operator">=</span> temp<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 排序算法</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">void</span> <span class="token function">mySort</span><span class="token punctuation">(</span>T arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token keyword">int</span> max <span class="token operator">=</span> i<span class="token punctuation">;</span>  <span class="token comment">// 认定最大值的下标</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>      <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>max<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 认定的最大值比遍历出的数值要小，说明 j 下标的元素才是真正的最大值</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        max <span class="token operator">=</span> j<span class="token punctuation">;</span>                <span class="token comment">// 更新最大值下标</span></pre></td></tr><tr><td data-num="17"></td><td><pre>      <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span>max <span class="token operator">!=</span> i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>      <span class="token comment">// 交换 max 和 i 下标的元素</span></pre></td></tr><tr><td data-num="21"></td><td><pre>      <span class="token function">mySwap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>max<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token comment">// 提供打印数组模板</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">void</span> <span class="token function">printArray</span><span class="token punctuation">(</span>T arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="34"></td><td><pre></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>  <span class="token comment">// 测试 char 数组</span></pre></td></tr><tr><td data-num="37"></td><td><pre>  <span class="token keyword">char</span> charArr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"badcfe"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>  <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>charArr<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>  <span class="token function">mySort</span><span class="token punctuation">(</span>charArr<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>  <span class="token function">printArray</span><span class="token punctuation">(</span>charArr<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre></pre></td></tr><tr><td data-num="42"></td><td><pre>  <span class="token comment">// 测试 int 数组</span></pre></td></tr><tr><td data-num="43"></td><td><pre>  <span class="token keyword">int</span> intArr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>  num <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>intArr<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>  <span class="token function">mySort</span><span class="token punctuation">(</span>intArr<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>  <span class="token function">printArray</span><span class="token punctuation">(</span>intArr<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="124-普通函数与函数模板的区别"><a class="anchor" href="#124-普通函数与函数模板的区别">#</a> 1.2.4 普通函数与函数模板的区别</h3><p><strong>普通函数与函数模板区别：</strong></p><ul><li>普通函数调用时可以发生自动类型转换（隐式类型转换）</li><li>函数模板调用时，如果利用自动类型推导，不会发生隐式类型转换</li><li>如果利用显示指定类型的方式，可以发生隐式类型转换</li></ul><p><strong>示例：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 普通函数</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">int</span> <span class="token function">myAdd01</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 函数模板</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span></pre></td></tr><tr><td data-num="8"></td><td><pre>T <span class="token function">myAdd02</span><span class="token punctuation">(</span>T a<span class="token punctuation">,</span> T b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  <span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token char">'c'</span><span class="token punctuation">;</span>  <span class="token comment">// a - 97, c - 99</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token comment">// 1、普通函数调用可以发生隐式类型转换</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token function">myAdd01</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  <span class="token comment">// 109</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>  <span class="token comment">// 2、函数模板用自动类型推导，不可以发生隐式类型转换</span></pre></td></tr><tr><td data-num="20"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token function">myAdd02</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  <span class="token comment">// 报错。a 是 int 类型，c 是 char 类型，编译器没法知道到底把 T 替换成整型还是字符型</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre>  <span class="token comment">// 3、函数模板用显示指定类型，可以发生隐式类型转换</span></pre></td></tr><tr><td data-num="23"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">myAdd02</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>  <span class="token comment">// 109</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="125-普通函数与函数模板的调用规则"><a class="anchor" href="#125-普通函数与函数模板的调用规则">#</a> 1.2.5 普通函数与函数模板的调用规则</h3><p>调用规则如下：</p><ol><li>如果函数模板和普通函数都可以实现，优先调用普通函数</li><li>可以通过空模板参数列表来强制调用函数模板</li><li>函数模板也可以发生重载</li><li>如果函数模板可以产生更好的匹配，优先调用函数模板</li></ol><p><strong>示例：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">void</span> <span class="token function">myPrint</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"调用的普通函数"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">void</span> <span class="token function">myPrint</span><span class="token punctuation">(</span>T a<span class="token punctuation">,</span> T b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"调用的模板"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">void</span> <span class="token function">myPrint</span><span class="token punctuation">(</span>T a<span class="token punctuation">,</span> T b<span class="token punctuation">,</span> T c<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"调用重载的模板"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>  <span class="token comment">// 1、如果函数模板和普通函数都可以调用，优先调用普通函数</span></pre></td></tr><tr><td data-num="19"></td><td><pre>  <span class="token function">myPrint</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 调用的普通函数</span></pre></td></tr><tr><td data-num="20"></td><td><pre>  <span class="token comment">// 若普通函数 void myPrint (int a, int b); 只有声明，没有实现，上面那行代码会报错</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre>  <span class="token comment">// 2、可以通过空模板参数列表，强制调用函数模板</span></pre></td></tr><tr><td data-num="23"></td><td><pre>  <span class="token generic-function"><span class="token function">myPrint</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 调用的模板</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre>  <span class="token comment">// 3、函数模板可以发生函数重载</span></pre></td></tr><tr><td data-num="26"></td><td><pre>  <span class="token function">myPrint</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 调用重载的模板</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre>  <span class="token comment">// 4、如果函数模板可以产生更好的匹配，优先调用函数模板</span></pre></td></tr><tr><td data-num="29"></td><td><pre>  <span class="token keyword">char</span> c1 <span class="token operator">=</span> <span class="token char">'a'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>  <span class="token keyword">char</span> c2 <span class="token operator">=</span> <span class="token char">'b'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>  <span class="token function">myPrint</span><span class="token punctuation">(</span>c1<span class="token punctuation">,</span> c2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 调用的模板</span></pre></td></tr><tr><td data-num="32"></td><td><pre>  <span class="token comment">// 普通函数和模板函数能同时调用起来，因为普通函数可以发生隐式类型转换，它可以把 char 类型隐式在调的时候转成 int。但运行之后调用的模板，因为编译器认为如果调普通函数，它先要把 char 转成 int，太麻烦了，不如把 char 推导出来 T，模板函数就可以直接去调</span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="126-模板的局限性"><a class="anchor" href="#126-模板的局限性">#</a> 1.2.6 模板的局限性</h3><p><strong>局限性：</strong></p><p>模板的通用性不是万能的</p><p><strong>例如：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span>T a<span class="token punctuation">,</span> T b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  a <span class="token operator">=</span> b<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>在上述代码中提供的赋值操作，如果传入的 a 和 b 是一个数组，就无法实现了</p><p>再例如：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span>T a<span class="token punctuation">,</span> T b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">></span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>在上述代码中，如果 T 的数据类型传入的是像 Person 这样的自定义数据类型，也无法正常运行</p><p>因此 C++ 为了解决这种问题，提供模板的重载，可以为这些<strong>特定的类型</strong>提供<strong>具体化的模板</strong></p><p><strong>示例：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  string m_Name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token keyword">int</span> m_Age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token function">Person</span><span class="token punctuation">(</span>string name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Name <span class="token operator">=</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Age <span class="token operator">=</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// 对比两个数据是否相等的函数</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">bool</span> <span class="token function">myCompare</span><span class="token punctuation">(</span>T<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> T<span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token comment">// 利用具体化 Person 的版本实现代码，具体化优先调用</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token operator">></span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">bool</span> <span class="token function">myCompare</span><span class="token punctuation">(</span>Person<span class="token operator">&amp;</span> p1<span class="token punctuation">,</span> Person<span class="token operator">&amp;</span> p2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>p1<span class="token punctuation">.</span>m_Name <span class="token operator">==</span> p2<span class="token punctuation">.</span>m_Name <span class="token operator">&amp;&amp;</span> p1<span class="token punctuation">.</span>m_Age <span class="token operator">==</span> p2<span class="token punctuation">.</span>m_Age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>  <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>  <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>  <span class="token keyword">bool</span> ret <span class="token operator">=</span> <span class="token function">myCompare</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a == b"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a != b"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre></pre></td></tr><tr><td data-num="42"></td><td><pre>  Person <span class="token function">p1</span><span class="token punctuation">(</span><span class="token string">"Tom"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>  Person <span class="token function">p2</span><span class="token punctuation">(</span><span class="token string">"Tom"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>  ret <span class="token operator">=</span> <span class="token function">myCompare</span><span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"p1 == p2"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"p1 != p2"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="50"></td><td><pre></pre></td></tr><tr><td data-num="51"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>总结：</p><ul><li>利用具体化的模板，可以解决自定义类型的通用化</li><li>学习模板并不是为了写模板，而是在 STL 能够运用系统提供的模板</li></ul><h2 id="13-类模板"><a class="anchor" href="#13-类模板">#</a> 1.3 类模板</h2><h3 id="131-类模板语法"><a class="anchor" href="#131-类模板语法">#</a> 1.3.1 类模板语法</h3><p>类模板作用：</p><p>建立一个通用类，类中的成员、数据类型可以不具体制定，用一个<strong>虚拟的类型</strong>来代表</p><p><strong>语法：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">template</span> T<span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre>类</pre></td></tr></table></figure><p><strong>解释：</strong></p><p>template --- 声明创建模板</p><p>typename --- 表明其后面的符号是一种数据类型，可以用 class 代替</p><p>T --- 通用的数据类型，名称可以替换，通常为大写字母</p><p><strong>示例：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">NameType</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">AgeType</span><span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  NameType m_Name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  AgeType m_Age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token function">Person</span><span class="token punctuation">(</span>NameType name<span class="token punctuation">,</span> AgeType age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Name <span class="token operator">=</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Age <span class="token operator">=</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  <span class="token keyword">void</span> <span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"name: "</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-></span>m_Name <span class="token operator">&lt;&lt;</span> <span class="token string">" age: "</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-></span>m_Age <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  Person<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token function">p1</span><span class="token punctuation">(</span><span class="token string">"孙悟空"</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 尖括号 & lt;> 叫模板参数列表，相当于分别把 string 和 int 传进 NameType 和 AgeType</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  p1<span class="token punctuation">.</span><span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>总结：类模板和函数模板语法相似，在声明模板 template 后面加类，此类称为类模板</p><h3 id="132-类模板与函数模板区别"><a class="anchor" href="#132-类模板与函数模板区别">#</a> 1.3.2 类模板与函数模板区别</h3><p>类模板与函数模板区别主要有两点：</p><ol><li>类模板没有自动类型推导的使用方式</li><li>类模板在模板参数列表中可以有默认参数</li></ol><p><strong>示例：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">NameType</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">AgeType</span> <span class="token operator">=</span> <span class="token keyword">int</span><span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  NameType m_Name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  AgeType m_Age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token function">Person</span><span class="token punctuation">(</span>NameType name<span class="token punctuation">,</span> AgeType age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Name <span class="token operator">=</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Age <span class="token operator">=</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  <span class="token keyword">void</span> <span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"name: "</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-></span>m_Name <span class="token operator">&lt;&lt;</span> <span class="token string">" age: "</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-></span>m_Age <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  <span class="token comment">// 1、类模板没有自动类型推导使用方式</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  <span class="token comment">// Person p ("孙悟空", 1000);// 错误，无法用自动类型推导</span></pre></td></tr><tr><td data-num="19"></td><td><pre>  Person<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token function">p</span><span class="token punctuation">(</span><span class="token string">"孙悟空"</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 正确，只能用显示指定类型</span></pre></td></tr><tr><td data-num="20"></td><td><pre>  p<span class="token punctuation">.</span><span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre>  <span class="token comment">// 2、类模板在模板参数列表中可以有默认参数</span></pre></td></tr><tr><td data-num="23"></td><td><pre>  Person<span class="token operator">&lt;</span>string<span class="token operator">></span> <span class="token function">p2</span><span class="token punctuation">(</span><span class="token string">"猪八戒"</span><span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// AgeType 默认是一个整型，所以在这里使用的时候可以把模板参数列表的 int 删掉也不会报错</span></pre></td></tr><tr><td data-num="24"></td><td><pre>  p2<span class="token punctuation">.</span><span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>总结：</p><ul><li>类模板使用只能用显示指定类型方式</li><li>类模板类模板中的模板参数列表可以有默认参数</li></ul><h3 id="133-类模板中成员函数创建时机"><a class="anchor" href="#133-类模板中成员函数创建时机">#</a> 1.3.3 类模板中成员函数创建时机</h3><p>类模板中成员函数和普通类中成员函数创建时机是有区别的：</p><ul><li>普通类中的成员函数一开始就可以创建</li><li>类模板中的成员函数在调用时才创建</li></ul><p><strong>示例：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Person1</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token keyword">void</span> <span class="token function">showPerson1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Person1 show"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Person2</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token keyword">void</span> <span class="token function">showPerson2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Person2 show"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  T obj<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>  <span class="token comment">// 类模板中的成员函数，并不是一开始就创建的，而是在模板调用时再生成</span></pre></td></tr><tr><td data-num="20"></td><td><pre>  <span class="token keyword">void</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    obj<span class="token punctuation">.</span><span class="token function">showPerson1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="22"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>  <span class="token keyword">void</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    obj<span class="token punctuation">.</span><span class="token function">showPerson2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="25"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>  </pre></td></tr><tr><td data-num="29"></td><td><pre>  <span class="token comment">// 没有下面几行代码的时候，程序能编译通过。因为 fun1 和 fun2 这两个成员函数只要没有被调用，就不会被创建，因为不确定 obj 是什么数据类型。这就是类模板中的成员函数一开始不会创建</span></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre>  MyClass<span class="token operator">&lt;</span>Person1<span class="token operator">></span> m<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>  m<span class="token punctuation">.</span><span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>  <span class="token comment">//m.fun2 ();// 编译会出错，说明函数调用才会去创建成员函数</span></pre></td></tr><tr><td data-num="34"></td><td><pre></pre></td></tr><tr><td data-num="35"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>总结：类模板中的成员函数并不是一开始就创建的，在调用时才去创建</p><h3 id="134-类模板对象做函数参数"><a class="anchor" href="#134-类模板对象做函数参数">#</a> 1.3.4 类模板对象做函数参数</h3><p>学习目标：</p><ul><li>类模板实例化出的对象，向函数传参的方式</li></ul><p>一共有三种传入方式：</p><ol><li>指定传入的类型 --- 直接显示对象的数据类型</li><li>参数模板化 --- 将对象中的参数变为模板进行传递</li><li>整个类模板化 --- 将这个对象类型 模板化进行传递</li></ol><p><strong>示例：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 类模板</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T2</span> <span class="token operator">=</span> <span class="token keyword">int</span><span class="token operator">></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token function">Person</span><span class="token punctuation">(</span>T1 name<span class="token punctuation">,</span> T2 age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>mName <span class="token operator">=</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>mAge <span class="token operator">=</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token keyword">void</span> <span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"name: "</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-></span>mName <span class="token operator">&lt;&lt;</span> <span class="token string">" age: "</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-></span>mAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  T1 mName<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  T2 mAge<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token comment">// 1、指定传入的类型</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">void</span> <span class="token function">printPerson1</span><span class="token punctuation">(</span>Person<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">&amp;</span>p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>  p<span class="token punctuation">.</span><span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>  Person<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token function">p</span><span class="token punctuation">(</span><span class="token string">"孙悟空"</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>  <span class="token function">printPerson1</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token comment">// 2、参数模板化</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T2</span><span class="token operator">></span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token keyword">void</span> <span class="token function">printPerson2</span><span class="token punctuation">(</span>Person<span class="token operator">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token operator">></span> <span class="token operator">&amp;</span>p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>  p<span class="token punctuation">.</span><span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>  <span class="token comment">// 看编译器推导出来的 T1 / T2 是什么数据类型：</span></pre></td></tr><tr><td data-num="32"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"T1的类型为： "</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>T1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">// NSt3__112basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE</span></pre></td></tr><tr><td data-num="33"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"T2的类型为： "</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>T2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">// i</span></pre></td></tr><tr><td data-num="34"></td><td><pre>  <span class="token comment">//typeid (T1) 告诉你 T1 是什么类型，.name () 返回类型名称的字符串</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>  Person<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token function">p</span><span class="token punctuation">(</span><span class="token string">"猪八戒"</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>  <span class="token function">printPerson2</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="40"></td><td><pre></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token comment">// 3、整个类模板化</span></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span></pre></td></tr><tr><td data-num="43"></td><td><pre><span class="token keyword">void</span> <span class="token function">printPerson3</span><span class="token punctuation">(</span>T <span class="token operator">&amp;</span>p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"T的类型为： "</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">// 6PersonINSt3__112basic_stringIcNS0_11char_traitsIcEENS0_9allocatorIcEEEEiE</span></pre></td></tr><tr><td data-num="45"></td><td><pre>  p<span class="token punctuation">.</span><span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="47"></td><td><pre><span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>  Person<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token function">p</span><span class="token punctuation">(</span><span class="token string">"唐僧"</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>  <span class="token function">printPerson3</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="51"></td><td><pre></pre></td></tr><tr><td data-num="52"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>  <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>  <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>  <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre></pre></td></tr><tr><td data-num="57"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>总结：</p><ul><li><p>通过类模板创建的对象，可以有三种方式向函数中进行传参</p></li><li><p>使用比较广泛是第一种：指定传入的类型</p><blockquote><p>第二、三种是类模板配合着函数模板，一般来说没有人做这么复杂</p></blockquote></li></ul><h3 id="135-类模板与继承"><a class="anchor" href="#135-类模板与继承">#</a> 1.3.5 类模板与继承</h3><p>当类模板碰到继承时，需要注意一下几点：</p><ul><li>当子类继承的父类是一个类模板时，子类在声明的时候，要指定出父类中 T 的类型</li><li>如果不指定，编译器无法给子类分配内存</li><li>如果想灵活指定出父类中 T 的类型，子类也需变为类模板</li></ul><p><strong>示例：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Base</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  T m<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">//class Son : public Base  // 错误，因为父类中的 T 类型成员要继承到子类中，但子类不是一个模板，算不出来一个子类对象到底占多少个内存空间，确定不出来继承下来的 T m 到底占多少内存空间。c++ 编译需要给子类分配内存，必须知道父类中 T 的类型才可以向下继承</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Son</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Base</span><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span></span> <span class="token punctuation">&#123;</span><span class="token comment">// 必须指定一个类型</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  Son c<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token comment">// 如果想灵活指定父类中 T 类型，子类也需要变成类模板</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 类模板继承类模板，可以用 T2 指定父类中的 T 类型</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T2</span><span class="token operator">></span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Son2</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Base</span><span class="token operator">&lt;</span><span class="token class-name">T2</span><span class="token operator">></span></span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  <span class="token comment">// T1 obj;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>  <span class="token function">Son2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>T1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">// i</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">typeid</span><span class="token punctuation">(</span>T2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">// c</span></pre></td></tr><tr><td data-num="22"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>  Son2<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">></span> child1<span class="token punctuation">;</span><span class="token comment">//int 和 char 分别传给 T1 和 T2，T2 给父类 Base&lt;T2>，让父类中的 & lt;class T > 变成 char，就可以指定出父类中的 m 的数据类型，再来继承给 Son2</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>  <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>  <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>总结：如果父类是类模板，子类需要指定出父类中 T 的数据类型</p><h3 id="136-类模板成员函数类外实现"><a class="anchor" href="#136-类模板成员函数类外实现">#</a> 1.3.6 类模板成员函数类外实现</h3><p>学习目标：能够掌握类模板中的成员函数类外实现</p><p><strong>示例：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 类模板中成员函数类外实现</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T2</span><span class="token operator">></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token comment">// 成员函数类内声明</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token function">Person</span><span class="token punctuation">(</span>T1 name<span class="token punctuation">,</span> T2 age<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token keyword">void</span> <span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  T1 m_Name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  T2 m_Age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token comment">// 构造函数 类外实现</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T2</span><span class="token operator">></span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token class-name">Person</span><span class="token operator">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token operator">></span><span class="token double-colon punctuation">::</span><span class="token function">Person</span><span class="token punctuation">(</span>T1 name<span class="token punctuation">,</span> T2 age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">// &lt;T1, T2 > 告诉编译器这是一个类模板的类外实现，而不是普通的成员函数的类外实现</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  <span class="token keyword">this</span><span class="token operator">-></span>m_Name <span class="token operator">=</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  <span class="token keyword">this</span><span class="token operator">-></span>m_Age <span class="token operator">=</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">// 成员函数 类外实现</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">template</span><span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T2</span><span class="token operator">></span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">Person</span><span class="token operator">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token operator">></span><span class="token double-colon punctuation">::</span><span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"姓名: "</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-></span>m_Name <span class="token operator">&lt;&lt;</span> <span class="token string">" 年龄:"</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-></span>m_Age <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>  Person<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token function">p</span><span class="token punctuation">(</span><span class="token string">"Tom"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>  p<span class="token punctuation">.</span><span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>总结：类模板中成员函数类外实现时，需要加上模板参数列表</p><h3 id="137-类模板分文件编写"><a class="anchor" href="#137-类模板分文件编写">#</a> 1.3.7 类模板分文件编写</h3><p>学习目标：</p><ul><li>掌握类模板成员函数分文件编写产生的问题以及解决方式</li></ul><p>问题：</p><blockquote><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411091119600.png" alt=""></p><p>person.h：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T2</span><span class="token operator">></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token function">Person</span><span class="token punctuation">(</span>T1 name<span class="token punctuation">,</span> T2 age<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token keyword">void</span> <span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  T1 m_Name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  T2 m_Age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>person.cpp：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"person.h"</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 构造函数 类外实现</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T2</span><span class="token operator">></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token class-name">Person</span><span class="token operator">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token operator">></span><span class="token double-colon punctuation">::</span><span class="token function">Person</span><span class="token punctuation">(</span>T1 name<span class="token punctuation">,</span> T2 age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token keyword">this</span><span class="token operator">-></span>m_Name <span class="token operator">=</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token keyword">this</span><span class="token operator">-></span>m_Age <span class="token operator">=</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 成员函数 类外实现</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T2</span><span class="token operator">></span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">void</span> <span class="token class-name">Person</span><span class="token operator">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token operator">></span><span class="token double-colon punctuation">::</span><span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"姓名: "</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-></span>m_Name <span class="token operator">&lt;&lt;</span> <span class="token string">" 年龄:"</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">this</span><span class="token operator">-></span>m_Age <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>main.cpp：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"person.h"</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  Person<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token function">p</span><span class="token punctuation">(</span><span class="token string">"Jerry"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  p<span class="token punctuation">.</span><span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>编译运行后报错</p></blockquote><ul><li><p>类模板中成员函数创建时机是在调用阶段，导致分文件编写时链接不到</p><blockquote><p>类模板中的成员函数一开始是不会创建的，所以当包含.h 的时候，相当于只让.h 中的代码让编译器看到了，编译器看到这些代码之后不会在 person.cpp 文件中生成 <code>Person(T1 name, T2 age);</code> 和 <code>void showPerson();</code> 这两个函数，person.cpp 文件编译器从来都没有见过。所以最后在链接阶段的时候链接不到这两个函数</p></blockquote></li></ul><p>解决：</p><ul><li><p>解决方式 1：直接包含.cpp 源文件</p><p>把 main.cpp 改为：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"person.cpp"</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  Person<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token function">p</span><span class="token punctuation">(</span><span class="token string">"Jerry"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  p<span class="token punctuation">.</span><span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><blockquote><p>相当于让编译器直接去看 <code>Person(T1 name, T2 age);</code> 和 <code>void showPerson();</code> 函数实现的代码，person.cpp 里边又 include 了一下 person.h，让编译器又看到了 person.h 里的代码</p></blockquote></li><li><p>解决方式 2：将声明和实现写到同一个文件中，并更改后缀名为.hpp，hpp 是约定的名称，并不是强制</p><p>person.hpp 中代码：</p><pre><code class="language-C++">#pragma once
#include &lt;iostream&gt;
using namespace std;

template &lt;class T1, class T2&gt;
class Person &#123;
 public:
  Person(T1 name, T2 age);
  void showPerson();

 public:
  T1 m_Name;
  T2 m_Age;
&#125;;

// 构造函数 类外实现
template &lt;class T1, class T2&gt;
Person&lt;T1, T2&gt;::Person(T1 name, T2 age) &#123;
  this-&gt;m_Name = name;
  this-&gt;m_Age = age;
&#125;

// 成员函数 类外实现
template &lt;class T1, class T2&gt;
void Person&lt;T1, T2&gt;::showPerson() &#123;
  cout &lt;&lt; &quot;姓名: &quot; &lt;&lt; this-&gt;m_Name &lt;&lt; &quot; 年龄:&quot; &lt;&lt; this-&gt;m_Age &lt;&lt; endl;
&#125;
</code></pre><p>main.cpp 中代码：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"person.hpp"</span></span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  Person<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token function">p</span><span class="token punctuation">(</span><span class="token string">"Jerry"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  p<span class="token punctuation">.</span><span class="token function">showPerson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li></ul><p>总结：主流的解决方式是第二种，将类模板成员函数写到一起，并将后缀名改为.hpp</p><h3 id="138-类模板与友元"><a class="anchor" href="#138-类模板与友元">#</a> 1.3.8 类模板与友元</h3><p>学习目标：</p><ul><li>掌握类模板配合友元函数的类内和类外实现</li></ul><p>全局函数类内实现 - 直接在类内声明友元即可</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T2</span><span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token comment">// 全局函数类内实现</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token keyword">friend</span> <span class="token keyword">void</span> <span class="token function">printPerson</span><span class="token punctuation">(</span>Person<span class="token operator">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token operator">></span><span class="token operator">&amp;</span> p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"姓名："</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>m_Name <span class="token operator">&lt;&lt;</span> <span class="token string">" 年龄："</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>m_Age <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token function">Person</span><span class="token punctuation">(</span>T1 name<span class="token punctuation">,</span> T2 age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Name <span class="token operator">=</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Age <span class="token operator">=</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre> <span class="token keyword">private</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  T1 m_Name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  T2 m_Age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>  Person<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token function">p</span><span class="token punctuation">(</span><span class="token string">"Tom"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  <span class="token function">printPerson</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><blockquote><p><code>friend void printPerson(Person&lt;T1, T2&gt;&amp; p)</code> 这是类模板对象做函数参数 - 参数模板化类型，但是这行代码前面不用写 <code>template &lt;class T1, class T2&gt;</code> 。原因：</p><p>在 C++ 中，当在类内部定义一个友元函数（ <code>friend</code> function）时，确实不需要在友元函数的声明前面再次写出模板参数。这是因为友元函数的声明是在类模板的上下文中进行的，编译器已经知道了模板参数的类型。</p><ol><li><p><strong>友元函数的作用</strong>：</p><p>友元函数可以访问类的私有成员。在你的代码中， <code>printPerson</code> 函数被声明为 <code>Person</code> 类的友元函数，因此它可以访问 <code>m_Name</code> 和 <code>m_Age</code> 这两个私有成员。</p></li><li><p><strong>模板上下文</strong>：</p><p>当你在 <code>Person</code> 类内部声明 <code>friend void printPerson(Person&lt;T1, T2&gt;&amp; p)</code> 时，编译器已经在 <code>Person</code> 类的上下文中，因此它知道 <code>T1</code> 和 <code>T2</code> 是模板参数。你不需要在友元函数的声明中再次指定模板参数。</p></li><li><p><strong>编译器的处理</strong>：</p><p>编译器在处理友元函数时，会将其视为一个与类模板相关的函数。它会在实例化 <code>Person</code> 类模板时，自动将 <code>T1</code> 和 <code>T2</code> 替换为实际的类型。</p></li></ol></blockquote><p>全局函数类外实现 - 需要提前让编译器知道全局函数的存在</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T2</span><span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 因为类外实现的 printPerson 全局函数有一个参数 Person，所以要提前让编译器知道 Person 类存在</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 类外实现</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T2</span><span class="token operator">></span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">void</span> <span class="token function">printPerson</span><span class="token punctuation">(</span>Person<span class="token operator">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token operator">></span><span class="token operator">&amp;</span> p<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"类外实现 --- 姓名："</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>m_Name <span class="token operator">&lt;&lt;</span> <span class="token string">" 年龄："</span> <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span>m_Age <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 如果全局函数是类外实现，需要让编译器提前知道这个函数的存在</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T1</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">T2</span><span class="token operator">></span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  <span class="token keyword">friend</span> <span class="token keyword">void</span> <span class="token generic-function"><span class="token function">printPerson</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>Person<span class="token operator">&lt;</span>T1<span class="token punctuation">,</span> T2<span class="token operator">></span><span class="token operator">&amp;</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token comment">// 若不加 & lt;> 会报错，因为不加的话 printPerson 就是一个普通函数的声明，而上方类外是函数模板的实现，导致上下不一致。所以在这需要多加空模板参数列表 & lt;></span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  <span class="token function">Person</span><span class="token punctuation">(</span>T1 name<span class="token punctuation">,</span> T2 age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Name <span class="token operator">=</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Age <span class="token operator">=</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre> <span class="token keyword">private</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="24"></td><td><pre>  T1 m_Name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>  T2 m_Age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>  Person<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token function">p</span><span class="token punctuation">(</span><span class="token string">"Jerry"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>  <span class="token function">printPerson</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>总结：建议全局函数做类内实现，用法简单，而且编译器可以直接识别</p><h3 id="139-类模板案例"><a class="anchor" href="#139-类模板案例">#</a> 1.3.9 类模板案例</h3><p>案例描述：实现一个通用的数组类，要求如下：</p><ul><li>可以对内置数据类型以及自定义数据类型的数据进行存储</li><li>将数组中的数据存储到堆区</li><li>构造函数中可以传入数组的容量</li><li>提供对应的拷贝构造函数以及 operator = 防止浅拷贝问题</li><li>提供尾插法和尾删法对数组中的数据进行增加和删除</li><li>可以通过下标的方式访问数组中的元素</li><li>可以获取数组中当前元素个数和数组的容量</li></ul><blockquote><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411111017175.png" alt=""></p></blockquote><p><strong>示例：</strong></p><p>myArray.hpp 中代码</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token operator">></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">MyArray</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre> <span class="token keyword">private</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  T<span class="token operator">*</span> pAddress<span class="token punctuation">;</span>     <span class="token comment">// 指针指向堆区开辟的真实的数组</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token keyword">int</span> m_Capacity<span class="token punctuation">;</span>  <span class="token comment">// 数组容量</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token keyword">int</span> m_Size<span class="token punctuation">;</span>      <span class="token comment">// 数组大小</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token comment">// 有参构造，参数：容量</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  <span class="token function">MyArray</span><span class="token punctuation">(</span><span class="token keyword">int</span> capacity<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Capacity <span class="token operator">=</span> capacity<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>pAddress <span class="token operator">=</span> <span class="token keyword">new</span> T<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token operator">-></span>m_Capacity<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>  <span class="token comment">// 析构函数</span></pre></td></tr><tr><td data-num="20"></td><td><pre>  <span class="token operator">~</span><span class="token function">MyArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-></span>pAddress <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>      <span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">this</span><span class="token operator">-></span>pAddress<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>      <span class="token keyword">this</span><span class="token operator">-></span>pAddress <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>  <span class="token comment">// 拷贝构造</span></pre></td></tr><tr><td data-num="27"></td><td><pre>  <span class="token function">MyArray</span><span class="token punctuation">(</span><span class="token keyword">const</span> MyArray<span class="token operator">&amp;</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Capacity <span class="token operator">=</span> arr<span class="token punctuation">.</span>m_Capacity<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Size <span class="token operator">=</span> arr<span class="token punctuation">.</span>m_Size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    <span class="token comment">//this->pAddress = arr.pAddress;// 指针不能直接这样赋值，浅拷贝的问题：会导致堆区的数据重复释放</span></pre></td></tr><tr><td data-num="31"></td><td><pre>    <span class="token comment">// 编译器提供的拷贝构造写法如上</span></pre></td></tr><tr><td data-num="32"></td><td><pre></pre></td></tr><tr><td data-num="33"></td><td><pre>    <span class="token comment">// 深拷贝</span></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>pAddress <span class="token operator">=</span> <span class="token keyword">new</span> T<span class="token punctuation">[</span>arr<span class="token punctuation">.</span>m_Capacity<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token comment">// 将 arr 中的数据都拷贝过来</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token operator">-></span>m_Size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>      <span class="token keyword">this</span><span class="token operator">-></span>pAddress<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">.</span>pAddress<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>  <span class="token comment">//operator= 防止浅拷贝问题</span></pre></td></tr><tr><td data-num="41"></td><td><pre>  <span class="token comment">// 返回自身的引用，不返回 void 是因为有 a = b = c 链式操作，如果做一个等号赋值后返回的是 void，就不能再赋值给 a 了</span></pre></td></tr><tr><td data-num="42"></td><td><pre>  MyArray<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> MyArray<span class="token operator">&amp;</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>    <span class="token comment">// 先判断原来堆区是否有数据，如果有先释放</span></pre></td></tr><tr><td data-num="44"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-></span>pAddress <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>      <span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">this</span><span class="token operator">-></span>pAddress<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>      <span class="token keyword">this</span><span class="token operator">-></span>pAddress <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>      <span class="token keyword">this</span><span class="token operator">-></span>m_Capacity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>      <span class="token keyword">this</span><span class="token operator">-></span>m_Size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>    <span class="token comment">// 深拷贝</span></pre></td></tr><tr><td data-num="51"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Capacity <span class="token operator">=</span> arr<span class="token punctuation">.</span>m_Capacity<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Size <span class="token operator">=</span> arr<span class="token punctuation">.</span>m_Size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>pAddress <span class="token operator">=</span> <span class="token keyword">new</span> T<span class="token punctuation">[</span>arr<span class="token punctuation">.</span>m_Capacity<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token operator">-></span>m_Size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>      <span class="token keyword">this</span><span class="token operator">-></span>pAddress<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">.</span>pAddress<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>    <span class="token keyword">return</span> <span class="token operator">*</span><span class="token keyword">this</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="59"></td><td><pre></pre></td></tr><tr><td data-num="60"></td><td><pre>  <span class="token comment">// 尾插法</span></pre></td></tr><tr><td data-num="61"></td><td><pre>  <span class="token keyword">void</span> <span class="token function">pushBack</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> val<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// 为了防止传入的数被修改，一般写 const T&amp;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>    <span class="token comment">// 判断容量是否等于大小</span></pre></td></tr><tr><td data-num="63"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-></span>m_Capacity <span class="token operator">==</span> <span class="token keyword">this</span><span class="token operator">-></span>m_Size<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>      <span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>pAddress<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token operator">-></span>m_Size<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>  <span class="token comment">// 在数组末尾插入数据</span></pre></td></tr><tr><td data-num="67"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Size<span class="token operator">++</span><span class="token punctuation">;</span>                      <span class="token comment">// 更新数组大小</span></pre></td></tr><tr><td data-num="68"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>  <span class="token comment">// 尾删法</span></pre></td></tr><tr><td data-num="70"></td><td><pre>  <span class="token keyword">void</span> <span class="token function">popBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>    <span class="token comment">// 让用户访问不到最后一个元素，即为尾删，逻辑删除</span></pre></td></tr><tr><td data-num="72"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token operator">-></span>m_Size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>      <span class="token keyword">return</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Size<span class="token operator">--</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>  <span class="token comment">// 通过下标方式访问数组中的元素</span></pre></td></tr><tr><td data-num="78"></td><td><pre>  T<span class="token operator">&amp;</span> <span class="token keyword">operator</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//arr [0] = 100。这个函数返回值如果想作为左值存在的话，要返回引用才可以</span></pre></td></tr><tr><td data-num="79"></td><td><pre>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>pAddress<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="80"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="81"></td><td><pre>  <span class="token comment">// 返回数组容量</span></pre></td></tr><tr><td data-num="82"></td><td><pre>  <span class="token keyword">int</span> <span class="token function">getCapacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="83"></td><td><pre>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>m_Capacity<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="85"></td><td><pre>  <span class="token comment">// 返回数组大小</span></pre></td></tr><tr><td data-num="86"></td><td><pre>  <span class="token keyword">int</span> <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token operator">-></span>m_Size<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="88"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="89"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>类模板案例 — 数组类封装.cpp 中</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"myArray.hpp"</span></span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">void</span> <span class="token function">printIntArray</span><span class="token punctuation">(</span>MyArray<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token comment">// 测试自定义数据类型</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  string m_Name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token keyword">int</span> m_Age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre></pre></td></tr><tr><td data-num="17"></td><td><pre>  <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  <span class="token function">Person</span><span class="token punctuation">(</span>string name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Name <span class="token operator">=</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Age <span class="token operator">=</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token keyword">void</span> <span class="token function">printPersonArray</span><span class="token punctuation">(</span>MyArray<span class="token operator">&lt;</span>Person<span class="token operator">></span><span class="token operator">&amp;</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"姓名："</span> <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>m_Name <span class="token operator">&lt;&lt;</span> <span class="token string">" 年龄："</span> <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>m_Age <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>  MyArray<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">arr1</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre>  MyArray<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">arr3</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>  arr3 <span class="token operator">=</span> arr1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre></pre></td></tr><tr><td data-num="35"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    arr1<span class="token punctuation">.</span><span class="token function">pushBack</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 利用尾插法向数组中插入数据</span></pre></td></tr><tr><td data-num="37"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"arr1的打印输出为: "</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>  <span class="token function">printIntArray</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre></pre></td></tr><tr><td data-num="41"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"arr1的容量为："</span> <span class="token operator">&lt;&lt;</span> arr1<span class="token punctuation">.</span><span class="token function">getCapacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="42"></td><td><pre></pre></td></tr><tr><td data-num="43"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"arr1的大小为："</span> <span class="token operator">&lt;&lt;</span> arr1<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre></pre></td></tr><tr><td data-num="45"></td><td><pre>  MyArray<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">arr2</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"arr2的打印输出为："</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>  <span class="token function">printIntArray</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre></pre></td></tr><tr><td data-num="49"></td><td><pre>  arr2<span class="token punctuation">.</span><span class="token function">popBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"arr2尾删后："</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"arr2的容量为："</span> <span class="token operator">&lt;&lt;</span> arr2<span class="token punctuation">.</span><span class="token function">getCapacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"arr2的大小为："</span> <span class="token operator">&lt;&lt;</span> arr2<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre></pre></td></tr><tr><td data-num="54"></td><td><pre>  MyArray<span class="token operator">&lt;</span>Person<span class="token operator">></span> <span class="token function">arr</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>  Person <span class="token function">p1</span><span class="token punctuation">(</span><span class="token string">"孙悟空"</span><span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>  Person <span class="token function">p2</span><span class="token punctuation">(</span><span class="token string">"韩信"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>  Person <span class="token function">p3</span><span class="token punctuation">(</span><span class="token string">"妲己"</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>  Person <span class="token function">p4</span><span class="token punctuation">(</span><span class="token string">"赵云"</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>  Person <span class="token function">p5</span><span class="token punctuation">(</span><span class="token string">"安其拉"</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>  arr<span class="token punctuation">.</span><span class="token function">pushBack</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>  arr<span class="token punctuation">.</span><span class="token function">pushBack</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>  arr<span class="token punctuation">.</span><span class="token function">pushBack</span><span class="token punctuation">(</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>  arr<span class="token punctuation">.</span><span class="token function">pushBack</span><span class="token punctuation">(</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>  arr<span class="token punctuation">.</span><span class="token function">pushBack</span><span class="token punctuation">(</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="65"></td><td><pre>  <span class="token function">printPersonArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"arr的容量为："</span> <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">.</span><span class="token function">getCapacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"arr的大小为："</span> <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre></pre></td></tr><tr><td data-num="69"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>总结：</p><p>能够利用所学知识点实现通用的数组</p><h1 id="2-stl初识"><a class="anchor" href="#2-stl初识">#</a> 2 STL 初识</h1><h2 id="21-stl的诞生"><a class="anchor" href="#21-stl的诞生">#</a> 2.1 STL 的诞生</h2><ul><li>长久以来，软件界一直希望建立一种可重复利用的东西</li><li>C++ 的<strong>面向对象</strong>和<strong>泛型编程</strong>思想，目的就是<strong>复用性的提升</strong></li><li>大多情况下，数据结构和算法都未能有一套标准，导致被迫从事大量重复工作</li><li>为了建立数据结构和算法的一套标准，诞生了<strong> STL</strong></li></ul><h2 id="22-stl基本概念"><a class="anchor" href="#22-stl基本概念">#</a> 2.2 STL 基本概念</h2><ul><li>STL(Standard Template Library,<strong> 标准模板库</strong>)</li><li>STL 从广义上分为: <strong>容器 (container) 算法 (algorithm) 迭代器 (iterator)</strong></li><li><strong>容器</strong>和<strong>算法</strong>之间通过<strong>迭代器</strong>进行无缝连接。</li><li>STL 几乎所有的代码都采用了模板类或者模板函数</li></ul><h2 id="23-stl六大组件"><a class="anchor" href="#23-stl六大组件">#</a> 2.3 STL 六大组件</h2><p>STL 大体分为六大组件，分别是:<strong> 容器、算法、迭代器、仿函数、适配器（配接器）、空间配置器</strong></p><ol><li><p>容器：各种数据结构，如 vector、list、deque、set、map 等，用来存放数据。</p></li><li><p>算法：各种常用的算法，如 sort、find、copy、for_each 等</p></li><li><p>迭代器：扮演了容器与算法之间的胶合剂。</p></li><li><p>仿函数：行为类似函数，可作为算法的某种策略。</p></li><li><p>适配器：一种用来修饰容器或者仿函数或迭代器接口的东西。</p></li><li><p>空间配置器：负责空间的配置与管理。</p><blockquote><p>vector、list 这些容器在用的时候底层有些数据开辟到堆区，开辟到堆区的数据要手动开辟手动释放，程序员不用管，空间配置器帮忙操作空间的开辟 / 释放</p></blockquote></li></ol><h2 id="24-stl中容器-算法-迭代器"><a class="anchor" href="#24-stl中容器-算法-迭代器">#</a> 2.4 STL 中容器、算法、迭代器</h2><p>** 容器：** 置物之所也</p><p>STL<strong> 容器</strong>就是将运用<strong>最广泛的一些数据结构</strong>实现出来</p><p>常用的数据结构：数组，链表，树，栈，队列，集合，映射表 等</p><p>这些容器分为<strong>序列式容器</strong>和<strong>关联式容器</strong>两种:</p><ul><li><p><strong>序列式容器</strong>：强调值的排序，序列式容器中的每个元素均有固定的位置。</p><blockquote><p>比如说现在有一套数据 1 3 5 4 2，把这几个数据放在一个数组中，放完之后的顺序依然是 1 3 5 4 2。每一个元素都有固定位置，会按照插入的顺序往容器里放</p></blockquote></li><li><p><strong>关联式容器</strong>：二叉树结构，各元素之间没有严格的物理上的顺序关系</p><blockquote><p>同样是 1 3 5 4 2 这套数据，放到关联式容器中可能最后打印出来的结果是 1 2 3 4 5，因为在放这些数据的同时做了一个排序的操作</p></blockquote></li></ul><p>** 算法：** 问题之解法也</p><p>有限的步骤，解决逻辑或数学上的问题，这一门学科我们叫做算法 (Algorithms)</p><p>算法分为:<strong> 质变算法</strong>和<strong>非质变算法</strong>。</p><p>质变算法：是指运算过程中会更改区间内的元素的内容。例如拷贝，替换，删除等等</p><p>非质变算法：是指运算过程中不会更改区间内的元素内容，例如查找、计数、遍历、寻找极值等等</p><p>** 迭代器：** 容器和算法之间粘合剂</p><blockquote><p>比如说想提供一套遍历的算法，但是想遍历容器中的数据要通过迭代器才可以。所以算法要通过迭代器才可以访问容器中的元素</p></blockquote><p>提供一种方法，使之能够依序寻访某个容器所含的各个元素，而又无需暴露该容器的内部表示方式。</p><p>每个容器都有自己专属的迭代器</p><p>迭代器使用非常类似于指针，初学阶段我们可以先理解迭代器为指针</p><p>迭代器种类：</p><table><thead><tr><th>种类</th><th>功能</th><th>支持运算</th></tr></thead><tbody><tr><td>输入迭代器</td><td>对数据的只读访问</td><td>只读，支持 ++、==、！=</td></tr><tr><td>输出迭代器</td><td>对数据的只写访问</td><td>只写，支持 ++</td></tr><tr><td>前向迭代器</td><td>读写操作，并能向前推进迭代器</td><td>读写，支持 ++、==、！=</td></tr><tr><td>双向迭代器</td><td>读写操作，并能向前和向后操作</td><td>读写，支持 ++、--，</td></tr><tr><td>随机访问迭代器</td><td>读写操作，可以以跳跃的方式访问任意数据，功能最强的迭代器</td><td>读写，支持 ++、--、[n]、-n、&lt;、&lt;=、&gt;、&gt;=</td></tr></tbody></table><p>常用的容器中迭代器种类为双向迭代器，和随机访问迭代器</p><h2 id="25-容器算法迭代器初识"><a class="anchor" href="#25-容器算法迭代器初识">#</a> 2.5 容器算法迭代器初识</h2><p>了解 STL 中容器、算法、迭代器概念之后，我们利用代码感受 STL 的魅力</p><p>STL 中最常用的容器为 Vector，可以理解为数组，下面我们将学习如何向这个容器中插入数据、并遍历这个容器</p><h3 id="251-vector存放内置数据类型"><a class="anchor" href="#251-vector存放内置数据类型">#</a> 2.5.1 vector 存放内置数据类型</h3><p>容器： <code>vector</code></p><p>算法： <code>for_each</code></p><p>迭代器： <code>vector&lt;int&gt;::iterator</code></p><p><strong>示例：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span>  <span class="token comment">// 标准算法头文件</span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">void</span> <span class="token function">myPrint</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> val <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">//vector 容器存放内置数据类型</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token comment">// 创建了一个 vector 容器，可以把它认为是一个数组</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token comment">// 向容器中插入数据</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>  <span class="token comment">// 通过迭代器访问容器中的数据</span></pre></td></tr><tr><td data-num="20"></td><td><pre>  vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator itBegin <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 起始迭代器，现在认为迭代器是一个指针就行了，指向容器中第一个元素</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator itEnd <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//  结束迭代器，指向容器中最后一个元素的下一个位置</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>  <span class="token comment">// 第一种遍历方式</span></pre></td></tr><tr><td data-num="24"></td><td><pre>  <span class="token keyword">while</span> <span class="token punctuation">(</span>itBegin <span class="token operator">!=</span> itEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>itBegin <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    itBegin<span class="token operator">++</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre>  <span class="token comment">// 第二种遍历方式</span></pre></td></tr><tr><td data-num="30"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre>  <span class="token comment">// 第三种遍历方式：利用 STL 提供的遍历算法</span></pre></td></tr><tr><td data-num="35"></td><td><pre>  <span class="token function">for_each</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> myPrint<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre></pre></td></tr><tr><td data-num="37"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><blockquote><p>for_each 算法式底层实现：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_InputIterator</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">_Function</span><span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">inline</span> _LIBCPP_INLINE_VISIBILITY _LIBCPP_CONSTEXPR_SINCE_CXX20 _Function</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">for_each</span><span class="token punctuation">(</span>_InputIterator __first<span class="token punctuation">,</span> _InputIterator __last<span class="token punctuation">,</span> _Function __f<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> __first <span class="token operator">!=</span> __last<span class="token punctuation">;</span> <span class="token operator">++</span>__first<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token function">__f</span><span class="token punctuation">(</span><span class="token operator">*</span>__first<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token keyword">return</span> __f<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></blockquote><h3 id="252-vector存放自定义数据类型"><a class="anchor" href="#252-vector存放自定义数据类型">#</a> 2.5.2 Vector 存放自定义数据类型</h3><p>学习目标：vector 中存放自定义数据类型，并打印输出</p><p><strong>示例：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 自定义数据类型</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token function">Person</span><span class="token punctuation">(</span>string name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    mName <span class="token operator">=</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    mAge <span class="token operator">=</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  string mName<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token keyword">int</span> mAge<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">// 存放对象</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>  vector<span class="token operator">&lt;</span>Person<span class="token operator">></span> v<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>  <span class="token comment">// 创建数据</span></pre></td></tr><tr><td data-num="22"></td><td><pre>  Person <span class="token function">p1</span><span class="token punctuation">(</span><span class="token string">"aaa"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>  Person <span class="token function">p2</span><span class="token punctuation">(</span><span class="token string">"bbb"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>  Person <span class="token function">p3</span><span class="token punctuation">(</span><span class="token string">"ccc"</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>  Person <span class="token function">p4</span><span class="token punctuation">(</span><span class="token string">"ddd"</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>  Person <span class="token function">p5</span><span class="token punctuation">(</span><span class="token string">"eee"</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>  <span class="token comment">// 向容器中添加数据</span></pre></td></tr><tr><td data-num="28"></td><td><pre>  v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>  v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>  v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>  v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>  v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre>  <span class="token comment">// 遍历容器中的数据</span></pre></td></tr><tr><td data-num="35"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Person<span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Name:"</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">.</span>mName <span class="token operator">&lt;&lt;</span> <span class="token string">" Age:"</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">.</span>mAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Name:"</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span>mName <span class="token operator">&lt;&lt;</span> <span class="token string">" Age:"</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span>mAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="40"></td><td><pre></pre></td></tr><tr><td data-num="41"></td><td><pre><span class="token comment">// 存放自定义数据类型指针</span></pre></td></tr><tr><td data-num="42"></td><td><pre><span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="43"></td><td><pre></pre></td></tr><tr><td data-num="44"></td><td><pre>  vector<span class="token operator">&lt;</span>Person<span class="token operator">*</span><span class="token operator">></span> v<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre></pre></td></tr><tr><td data-num="46"></td><td><pre>  <span class="token comment">// 创建数据</span></pre></td></tr><tr><td data-num="47"></td><td><pre>  Person <span class="token function">p1</span><span class="token punctuation">(</span><span class="token string">"aaa"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>  Person <span class="token function">p2</span><span class="token punctuation">(</span><span class="token string">"bbb"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>  Person <span class="token function">p3</span><span class="token punctuation">(</span><span class="token string">"ccc"</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>  Person <span class="token function">p4</span><span class="token punctuation">(</span><span class="token string">"ddd"</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>  Person <span class="token function">p5</span><span class="token punctuation">(</span><span class="token string">"eee"</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>  v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre>  v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>  v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>  v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>  v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>p5<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre></pre></td></tr><tr><td data-num="58"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Person<span class="token operator">*</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>    Person<span class="token operator">*</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Name:"</span> <span class="token operator">&lt;&lt;</span> p<span class="token operator">-></span>mName <span class="token operator">&lt;&lt;</span> <span class="token string">" Age:"</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token operator">-></span>mAge <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="62"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="63"></td><td><pre></pre></td></tr><tr><td data-num="64"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="65"></td><td><pre></pre></td></tr><tr><td data-num="66"></td><td><pre>  <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>  <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre></pre></td></tr><tr><td data-num="69"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h3 id="253-vector容器嵌套容器"><a class="anchor" href="#253-vector容器嵌套容器">#</a> 2.5.3 Vector 容器嵌套容器</h3><p>学习目标：容器中嵌套容器，我们将所有数据进行遍历输出</p><p><strong>示例：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span> v<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  </pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token comment">// 创建小容器</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v3<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v4<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>  <span class="token comment">// 向小容器中添加数据</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    v1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    v2<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    v3<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    v4<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>  <span class="token comment">// 将容器元素插入到 vector v 中</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>  v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>  v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v3<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>  v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v4<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>  <span class="token comment">// 通过大容器，把所有数据遍历一遍</span></pre></td></tr><tr><td data-num="27"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token keyword">for</span> <span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator vit <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> vit <span class="token operator">!=</span> <span class="token punctuation">(</span><span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> vit<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>      cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>vit <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>  </pre></td></tr><tr><td data-num="34"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h1 id="3-stl-常用容器"><a class="anchor" href="#3-stl-常用容器">#</a> 3 STL- 常用容器</h1><h2 id="31-string容器"><a class="anchor" href="#31-string容器">#</a> 3.1 string 容器</h2><h3 id="311-string基本概念"><a class="anchor" href="#311-string基本概念">#</a> 3.1.1 string 基本概念</h3><p><strong>本质：</strong></p><ul><li>string 是 C++ 风格的字符串，而 string 本质上是一个类</li></ul><p><em><em>string 和 char</em> 区别：</em>*</p><ul><li>char* 是一个指针</li><li>string 是一个类，类内部封装了 <code>char*</code> ，管理这个字符串，是一个 char * 型的容器。</li></ul><p><strong>特点：</strong></p><p>string 类内部封装了很多成员方法</p><p>例如：查找 find，拷贝 copy，删除 delete，替换 replace，插入 insert</p><p><mark>string 管理 char * 所分配的内存，不用担心复制越界和取值越界等，由类内部进行负责</mark></p><h3 id="312-string构造函数"><a class="anchor" href="#312-string构造函数">#</a> 3.1.2 string 构造函数</h3><p>构造函数原型：</p><ul><li><code>string();</code> // 创建一个空的字符串 例如: string str;</li><li><code>string(const char* s);</code> // 使用字符串 s 初始化</li><li><code>string(const string&amp; str);</code> // 使用一个 string 对象初始化另一个 string 对象</li><li><code>string(int n, char c);</code> // 使用 n 个字符 c 初始化</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;string&gt;
//string构造

int main() &#123;

	string s1; //默认构造。创建空字符串，调用无参构造函数
	cout &lt;&lt; &quot;str1 = &quot; &lt;&lt; s1 &lt;&lt; endl;

	const char* str = &quot;hello world&quot;;
	string s2(str); //将一个 C 风格的字符串（即以 null 结尾的字符数组）转换为 C++ 的 std::string 对象
	cout &lt;&lt; &quot;str2 = &quot; &lt;&lt; s2 &lt;&lt; endl;

	string s3(s2); //调用拷贝构造函数
	cout &lt;&lt; &quot;str3 = &quot; &lt;&lt; s3 &lt;&lt; endl;

	string s4(10, 'a');
	cout &lt;&lt; &quot;str3 = &quot; &lt;&lt; s3 &lt;&lt; endl;

	return 0;
&#125;
</code></pre><blockquote><ul><li><code>s2</code> 和 <code>s3</code> 都是 <code>std::string</code> 类型的对象，它们各自维护自己的字符数组。在 C++ 的标准库实现中， <code>std::string</code> 通常会使用动态内存分配来存储字符串的字符数据。</li><li>因此， <code>s2</code> 和 <code>s3</code> 内部的 <code>char*</code> 属性（如果有的话，具体实现可能会有所不同）指向不同的内存地址。 <code>s2</code> 的 <code>char*</code> 指向它自己的字符数组，而 <code>s3</code> 的 <code>char*</code> 指向它自己独立的字符数组。这意味着对 <code>s2</code> 的修改不会影响 <code>s3</code> ，反之亦然。</li></ul><p>因为 string 管理 char * 所分配的内存，不用担心复制越界和取值越界等，由类内部进行负责</p><p><code>std::string</code> 如何管理内存以及它的优势：</p><ol><li><p><strong>内存管理</strong></p><ul><li><p><strong>动态分配</strong>： <code>std::string</code> 会在需要时动态分配内存来存储字符串内容。这意味着你不需要手动管理内存（如使用 <code>new</code> 和 <code>delete</code> ）， <code>std::string</code> 会在对象的生命周期内自动处理内存分配和释放。</p></li><li><p><strong>自动扩展</strong>：当你向 <code>std::string</code> 添加更多字符时，它会自动扩展其内部存储的大小，以适应新的内容。这避免了手动管理字符数组大小的问题。</p></li></ul></li><li><p><strong>安全性</strong></p><ul><li><p><strong>越界检查</strong>： <code>std::string</code> 提供了安全的方法来访问字符，例如使用 <code>at()</code> 方法，它会进行越界检查。如果你尝试访问超出范围的索引，它会抛出异常，而不是导致未定义行为。</p></li><li><p><strong>内存越界</strong>：由于 <code>std::string</code> 管理自己的内存，使用它时不必担心像 C 风格字符串那样的缓冲区溢出问题。</p></li></ul></li><li><p><strong>方便的操作</strong></p><ul><li><p><strong>字符串操作</strong>： <code>std::string</code> 提供了许多方便的方法来处理字符串，例如连接、查找、替换、子串提取等。这些操作都经过优化，使用起来比手动处理字符数组要简单得多。</p></li><li><p><strong>拷贝和赋值</strong>：<mark>当你将一个 <code>std::string</code> 赋值给另一个时，拷贝构造函数和赋值运算符会确保正确地复制内容，而不会出现指针共享的问题。</mark></p></li></ul></li><li><p><strong>资源管理</strong></p><p><strong>RAII（资源获取即初始化）</strong>： <code>std::string</code> 遵循 RAII 原则，确保在对象生命周期结束时自动释放其占用的内存。这减少了内存泄漏的风险。</p></li></ol></blockquote><p>总结：string 的多种构造方式没有可比性，灵活使用即可</p><h3 id="313-string赋值操作"><a class="anchor" href="#313-string赋值操作">#</a> 3.1.3 string 赋值操作</h3><p>功能描述：</p><p>给 string 字符串进行赋值</p><blockquote><p>在初始化过后，重新给它的 char * 属性赋新的值</p></blockquote><p>赋值的函数原型：</p><ul><li><code>string&amp; operator=(const char* s);</code> //char * 类型字符串 赋值给当前的字符串</li><li><code>string&amp; operator=(const string &amp;s);</code> // 把字符串 s 赋给当前的字符串</li><li><code>string&amp; operator=(char c);</code> // 字符赋值给当前的字符串</li><li><code>string&amp; assign(const char *s);</code> // 把字符串 s 赋给当前的字符串</li><li><code>string&amp; assign(const char *s, int n);</code> // 把字符串 s 的前 n 个字符赋给当前的字符串</li><li><code>string&amp; assign(const string &amp;s);</code> // 把字符串 s 赋给当前字符串</li><li><code>string&amp; assign(int n, char c);</code> // 用 n 个字符 c 赋给当前字符串</li></ul><p><strong>示例：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 赋值</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>  string str1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  str1 <span class="token operator">=</span> <span class="token string">"hello world"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"str1 = "</span> <span class="token operator">&lt;&lt;</span> str1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">// hello world</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>  string str2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  str2 <span class="token operator">=</span> str1<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"str2 = "</span> <span class="token operator">&lt;&lt;</span> str2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">// hello world</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>  string str3<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  str3 <span class="token operator">=</span> <span class="token char">'a'</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"str3 = "</span> <span class="token operator">&lt;&lt;</span> str3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">// a</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>  string str4<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>  str4<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string">"hello c++"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"str4 = "</span> <span class="token operator">&lt;&lt;</span> str4 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">// hello c++</span></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre>  string str5<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>  str5<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token string">"hello c++"</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"str5 = "</span> <span class="token operator">&lt;&lt;</span> str5 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">// hello</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>  string str6<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>  str6<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>str5<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"str6 = "</span> <span class="token operator">&lt;&lt;</span> str6 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">// hello</span></pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre>  string str7<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>  str7<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token char">'x'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"str7 = "</span> <span class="token operator">&lt;&lt;</span> str7 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token comment">// xxxxx</span></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>总结：</p><p>string 的赋值方式很多， <code>operator=</code> 这种方式是比较实用的</p><h3 id="314-string字符串拼接"><a class="anchor" href="#314-string字符串拼接">#</a> 3.1.4 string 字符串拼接</h3><p><strong>功能描述：</strong></p><ul><li>实现在字符串末尾拼接字符串</li></ul><p><strong>函数原型：</strong></p><ul><li><code>string&amp; operator+=(const char* str);</code> // 重载 += 操作符</li><li><code>string&amp; operator+=(const char c);</code> // 重载 += 操作符</li><li><code>string&amp; operator+=(const string&amp; str);</code> // 重载 += 操作符</li><li><code>string&amp; append(const char *s);</code> // 把字符串 s 连接到当前字符串结尾</li><li><code>string&amp; append(const char *s, int n);</code> // 把字符串 s 的前 n 个字符连接到当前字符串结尾</li><li><code>string&amp; append(const string &amp;s);</code> // 同 operator+=(const string&amp; str)</li><li><code>string&amp; append(const string &amp;s, int pos, int n);</code> // 字符串 s 中从 pos 开始的 n 个字符连接到字符串结尾</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;string&gt;

//字符串拼接
int main() &#123;

	string str1 = &quot;我&quot;;
	str1 += &quot;爱玩游戏&quot;;
	cout &lt;&lt; &quot;str1 = &quot; &lt;&lt; str1 &lt;&lt; endl;// 我爱玩游戏
  
	str1 += ':';
	cout &lt;&lt; &quot;str1 = &quot; &lt;&lt; str1 &lt;&lt; endl;// 我爱玩游戏:
  
	string str2 = &quot;LOL DNF&quot;;
	str1 += str2;
	cout &lt;&lt; &quot;str1 = &quot; &lt;&lt; str1 &lt;&lt; endl;// 我爱玩游戏:LOL DNF

	string str3 = &quot;I&quot;;
	str3.append(&quot; love &quot;);
  
	str3.append(&quot;game abcde&quot;, 4);
  
	str3.append(str2);
  
	str3.append(str2, 4, 3); // 从下标4位置开始 ，截取3个字符，拼接到字符串末尾
	cout &lt;&lt; &quot;str3 = &quot; &lt;&lt; str3 &lt;&lt; endl;// I love gameLOL DNFDNF

	return 0;
&#125;
</code></pre><p>总结：字符串拼接的重载版本很多，初学阶段记住几种即可</p><h3 id="315-string查找和替换"><a class="anchor" href="#315-string查找和替换">#</a> 3.1.5 string 查找和替换</h3><p><strong>功能描述：</strong></p><ul><li>查找：查找指定字符串是否存在</li><li>替换：在指定的位置替换字符串</li></ul><p><strong>函数原型：</strong></p><ul><li><code>int find(const string&amp; str, int pos = 0) const;</code> // 查找 str 第一次出现位置，从 pos 开始查找</li><li><code>int find(const char* s, int pos = 0) const;</code> // 查找 s 第一次出现位置，从 pos 开始查找</li><li><code>int find(const char* s, int pos, int n) const;</code> // 从 pos 位置查找 s 的前 n 个字符第一次位置</li><li><code>int find(const char c, int pos = 0) const;</code> // 查找字符 c 第一次出现位置</li><li><code>int rfind(const string&amp; str, int pos = npos) const;</code> // 查找 str 最后一次位置，从 pos 开始查找</li><li><code>int rfind(const char* s, int pos = npos) const;</code> // 查找 s 最后一次出现位置，从 pos 开始查找</li><li><code>int rfind(const char* s, int pos, int n) const;</code> // 从 pos 查找 s 的前 n 个字符最后一次位置</li><li><code>int rfind(const char c, int pos = 0) const;</code> // 查找字符 c 最后一次出现位置</li><li><code>string&amp; replace(int pos, int n, const string&amp; str);</code> // 替换从 pos 开始 n 个字符为字符串 str</li><li><code>string&amp; replace(int pos, int n,const char* s);</code> // 替换从 pos 开始的 n 个字符为字符串 s</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">void test01() &#123;
	//查找
	string str1 = &quot;abcdefgde&quot;;

	int pos = str1.find(&quot;de&quot;);
	if (pos == -1) &#123;
		cout &lt;&lt; &quot;未找到&quot; &lt;&lt; endl;
	&#125; else &#123;
		cout &lt;&lt; &quot;pos = &quot; &lt;&lt; pos &lt;&lt; endl;// 3
	&#125;

	pos = str1.rfind(&quot;de&quot;);
	cout &lt;&lt; &quot;pos = &quot; &lt;&lt; pos &lt;&lt; endl;// 7
&#125;

void test02() &#123;
	//替换
	string str1 = &quot;abcdefgde&quot;;
	str1.replace(1, 3, &quot;1111&quot;);// 从1号位置起的3个字符替换为&quot;1111&quot;
	cout &lt;&lt; &quot;str1 = &quot; &lt;&lt; str1 &lt;&lt; endl;// a1111efgde
&#125;

int main() &#123;

	test01();
	test02();

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>find 查找是从左往后，rfind 从右往左</li><li>find 找到字符串后返回查找的第一个字符位置，找不到返回 - 1</li><li>replace 在替换时，要指定从哪个位置起，多少个字符，替换成什么样的字符串</li></ul><h3 id="316-string字符串比较"><a class="anchor" href="#316-string字符串比较">#</a> 3.1.6 string 字符串比较</h3><p><strong>功能描述：</strong></p><ul><li>字符串之间的比较</li></ul><p><strong>比较方式：</strong></p><ul><li>字符串比较是按字符的 ASCII 码进行对比</li></ul><p>= 返回 0</p><p>&gt; 返回 1</p><p>&lt; 返回 -1</p><p><strong>函数原型：</strong></p><ul><li><code>int compare(const string &amp;s) const;</code> // 与字符串 s 比较</li><li><code>int compare(const char *s) const;</code> // 与字符串 s 比较</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">//字符串比较
int main() &#123;

	string s1 = &quot;hello&quot;;
	string s2 = &quot;aello&quot;;

	int ret = s1.compare(s2);// 1

	if (ret == 0) &#123;
		cout &lt;&lt; &quot;s1 等于 s2&quot; &lt;&lt; endl;
	&#125; else if (ret &gt; 0) &#123;
		cout &lt;&lt; &quot;s1 大于 s2&quot; &lt;&lt; endl;
	&#125; else &#123;
		cout &lt;&lt; &quot;s1 小于 s2&quot; &lt;&lt; endl;
	&#125;

	return 0;
&#125;
</code></pre><p>总结：字符串对比主要是用于比较两个字符串是否相等，判断谁大谁小的意义并不是很大</p><h3 id="317-string字符存取"><a class="anchor" href="#317-string字符存取">#</a> 3.1.7 string 字符存取</h3><p>string 中单个字符存取方式有两种</p><ul><li><code>char&amp; operator[](int n);</code> // 通过 [] 方式取字符</li><li><code>char&amp; at(int n);</code> // 通过 at 方法获取字符</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">int main() &#123;

	string str = &quot;hello world&quot;;

	for (int i = 0; i &lt; str.size(); i++) &#123;
		cout &lt;&lt; str[i] &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;

	for (int i = 0; i &lt; str.size(); i++) &#123;
		cout &lt;&lt; str.at(i) &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;

	//字符修改
	str[0] = 'x';
	str.at(1) = 'x';
	cout &lt;&lt; str &lt;&lt; endl;// xxllo world

	return 0;
&#125;
</code></pre><p>总结：string 字符串中单个字符存取有两种方式，利用 [ ] 或 at</p><h3 id="318-string插入和删除"><a class="anchor" href="#318-string插入和删除">#</a> 3.1.8 string 插入和删除</h3><p><strong>功能描述：</strong></p><ul><li>对 string 字符串进行插入和删除字符操作</li></ul><p><strong>函数原型：</strong></p><ul><li><code>string&amp; insert(int pos, const char* s);</code> // 插入字符串</li><li><code>string&amp; insert(int pos, const string&amp; str);</code> // 插入字符串</li><li><code>string&amp; insert(int pos, int n, char c);</code> // 在指定位置插入 n 个字符 c</li><li><code>string&amp; erase(int pos, int n = npos);</code> // 删除从 Pos 开始的 n 个字符</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">int main() &#123;

	string str = &quot;hello&quot;;
	str.insert(1, &quot;111&quot;);
	cout &lt;&lt; str &lt;&lt; endl;// h111ello

	str.erase(1, 3);  //从1号位置开始3个字符
	cout &lt;&lt; str &lt;&lt; endl;// hello

	return 0;
&#125;
</code></pre><p>** 总结：** 插入和删除的起始下标都是从 0 开始</p><h3 id="319-string子串"><a class="anchor" href="#319-string子串">#</a> 3.1.9 string 子串</h3><p><strong>功能描述：</strong></p><ul><li>从字符串中获取想要的子串</li></ul><p><strong>函数原型：</strong></p><ul><li><code>string substr(int pos = 0, int n = npos) const;</code> // 返回由 pos 开始的 n 个字符组成的字符串</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">//子串
int main() &#123;

	string str = &quot;abcdefg&quot;;
	string subStr = str.substr(1, 3);
	cout &lt;&lt; &quot;subStr = &quot; &lt;&lt; subStr &lt;&lt; endl;// bcd

	string email = &quot;hello@sina.com&quot;;
	int pos = email.find(&quot;@&quot;);
	string username = email.substr(0, pos);
	cout &lt;&lt; &quot;username: &quot; &lt;&lt; username &lt;&lt; endl;// hello

	return 0;
&#125;
</code></pre><p>** 总结：** 灵活的运用求子串功能，可以在实际开发中获取有效的信息</p><h2 id="32-vector容器"><a class="anchor" href="#32-vector容器">#</a> 3.2 vector 容器</h2><h3 id="321-vector基本概念"><a class="anchor" href="#321-vector基本概念">#</a> 3.2.1 vector 基本概念</h3><p><strong>功能：</strong></p><ul><li>vector 数据结构和<strong>数组非常相似</strong>，也称为<strong>单端数组</strong></li></ul><p><strong>vector 与普通数组区别：</strong></p><ul><li><p>不同之处在于数组是静态空间，而 vector 可以<strong>动态扩展</strong></p><blockquote><p>比如现在写一个数组之后，一旦分配了内存，就不能再扩展了，也不能再少了</p></blockquote></li></ul><p><strong>动态扩展：</strong></p><ul><li>并不是在原空间之后续接新空间，而是找更大的内存空间，然后将原数据拷贝新空间，释放原空间</li></ul><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411111442928.jpg" alt=""></p><blockquote><p>front () 代表容器中第一个元素，back () 是容器的最后一个元素</p><p>v.begin () 这个迭代器指向它第一个元素，v.rbegin () 指向倒数第一个元素，rend () 指向第一个元素的前一个位置</p></blockquote><ul><li><p>vector 容器的迭代器是支持随机访问的迭代器</p><blockquote><p>vector 容器的迭代器可以一下跳好几个，跳跃式地访问。比如 v.begin () 迭代器一下可以加 3 / 加 4 再访问指向的元素</p></blockquote></li></ul><h3 id="322-vector构造函数"><a class="anchor" href="#322-vector构造函数">#</a> 3.2.2 vector 构造函数</h3><p><strong>功能描述：</strong></p><ul><li>创建 vector 容器</li></ul><p><strong>函数原型：</strong></p><ul><li><code>vector&lt;T&gt; v;</code> // 采用模板实现类实现，默认构造函数</li><li><code>vector(v.begin(), v.end());</code> // 将 v [begin (), end ()) 区间中的元素拷贝给本身。</li><li><code>vector(n, elem);</code> // 构造函数将 n 个 elem 拷贝给本身。</li><li><code>vector(const vector&amp; vec);</code> // 拷贝构造函数。</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;vector&gt;

void printVector(vector&lt;int&gt;&amp; v) &#123;
	for (vector&lt;int&gt;::iterator it = v.begin(); it != v.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
&#125;

int main() &#123;

	vector&lt;int&gt; v1; //无参构造，默认构造
	for (int i = 0; i &lt; 10; i++) &#123;
		v1.push_back(i);
	&#125;
	printVector(v1);

	vector&lt;int&gt; v2(v1.begin(), v1.end());// 通过区间方式进行构造。把两个迭代器传进去，把迭代器之间的数据赋值给v2
	printVector(v2);

	vector&lt;int&gt; v3(10, 100);// n个elem方式构造
	printVector(v3);
	
	vector&lt;int&gt; v4(v3);// 拷贝构造
	printVector(v4);

	return 0;
&#125;
</code></pre><p>** 总结：**vector 的多种构造方式没有可比性，灵活使用即可</p><h3 id="323-vector赋值操作"><a class="anchor" href="#323-vector赋值操作">#</a> 3.2.3 vector 赋值操作</h3><p><strong>功能描述：</strong></p><ul><li>给 vector 容器进行赋值</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>vector&amp; operator=(const vector &amp;vec);</code> // 重载等号操作符</p></li><li><p><code>assign(beg, end);</code> // 将 [beg, end) 区间中的数据拷贝赋值给本身。</p></li><li><p><code>assign(n, elem);</code> // 将 n 个 elem 拷贝赋值给本身。</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;vector&gt;

void printVector(vector&lt;int&gt;&amp; v) &#123;
	for (vector&lt;int&gt;::iterator it = v.begin(); it != v.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
&#125;

//赋值操作
int main() &#123;

	vector&lt;int&gt; v1; //无参构造
	for (int i = 0; i &lt; 10; i++) &#123;
		v1.push_back(i);
	&#125;
	printVector(v1);

	vector&lt;int&gt; v2;
	v2 = v1;// 1、operator=赋值
	printVector(v2);

	vector&lt;int&gt; v3;
	v3.assign(v1.begin(), v1.end());// 2、assign
	printVector(v3);

	vector&lt;int&gt; v4;
	v4.assign(10, 100);// 3、n个elem方式赋值
	printVector(v4);

	return 0;
&#125;
</code></pre><p>总结： vector 赋值方式比较简单，使用 operator=，或者 assign 都可以</p><h3 id="324-vector容量和大小"><a class="anchor" href="#324-vector容量和大小">#</a> 3.2.4 vector 容量和大小</h3><p><strong>功能描述：</strong></p><ul><li>对 vector 容器的容量和大小操作</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>empty();</code> // 判断容器是否为空</p></li><li><p><code>capacity();</code> // 容器的容量</p></li><li><p><code>size();</code> // 返回容器中元素的个数</p></li><li><p><code>resize(int num);</code> // 重新指定容器的长度为 num，若容器变长，则以默认值填充新位置。</p><p>​ // 如果容器变短，则末尾超出容器长度的元素被删除。</p></li><li><p><code>resize(int num, elem);</code> // 重新指定容器的长度为 num，若容器变长，则以 elem 值填充新位置。</p><p>​ // 如果容器变短，则末尾超出容器长度的元素被删除</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;vector&gt;

void printVector(vector&lt;int&gt;&amp; v) &#123;
	for (vector&lt;int&gt;::iterator it = v.begin(); it != v.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
&#125;

int main() &#123;

	vector&lt;int&gt; v1;
	for (int i = 0; i &lt; 10; i++) &#123;
		v1.push_back(i);
	&#125;
	printVector(v1);
	if (v1.empty()) &#123;
		cout &lt;&lt; &quot;v1为空&quot; &lt;&lt; endl;
	&#125; else &#123;
		cout &lt;&lt; &quot;v1不为空&quot; &lt;&lt; endl;
		cout &lt;&lt; &quot;v1的容量 = &quot; &lt;&lt; v1.capacity() &lt;&lt; endl;// 13
		cout &lt;&lt; &quot;v1的大小 = &quot; &lt;&lt; v1.size() &lt;&lt; endl;// 10
	&#125;

	//resize 重新指定大小 ，若指定的更大，默认用0填充新位置，可以利用重载版本替换默认填充
	v1.resize(15,10);
	printVector(v1);

	//resize 重新指定大小 ，若指定的更小，超出部分元素被删除
	v1.resize(5);
	printVector(v1);

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>判断是否为空 --- empty</li><li>返回元素个数 --- size</li><li>返回容器容量 --- capacity</li><li>重新指定大小 --- resize</li></ul><h3 id="325-vector插入和删除"><a class="anchor" href="#325-vector插入和删除">#</a> 3.2.5 vector 插入和删除</h3><p><strong>功能描述：</strong></p><ul><li>对 vector 容器进行插入、删除操作</li></ul><p><strong>函数原型：</strong></p><ul><li><code>push_back(ele);</code> // 尾部插入元素 ele</li><li><code>pop_back();</code> // 删除最后一个元素</li><li><code>insert(const_iterator pos, ele);</code> // 迭代器指向位置 pos 插入元素 ele</li><li><code>insert(const_iterator pos, int count,ele);</code> // 迭代器指向位置 pos 插入 count 个元素 ele</li><li><code>erase(const_iterator pos);</code> // 删除迭代器指向的元素</li><li><code>erase(const_iterator start, const_iterator end);</code> // 删除迭代器从 start 到 end 之间的元素</li><li><code>clear();</code> // 删除容器中所有元素</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;vector&gt;

void printVector(vector&lt;int&gt;&amp; v) &#123;
	for (vector&lt;int&gt;::iterator it = v.begin(); it != v.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
&#125;

//插入和删除
int main() &#123;

	vector&lt;int&gt; v1;
	//尾插
	v1.push_back(10);
	v1.push_back(20);
	v1.push_back(30);
	v1.push_back(40);
	v1.push_back(50);
	printVector(v1);
	//尾删
	v1.pop_back();
	printVector(v1);
	//插入，第一个参数是迭代器
	v1.insert(v1.begin(), 100);
	printVector(v1);
	v1.insert(v1.begin(), 2, 1000);
	printVector(v1);
	//删除，参数也是迭代器
	v1.erase(v1.begin());
	printVector(v1);
	v1.erase(v1.begin(), v1.end());
	//清空
	v1.clear();
	printVector(v1);

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>尾插 --- push_back</li><li>尾删 --- pop_back</li><li>插入 --- insert (位置迭代器)</li><li>删除 --- erase （位置迭代器）</li><li>清空 --- clear</li></ul><h3 id="326-vector数据存取"><a class="anchor" href="#326-vector数据存取">#</a> 3.2.6 vector 数据存取</h3><p><strong>功能描述：</strong></p><ul><li>对 vector 中的数据的存取操作</li></ul><p><strong>函数原型：</strong></p><ul><li><code>at(int idx);</code> // 返回索引 idx 所指的数据</li><li><code>operator[];</code> // 返回索引 idx 所指的数据</li><li><code>front();</code> // 返回容器中第一个数据元素</li><li><code>back();</code> // 返回容器中最后一个数据元素</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;vector&gt;

int main() &#123;
  vector&lt;int&gt; v1;
	for (int i = 0; i &lt; 10; i++) &#123;
		v1.push_back(i);
	&#125;

  // 利用[]方式访问容器中元素
	for (int i = 0; i &lt; v1.size(); i++) &#123;
		cout &lt;&lt; v1[i] &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;

  // 利用at方式访问元素
	for (int i = 0; i &lt; v1.size(); i++) &#123;
		cout &lt;&lt; v1.at(i) &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;

	cout &lt;&lt; &quot;v1的第一个元素为： &quot; &lt;&lt; v1.front() &lt;&lt; endl;
	cout &lt;&lt; &quot;v1的最后一个元素为： &quot; &lt;&lt; v1.back() &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>除了用迭代器获取 vector 容器中元素，[ ] 和 at 也可以</li><li>front 返回容器第一个元素</li><li>back 返回容器最后一个元素</li></ul><h3 id="327-vector互换容器"><a class="anchor" href="#327-vector互换容器">#</a> 3.2.7 vector 互换容器</h3><p><strong>功能描述：</strong></p><ul><li>实现两个容器内元素进行互换</li></ul><p><strong>函数原型：</strong></p><ul><li><code>swap(vec);</code> // 将 vec 与本身的元素互换</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;vector&gt;

void printVector(vector&lt;int&gt;&amp; v) &#123;
	for (vector&lt;int&gt;::iterator it = v.begin(); it != v.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
&#125;

void test01() &#123;
	vector&lt;int&gt; v1;
	for (int i = 0; i &lt; 10; i++) &#123;
		v1.push_back(i);
	&#125;
	printVector(v1);// 0 1 2 3 4 5 6 7 8 9 

	vector&lt;int&gt; v2;
	for (int i = 10; i &gt; 0; i--) &#123;
		v2.push_back(i);
	&#125;
	printVector(v2);// 10 9 8 7 6 5 4 3 2 1 

	//互换容器
	cout &lt;&lt; &quot;互换后&quot; &lt;&lt; endl;
	v1.swap(v2);
	printVector(v1);// 10 9 8 7 6 5 4 3 2 1 
	printVector(v2);// 0 1 2 3 4 5 6 7 8 9 
&#125;

// 实际用途：巧用swap可以收缩内存空间
void test02() &#123;
	vector&lt;int&gt; v;
	for (int i = 0; i &lt; 100000; i++) &#123;
		v.push_back(i);
	&#125;
	cout &lt;&lt; &quot;v的容量为：&quot; &lt;&lt; v.capacity() &lt;&lt; endl;// 138255
	cout &lt;&lt; &quot;v的大小为：&quot; &lt;&lt; v.size() &lt;&lt; endl;// 100000

	v.resize(3);
	cout &lt;&lt; &quot;v的容量为：&quot; &lt;&lt; v.capacity() &lt;&lt; endl;// 138255
	cout &lt;&lt; &quot;v的大小为：&quot; &lt;&lt; v.size() &lt;&lt; endl;// 3

	//巧用swap收缩内存
	vector&lt;int&gt;(v).swap(v); 
  // vector&lt;int&gt;(v)是一个匿名对象，调用拷贝构造函数拷贝v来创建的新对象。按照v的目前所用的元素个数来初始化这个匿名对象的大小，所以这个匿名对象一开始的容量就是3，大小也是3
  // swap(v)互换元素类似于指针的交换，容器交换之后v指向匿名对象，匿名对象指向v。所以再输出v的容量是3，v的大小也是3
  // 当前行代码执行完之后，编译器回收匿名对象，程序员不用管了，匿名对象不会再占用空间
	cout &lt;&lt; &quot;v的容量为：&quot; &lt;&lt; v.capacity() &lt;&lt; endl;// 3
	cout &lt;&lt; &quot;v的大小为：&quot; &lt;&lt; v.size() &lt;&lt; endl;// 3
&#125;

int main() &#123;

	test01();
	test02();

	return 0;
&#125;
</code></pre><blockquote><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411111544241.png" alt=""></p></blockquote><p>总结：swap 可以使两个容器互换，可以达到实用的收缩内存效果</p><h3 id="328-vector预留空间"><a class="anchor" href="#328-vector预留空间">#</a> 3.2.8 vector 预留空间</h3><p><strong>功能描述：</strong></p><ul><li>减少 vector 在动态扩展容量时的扩展次数</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>reserve(int len);</code> // 容器预留 len 个元素长度，预留位置不初始化，元素不可访问。</p><blockquote><p>和 resize 不一样， <code>resize(int num, elem);</code> 可以初始化数据，若不传 elem 参数则初始化为默认值 0。reserve 只是找一块空地，空地上边什么都没有，所以不能访问这里边的元素。预留空间的意义只是分配内存了，但内存上边的数据没初始化</p></blockquote></li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;vector&gt;

int main() &#123;

	vector&lt;int&gt; v;
	//预留空间。上来就找了一块可以放10万个int的空间
	v.reserve(100000);

	int num = 0;// 统计开辟次数：即动态扩展的次数，找块更大的新空间，把原有数据拷贝到新空间下边，再释放掉原有的空间。若不预留空间，这样的操作重复做了30次，才把10万个数据全都放到新空间下了
	int* p = NULL;
	for (int i = 0; i &lt; 100000; i++) &#123;
		v.push_back(i);
		if (p != &amp;v[0]) &#123;
			p = &amp;v[0];
			num++;
		&#125;
	&#125;

	cout &lt;&lt; &quot;num:&quot; &lt;&lt; num &lt;&lt; endl;// 若不写v.reserve(100000);则打印30，写了打印1

	return 0;
&#125;
</code></pre><p>总结：如果数据量较大，可以一开始利用 reserve 预留空间</p><h2 id="33-deque容器"><a class="anchor" href="#33-deque容器">#</a> 3.3 deque 容器</h2><h3 id="331-deque容器基本概念"><a class="anchor" href="#331-deque容器基本概念">#</a> 3.3.1 deque 容器基本概念</h3><p><strong>功能：</strong></p><ul><li>双端数组，可以对头端进行插入删除操作</li></ul><p><strong>deque 与 vector 区别：</strong></p><ul><li>vector 对于头部的插入删除效率低，数据量越大，效率越低</li><li>deque 相对而言，对头部的插入删除速度回比 vector 快</li><li>vector 访问元素时的速度会比 deque 快，这和两者内部实现有关</li></ul><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411111611293.jpg" alt=""></p><p>deque 内部工作原理:</p><p>deque 内部有个<strong>中控器</strong>，维护每段缓冲区中的内容，缓冲区中存放真实数据</p><p>中控器维护的是每个缓冲区的地址，使得使用 deque 时像一片连续的内存空间</p><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411111612226.jpg" alt=""></p><blockquote><p>当数据进行尾部的插入的时候，就往第三排后边再插一个元素 ele... 插满了之后再插数据就再找一段缓冲区插一个新的数据 ele 进去，然后在中控器中记录这块缓冲区的地理位置比如 0x04。头部也一样，紧挨着第一个 ele 的左边开始插</p><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411111618185.png" alt=""></p><p>只不过访问数据的速度没有 vector 快，因为访问到第一排末尾之后，再访问下一排元素，要通过中控器中的地址去找到下一个缓冲区的数据</p></blockquote><ul><li><p>deque 容器的迭代器也是支持随机访问的</p><blockquote><p>也可以跳跃式地访问 deque 里边的元素</p></blockquote></li></ul><h3 id="332-deque构造函数"><a class="anchor" href="#332-deque构造函数">#</a> 3.3.2 deque 构造函数</h3><p><strong>功能描述：</strong></p><ul><li>deque 容器构造</li></ul><p><strong>函数原型：</strong></p><ul><li><code>deque&lt;T&gt;</code> deqT; // 默认构造形式</li><li><code>deque(beg, end);</code> // 构造函数将 [beg, end) 区间中的元素拷贝给本身。</li><li><code>deque(n, elem);</code> // 构造函数将 n 个 elem 拷贝给本身。</li><li><code>deque(const deque&amp; deq);</code> // 拷贝构造函数</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;deque&gt;

void printDeque(const deque&lt;int&gt;&amp; d) &#123;
	for (deque&lt;int&gt;::const_iterator it = d.begin(); it != d.end(); it++) &#123;
    // *it = 100;// 除了读，还可以做写操作。为了防止写操作通常可以在容器deque&lt;int&gt;&amp; d前加一个const来限定容器只读。这时候要普通的迭代器deque&lt;int&gt;::iterator就不够了，所以要变成const_iterator
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
&#125;

//deque构造
int main() &#123;

	deque&lt;int&gt; d1; //无参构造函数
	for (int i = 0; i &lt; 10; i++) &#123;
		d1.push_back(i);
	&#125;
	printDeque(d1);
	deque&lt;int&gt; d2(d1.begin(),d1.end());
	printDeque(d2);

	deque&lt;int&gt; d3(10,100);
	printDeque(d3);

	deque&lt;int&gt; d4(d3);
	printDeque(d4);

	return 0;
&#125;
</code></pre><p>** 总结：**deque 容器和 vector 容器的构造方式几乎一致，灵活使用即可</p><h3 id="333-deque赋值操作"><a class="anchor" href="#333-deque赋值操作">#</a> 3.3.3 deque 赋值操作</h3><p><strong>功能描述：</strong></p><ul><li>给 deque 容器进行赋值</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>deque&amp; operator=(const deque&amp; deq);</code> // 重载等号操作符</p></li><li><p><code>assign(beg, end);</code> // 将 [beg, end) 区间中的数据拷贝赋值给本身。</p></li><li><p><code>assign(n, elem);</code> // 将 n 个 elem 拷贝赋值给本身。</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;deque&gt;

void printDeque(const deque&lt;int&gt;&amp; d) &#123;
	for (deque&lt;int&gt;::const_iterator it = d.begin(); it != d.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
&#125;

//赋值操作
int main() &#123;

	deque&lt;int&gt; d1;
	for (int i = 0; i &lt; 10; i++) &#123;
		d1.push_back(i);
	&#125;
	printDeque(d1);

	deque&lt;int&gt; d2;
	d2 = d1;// operator=赋值
	printDeque(d2);

	deque&lt;int&gt; d3;
	d3.assign(d1.begin(), d1.end());// assign赋值
	printDeque(d3);

	deque&lt;int&gt; d4;
	d4.assign(10, 100);
	printDeque(d4);

	return 0;
&#125;
</code></pre><p>总结：deque 赋值操作也与 vector 相同，需熟练掌握</p><h3 id="334-deque大小操作"><a class="anchor" href="#334-deque大小操作">#</a> 3.3.4 deque 大小操作</h3><p><strong>功能描述：</strong></p><ul><li>对 deque 容器的大小进行操作</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>deque.empty();</code> // 判断容器是否为空</p></li><li><p><code>deque.size();</code> // 返回容器中元素的个数</p></li><li><p><code>deque.resize(num);</code> // 重新指定容器的长度为 num, 若容器变长，则以默认值填充新位置。</p><p>​ // 如果容器变短，则末尾超出容器长度的元素被删除。</p></li><li><p><code>deque.resize(num, elem);</code> // 重新指定容器的长度为 num, 若容器变长，则以 elem 值填充新位置。</p><p>​ // 如果容器变短，则末尾超出容器长度的元素被删除。</p></li></ul><blockquote><p>vector 容器中大小操作里边有一个获取它的容量，但 deque 容器是没有容量的概念的，因为它的内部结构根本就没有容量的限制，它可以无限地往后开辟新缓冲区，中控器去维护那些一小段一小段的空间，加一个地址就可以了</p></blockquote><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;deque&gt;

void printDeque(const deque&lt;int&gt;&amp; d) &#123;
	for (deque&lt;int&gt;::const_iterator it = d.begin(); it != d.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
&#125;

//deque容器大小操作
int main() &#123;

	deque&lt;int&gt; d1;
	for (int i = 0; i &lt; 10; i++) &#123;
		d1.push_back(i);
	&#125;
	printDeque(d1);

	//判断容器是否为空
	if (d1.empty()) &#123;
		cout &lt;&lt; &quot;d1为空!&quot; &lt;&lt; endl;
	&#125; else &#123;
		cout &lt;&lt; &quot;d1不为空!&quot; &lt;&lt; endl;
		//统计大小
		cout &lt;&lt; &quot;d1的大小为：&quot; &lt;&lt; d1.size() &lt;&lt; endl;// 10
    // deque容器没有容量概念
	&#125;

	//重新指定大小
	d1.resize(15, 1);
	printDeque(d1);
	d1.resize(5);
	printDeque(d1);

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>deque 没有容量的概念</li><li>判断是否为空 --- empty</li><li>返回元素个数 --- size</li><li>重新指定个数 --- resize</li></ul><h3 id="335-deque-插入和删除"><a class="anchor" href="#335-deque-插入和删除">#</a> 3.3.5 deque 插入和删除</h3><p><strong>功能描述：</strong></p><ul><li>向 deque 容器中插入和删除数据</li></ul><p><strong>函数原型：</strong></p><p>两端插入操作：</p><ul><li><code>push_back(elem);</code> // 在容器尾部添加一个数据</li><li><code>push_front(elem);</code> // 在容器头部插入一个数据</li><li><code>pop_back();</code> // 删除容器最后一个数据</li><li><code>pop_front();</code> // 删除容器第一个数据</li></ul><p>指定位置操作：</p><ul><li><p><code>insert(pos,elem);</code> // 在 pos 位置插入一个 elem 元素的拷贝，返回新数据的位置。</p></li><li><p><code>insert(pos,n,elem);</code> // 在 pos 位置插入 n 个 elem 数据，无返回值。</p></li><li><p><code>insert(pos,beg,end);</code> // 在 pos 位置插入 [beg,end) 区间的数据，无返回值。</p></li><li><p><code>clear();</code> // 清空容器的所有数据</p></li><li><p><code>erase(beg,end);</code> // 删除 [beg,end) 区间的数据，返回下一个数据的位置。</p></li><li><p><code>erase(pos);</code> // 删除 pos 位置的数据，返回下一个数据的位置。</p></li></ul><p><strong>示例：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;deque></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">void</span> <span class="token function">printDeque</span><span class="token punctuation">(</span><span class="token keyword">const</span> deque<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> d<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span>deque<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>const_iterator it <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> d<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 两端操作</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  deque<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> d<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token comment">// 尾插</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token comment">// 头插</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>  <span class="token function">printDeque</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 200 100 10 20</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>  <span class="token comment">// 尾删</span></pre></td></tr><tr><td data-num="22"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>  <span class="token comment">// 头删</span></pre></td></tr><tr><td data-num="24"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>  <span class="token function">printDeque</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 100 10</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token comment">// 插入</span></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>  deque<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> d<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>  <span class="token function">printDeque</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre></pre></td></tr><tr><td data-num="37"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>  <span class="token function">printDeque</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>  <span class="token function">printDeque</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 10000 10000 1000 200 100 10 20</span></pre></td></tr><tr><td data-num="42"></td><td><pre></pre></td></tr><tr><td data-num="43"></td><td><pre>  deque<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> d2<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>  d2<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>  d2<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="46"></td><td><pre>  d2<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre></pre></td></tr><tr><td data-num="48"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> d2<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> d2<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 按照区间进行插入</span></pre></td></tr><tr><td data-num="49"></td><td><pre>  <span class="token function">printDeque</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 1 2 3 10000 10000 1000 200 100 10 20</span></pre></td></tr><tr><td data-num="50"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="51"></td><td><pre></pre></td></tr><tr><td data-num="52"></td><td><pre><span class="token comment">// 删除</span></pre></td></tr><tr><td data-num="53"></td><td><pre><span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>  deque<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> d<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>  <span class="token function">printDeque</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 200 100 10 20</span></pre></td></tr><tr><td data-num="60"></td><td><pre></pre></td></tr><tr><td data-num="61"></td><td><pre>  deque<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>  it<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment">// 在 insert 和 erase 的时候迭代器是可以偏移的</span></pre></td></tr><tr><td data-num="63"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>  <span class="token function">printDeque</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 200 10 20</span></pre></td></tr><tr><td data-num="65"></td><td><pre></pre></td></tr><tr><td data-num="66"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>  d<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>  <span class="token function">printDeque</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="70"></td><td><pre></pre></td></tr><tr><td data-num="71"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="72"></td><td><pre></pre></td></tr><tr><td data-num="73"></td><td><pre>  <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="74"></td><td><pre>  <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>  <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="76"></td><td><pre></pre></td></tr><tr><td data-num="77"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="78"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>总结：</p><ul><li>插入和删除提供的位置是迭代器！</li><li>尾插 --- push_back</li><li>尾删 --- pop_back</li><li>头插 --- push_front</li><li>头删 --- pop_front</li></ul><h3 id="336-deque-数据存取"><a class="anchor" href="#336-deque-数据存取">#</a> 3.3.6 deque 数据存取</h3><p><strong>功能描述：</strong></p><ul><li>对 deque 中的数据的存取操作</li></ul><p><strong>函数原型：</strong></p><ul><li><code>at(int idx);</code> // 返回索引 idx 所指的数据</li><li><code>operator[];</code> // 返回索引 idx 所指的数据</li><li><code>front();</code> // 返回容器中第一个数据元素</li><li><code>back();</code> // 返回容器中最后一个数据元素</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;deque&gt;

void printDeque(const deque&lt;int&gt;&amp; d) &#123;
	for (deque&lt;int&gt;::const_iterator it = d.begin(); it != d.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
&#125;

//数据存取
int main() &#123;

	deque&lt;int&gt; d;
	d.push_back(10);
	d.push_back(20);
	d.push_front(100);
	d.push_front(200);

  // 通过[]方式访问元素
	for (int i = 0; i &lt; d.size(); i++) &#123;
		cout &lt;&lt; d[i] &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;

  // 通过at方式访问元素
	for (int i = 0; i &lt; d.size(); i++) &#123;
		cout &lt;&lt; d.at(i) &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;

	cout &lt;&lt; &quot;front:&quot; &lt;&lt; d.front() &lt;&lt; endl;

	cout &lt;&lt; &quot;back:&quot; &lt;&lt; d.back() &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>除了用迭代器获取 deque 容器中元素，[ ] 和 at 也可以</li><li>front 返回容器第一个元素</li><li>back 返回容器最后一个元素</li></ul><h3 id="337-deque-排序"><a class="anchor" href="#337-deque-排序">#</a> 3.3.7 deque 排序</h3><p><strong>功能描述：</strong></p><ul><li>利用算法实现对 deque 容器进行排序</li></ul><p><strong>算法：</strong></p><ul><li><code>sort(iterator beg, iterator end)</code> // 对 beg 和 end 区间内元素进行排序</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;deque&gt;
#include &lt;algorithm&gt;

void printDeque(const deque&lt;int&gt;&amp; d) &#123;
	for (deque&lt;int&gt;::const_iterator it = d.begin(); it != d.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
&#125;

int main() &#123;

	deque&lt;int&gt; d;
	d.push_back(10);
	d.push_back(20);
	d.push_front(100);
	d.push_front(200);
	printDeque(d);// 200 100 10 20
  
	sort(d.begin(), d.end());// 排序。默认排序规则：从小到大升序
  // 对于支持随机访问的迭代器的容器，都可以利用sort算法直接对其进行排序。vector容器也可以利用sort进行排序
	printDeque(d);// 10 20 100 200

	return 0;
&#125;
</code></pre><p>总结：sort 算法非常实用，使用时包含头文件 algorithm 即可</p><h2 id="34-案例-评委打分"><a class="anchor" href="#34-案例-评委打分">#</a> 3.4 案例 - 评委打分</h2><h3 id="341-案例描述"><a class="anchor" href="#341-案例描述">#</a> 3.4.1 案例描述</h3><p>有 5 名选手：选手 ABCDE，10 个评委分别对每一名选手打分，去除最高分，去除评委中最低分，取平均分。</p><h3 id="342-实现步骤"><a class="anchor" href="#342-实现步骤">#</a> 3.4.2 实现步骤</h3><ol><li>创建五名选手，放到 vector 中</li><li>遍历 vector 容器，取出来每一个选手，执行 for 循环，可以把 10 个评分打分存到 deque 容器中</li><li>sort 算法对 deque 容器中分数排序，去除最高和最低分</li><li>deque 容器遍历一遍，累加总分</li><li>获取平均分</li></ol><p><strong>示例代码：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ctime></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;deque></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// 选手类</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  string m_Name<span class="token punctuation">;</span>  <span class="token comment">// 姓名</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  <span class="token keyword">int</span> m_Score<span class="token punctuation">;</span>    <span class="token comment">// 平均分</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>  <span class="token function">Person</span><span class="token punctuation">(</span>string name<span class="token punctuation">,</span> <span class="token keyword">int</span> score<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Name <span class="token operator">=</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">this</span><span class="token operator">-></span>m_Score <span class="token operator">=</span> score<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">void</span> <span class="token function">createPerson</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Person<span class="token operator">></span><span class="token operator">&amp;</span> v<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  string nameSeed <span class="token operator">=</span> <span class="token string">"ABCDE"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    string name <span class="token operator">=</span> <span class="token string">"选手"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    name <span class="token operator">+=</span> nameSeed<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token keyword">int</span> score <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    Person <span class="token function">p</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>    <span class="token comment">// 将创建的 Person 对象放入到容器中</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token comment">// 打分</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token keyword">void</span> <span class="token function">setScore</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Person<span class="token operator">></span><span class="token operator">&amp;</span> v<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Person<span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    <span class="token comment">// 将评委的分数放入到 deque 容器中</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    deque<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> d<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>      <span class="token keyword">int</span> score <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">41</span> <span class="token operator">+</span> <span class="token number">60</span><span class="token punctuation">;</span>  <span class="token comment">// 60 ~ 100</span></pre></td></tr><tr><td data-num="39"></td><td><pre>      d<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>    <span class="token comment">// 排序</span></pre></td></tr><tr><td data-num="42"></td><td><pre>    <span class="token function">sort</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>    <span class="token comment">// 去除最高和最低分</span></pre></td></tr><tr><td data-num="44"></td><td><pre>    d<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>    d<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 之所以用 deque 容器存放分数就是因为它对于头端直接有一个接口头删，而 vector 容器没有</span></pre></td></tr><tr><td data-num="46"></td><td><pre>    <span class="token comment">// 取平均分</span></pre></td></tr><tr><td data-num="47"></td><td><pre>    <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>    <span class="token keyword">for</span> <span class="token punctuation">(</span>deque<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator dit <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> dit <span class="token operator">!=</span> d<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> dit<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="49"></td><td><pre>      sum <span class="token operator">+=</span> <span class="token operator">*</span>dit<span class="token punctuation">;</span>  <span class="token comment">// 累加每个评委的分数</span></pre></td></tr><tr><td data-num="50"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="51"></td><td><pre>    <span class="token keyword">int</span> avg <span class="token operator">=</span> sum <span class="token operator">/</span> d<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>    <span class="token comment">// 将平均分赋值给选手身上</span></pre></td></tr><tr><td data-num="53"></td><td><pre>    it<span class="token operator">-></span>m_Score <span class="token operator">=</span> avg<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="55"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="56"></td><td><pre></pre></td></tr><tr><td data-num="57"></td><td><pre><span class="token keyword">void</span> <span class="token function">showScore</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Person<span class="token operator">></span><span class="token operator">&amp;</span> v<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Person<span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"姓名："</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span>m_Name <span class="token operator">&lt;&lt;</span> <span class="token string">" 平均分："</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span>m_Score <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="61"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="62"></td><td><pre></pre></td></tr><tr><td data-num="63"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>  <span class="token comment">// 随机数种子</span></pre></td></tr><tr><td data-num="65"></td><td><pre>  <span class="token function">srand</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre></pre></td></tr><tr><td data-num="67"></td><td><pre>  <span class="token comment">// 1、创建 5 名选手</span></pre></td></tr><tr><td data-num="68"></td><td><pre>  vector<span class="token operator">&lt;</span>Person<span class="token operator">></span> v<span class="token punctuation">;</span>  <span class="token comment">// 存放选手的容器</span></pre></td></tr><tr><td data-num="69"></td><td><pre>  <span class="token function">createPerson</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="70"></td><td><pre></pre></td></tr><tr><td data-num="71"></td><td><pre>  <span class="token comment">// 2、给 5 名选手打分</span></pre></td></tr><tr><td data-num="72"></td><td><pre>  <span class="token function">setScore</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="73"></td><td><pre></pre></td></tr><tr><td data-num="74"></td><td><pre>  <span class="token comment">// 3、显示最后得分</span></pre></td></tr><tr><td data-num="75"></td><td><pre>  <span class="token function">showScore</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="76"></td><td><pre></pre></td></tr><tr><td data-num="77"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="78"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>总结：</strong> 选取不同的容器操作数据，可以提升代码的效率</p><h2 id="35-stack容器"><a class="anchor" href="#35-stack容器">#</a> 3.5 stack 容器</h2><h3 id="351-stack-基本概念"><a class="anchor" href="#351-stack-基本概念">#</a> 3.5.1 stack 基本概念</h3><p><strong>概念：<strong>stack 是一种</strong>先进后出</strong> (First In Last Out,FILO) 的数据结构，它只有一个出口</p><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411111744542.jpg" alt=""></p><p>栈中只有顶端的元素才可以被外界使用，因此栈不允许有遍历行为</p><blockquote><p>当你想看第二个元素的时候，要把第一个元素栈顶元素拿出来，但拿出来的过程这个栈里边就少了一个值了，这就不叫遍历了，遍历是一个非质变算法，在运算过程期间是不允许容器中的元素有改动的</p></blockquote><p>栈中进入数据称为 --- <strong>入栈</strong> <code>push</code></p><p>栈中弹出数据称为 --- <strong>出栈</strong> <code>pop</code></p><p>生活中的栈：</p><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411111745775.png" alt=""></p><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411111745679.jpg" alt=""></p><h3 id="352-stack-常用接口"><a class="anchor" href="#352-stack-常用接口">#</a> 3.5.2 stack 常用接口</h3><p>功能描述：栈容器常用的对外接口</p><p>构造函数：</p><ul><li><code>stack&lt;T&gt; stk;</code> //stack 采用模板类实现， stack 对象的默认构造形式</li><li><code>stack(const stack&amp; stk);</code> // 拷贝构造函数</li></ul><p>赋值操作：</p><ul><li><code>stack&amp; operator=(const stack&amp; stk);</code> // 重载等号操作符</li></ul><p>数据存取：</p><ul><li><code>push(elem);</code> // 向栈顶添加元素</li><li><code>pop();</code> // 从栈顶移除第一个元素</li><li><code>top();</code> // 返回栈顶元素</li></ul><p>大小操作：</p><ul><li><code>empty();</code> // 判断堆栈是否为空</li><li><code>size();</code> // 返回栈的大小</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;stack&gt;

//栈容器常用接口
int main() &#123;

	//创建栈容器 栈容器必须符合先进后出数据结构
	stack&lt;int&gt; s;

	//向栈中添加元素，叫做 压栈 入栈
	s.push(10);
	s.push(20);
	s.push(30);
  
  // 拷贝构造函数
  stack&lt;int&gt; s2(s);
  
  // 重载等号操作符进行赋值操作
  stack&lt;int&gt; s3;
  s3 = s;

	while (!s.empty()) &#123;
		//输出栈顶元素
		cout &lt;&lt; &quot;栈顶元素为： &quot; &lt;&lt; s.top() &lt;&lt; endl;
		//弹出栈顶元素
		s.pop();
	&#125;
	cout &lt;&lt; &quot;栈的大小为：&quot; &lt;&lt; s.size() &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>入栈 --- push</li><li>出栈 --- pop</li><li>返回栈顶 --- top</li><li>判断栈是否为空 --- empty</li><li>返回栈大小 --- size</li></ul><h2 id="36-queue-容器"><a class="anchor" href="#36-queue-容器">#</a> 3.6 queue 容器</h2><h3 id="361-queue-基本概念"><a class="anchor" href="#361-queue-基本概念">#</a> 3.6.1 queue 基本概念</h3><p><strong>概念：<strong>Queue 是一种</strong>先进先出</strong> (First In First Out,FIFO) 的数据结构，它有两个出口</p><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411111837532.jpg" alt=""></p><p>队列容器允许从一端新增元素，从另一端移除元素</p><p>队列中只有队头和队尾才可以被外界使用，因此队列不允许有遍历行为</p><p>队列中进数据称为 --- <strong>入队</strong> <code>push</code></p><p>队列中出数据称为 --- <strong>出队</strong> <code>pop</code></p><p>生活中的队列：</p><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411111838937.png" alt=""></p><h3 id="362-queue-常用接口"><a class="anchor" href="#362-queue-常用接口">#</a> 3.6.2 queue 常用接口</h3><p>功能描述：栈容器常用的对外接口</p><p>构造函数：</p><ul><li><code>queue&lt;T&gt; que;</code> //queue 采用模板类实现，queue 对象的默认构造形式</li><li><code>queue(const queue&amp; que);</code> // 拷贝构造函数</li></ul><p>赋值操作：</p><ul><li><code>queue&amp; operator=(const queue&amp; que);</code> // 重载等号操作符</li></ul><p>数据存取：</p><ul><li><code>push(elem);</code> // 往队尾添加元素</li><li><code>pop();</code> // 从队头移除第一个元素</li><li><code>back();</code> // 返回最后一个元素</li><li><code>front();</code> // 返回第一个元素</li></ul><p>大小操作：</p><ul><li><code>empty();</code> // 判断堆栈是否为空</li><li><code>size();</code> // 返回栈的大小</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;queue&gt;
#include &lt;string&gt;

class Person &#123;
 public:
	Person(string name, int age) &#123;
		this-&gt;m_Name = name;
		this-&gt;m_Age = age;
	&#125;

	string m_Name;
	int m_Age;
&#125;;

int main() &#123;

	//创建队列
	queue&lt;Person&gt; q;

	//准备数据
	Person p1(&quot;唐僧&quot;, 30);
	Person p2(&quot;孙悟空&quot;, 1000);
	Person p3(&quot;猪八戒&quot;, 900);
	Person p4(&quot;沙僧&quot;, 800);

	//向队列中添加元素  入队操作
	q.push(p1);
	q.push(p2);
	q.push(p3);
	q.push(p4);

	//队列不提供迭代器，更不支持随机访问	
	while (!q.empty()) &#123;
		//输出队头元素
		cout &lt;&lt; &quot;队头元素-- 姓名： &quot; &lt;&lt; q.front().m_Name &lt;&lt; &quot; 年龄： &quot;&lt;&lt; q.front().m_Age &lt;&lt; endl;
		cout &lt;&lt; &quot;队尾元素-- 姓名： &quot; &lt;&lt; q.back().m_Name &lt;&lt; &quot; 年龄： &quot; &lt;&lt; q.back().m_Age &lt;&lt; endl;
		cout &lt;&lt; endl;
		//弹出队头元素
		q.pop();
	&#125;

	cout &lt;&lt; &quot;队列大小为：&quot; &lt;&lt; q.size() &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>入队 --- push</li><li>出队 --- pop</li><li>返回队头元素 --- front</li><li>返回队尾元素 --- back</li><li>判断队是否为空 --- empty</li><li>返回队列大小 --- size</li></ul><h2 id="37-list容器"><a class="anchor" href="#37-list容器">#</a> 3.7 list 容器</h2><h3 id="371-list基本概念"><a class="anchor" href="#371-list基本概念">#</a> 3.7.1 list 基本概念</h3><p>** 功能：** 将数据进行链式存储</p><p><strong>链表</strong>（list）是一种物理存储单元上非连续的存储结构，数据元素的逻辑顺序是通过链表中的指针链接实现的</p><p>链表的组成：链表由一系列<strong>结点</strong>组成</p><p>结点的组成：一个是存储数据元素的<strong>数据域</strong>，另一个是存储下一个结点地址的<strong>指针域</strong></p><p>STL 中的链表是一个双向循环链表</p><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411111853633.jpg" alt=""></p><blockquote><p>图片并没有画出循环的结构，而 STL 中的链表最后一个结点的 next 指针指向最前面的结点，最前一个结点的 prev 指针指向最后面的结点</p></blockquote><p>由于链表的存储方式并不是连续的内存空间，因此链表 list 中的迭代器只支持前移和后移，属于<strong>双向迭代器</strong></p><blockquote><p>比如说 begin () 的迭代器不能跳跃式地访问，因为它要通过一个指针域才能一个一个地往前 / 后找。这和它的内部存储结构有关，list 不是一个连续的空间，不可以直接往后加一个数字就可以找到后边的数据</p></blockquote><p>list 的优点：</p><ul><li><p>采用动态存储分配，不会造成内存浪费和溢出</p><blockquote><p>vector 是有容量的，比如说数组中现在已经插了 10 万个数据，那么它的容量可能是 13 万，而只用到了它前 10 万个，可能会造成资源的浪费和溢出</p></blockquote></li><li><p>链表执行插入和删除操作十分方便，修改指针即可，不需要移动大量元素</p></li></ul><p>list 的缺点：</p><ul><li><p>链表灵活，但是空间 (指针域) 和 时间（遍历）额外耗费较大</p><blockquote><p>链表容器遍历速度没有数组快。数组的地址是连续的，它的指针直接往后偏移能够快速地遍历元素；而链表想做遍历，前一个元素遍历完找第二个元素，要通过指针域才能找到</p></blockquote></li></ul><p>list 有一个重要的性质，插入操作和删除操作都不会造成原有 list 迭代器的失效，这在 vector 是不成立的。</p><blockquote><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411111920952.png" alt=""></p><p>链表中的迭代器假设指向最前面的结点，在任意地方插入元素，或删除不是迭代器指向的其他任意结点，都不会影响迭代器。数组一旦插满了，要再插一个数据的话，就要重新找一块更长的内存空间，把 vector 中的元素拷贝到新空间里边，原先的迭代器就失效了，因为还指向着原来的数据内存</p></blockquote><p>总结：STL 中<strong> list 和 vector 是两个最常被使用的容器</strong>，各有优缺点</p><h3 id="372-list构造函数"><a class="anchor" href="#372-list构造函数">#</a> 3.7.2 list 构造函数</h3><p><strong>功能描述：</strong></p><ul><li>创建 list 容器</li></ul><p><strong>函数原型：</strong></p><ul><li><code>list&lt;T&gt; lst;</code> //list 采用采用模板类实现，对象的默认构造形式：</li><li><code>list(beg, end);</code> // 构造函数将 [beg, end) 区间中的元素拷贝给本身。</li><li><code>list(n, elem);</code> // 构造函数将 n 个 elem 拷贝给本身。</li><li><code>list(const list&amp; lst);</code> // 拷贝构造函数。</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;list&gt;

void printList(const list&lt;int&gt;&amp; L) &#123;
	for (list&lt;int&gt;::const_iterator it = L.begin(); it != L.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
&#125;

int main() &#123;

	list&lt;int&gt; L1;// 默认构造
	L1.push_back(10);
	L1.push_back(20);
	L1.push_back(30);
	L1.push_back(40);
	printList(L1);// 遍历容器

	list&lt;int&gt; L2(L1.begin(), L1.end());// 区间方式构造
	printList(L2);

	list&lt;int&gt; L3(L2);// 拷贝构造
	printList(L3);

	list&lt;int&gt; L4(10, 1000);// n个elem
	printList(L4);

	return 0;
&#125;
</code></pre><p>总结：list 构造方式同其他几个 STL 常用容器，熟练掌握即可</p><h3 id="373-list-赋值和交换"><a class="anchor" href="#373-list-赋值和交换">#</a> 3.7.3 list 赋值和交换</h3><p><strong>功能描述：</strong></p><ul><li>给 list 容器进行赋值，以及交换 list 容器</li></ul><p><strong>函数原型：</strong></p><ul><li><code>assign(beg, end);</code> // 将 [beg, end) 区间中的数据拷贝赋值给本身。</li><li><code>assign(n, elem);</code> // 将 n 个 elem 拷贝赋值给本身。</li><li><code>list&amp; operator=(const list &amp;lst);</code> // 重载等号操作符</li><li><code>swap(lst);</code> // 将 lst 与本身的元素互换。</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;list&gt;

void printList(const list&lt;int&gt;&amp; L) &#123;
	for (list&lt;int&gt;::const_iterator it = L.begin(); it != L.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
&#125;

//赋值
void test01() &#123;
	list&lt;int&gt; L1;
	L1.push_back(10);
	L1.push_back(20);
	L1.push_back(30);
	L1.push_back(40);
	printList(L1);

	list&lt;int&gt; L2;
	L2 = L1;// operator=赋值
	printList(L2);

	list&lt;int&gt; L3;
	L3.assign(L2.begin(), L2.end());
	printList(L3);

	list&lt;int&gt; L4;
	L4.assign(10, 100);
	printList(L4);
&#125;

//交换
void test02() &#123;

	list&lt;int&gt; L1;
	L1.push_back(10);
	L1.push_back(20);
	L1.push_back(30);
	L1.push_back(40);

	list&lt;int&gt; L2;
	L2.assign(10, 100);

	cout &lt;&lt; &quot;交换前： &quot; &lt;&lt; endl;
	printList(L1);
	printList(L2);
	cout &lt;&lt; endl;

	L1.swap(L2);
	cout &lt;&lt; &quot;交换后： &quot; &lt;&lt; endl;
	printList(L1);
	printList(L2);
&#125;

int main() &#123;
	test01();
	test02();
	return 0;
&#125;
</code></pre><p>总结：list 赋值和交换操作能够灵活运用即可</p><h3 id="374-list-大小操作"><a class="anchor" href="#374-list-大小操作">#</a> 3.7.4 list 大小操作</h3><p><strong>功能描述：</strong></p><ul><li>对 list 容器的大小进行操作</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>size();</code> // 返回容器中元素的个数</p></li><li><p><code>empty();</code> // 判断容器是否为空</p></li><li><p><code>resize(num);</code> // 重新指定容器的长度为 num，若容器变长，则以默认值填充新位置。</p><p>​ // 如果容器变短，则末尾超出容器长度的元素被删除。</p></li><li><p><code>resize(num, elem);</code> // 重新指定容器的长度为 num，若容器变长，则以 elem 值填充新位置。</p><pre><code>					    //如果容器变短，则末尾超出容器长度的元素被删除。
</code></pre></li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;list&gt;

void printList(const list&lt;int&gt;&amp; L) &#123;
	for (list&lt;int&gt;::const_iterator it = L.begin(); it != L.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
&#125;

//大小操作
int main() &#123;

	list&lt;int&gt; L1;
	L1.push_back(10);
	L1.push_back(20);
	L1.push_back(30);
	L1.push_back(40);

	if (L1.empty()) &#123;
		cout &lt;&lt; &quot;L1为空&quot; &lt;&lt; endl;
	&#125; else &#123;
		cout &lt;&lt; &quot;L1不为空&quot; &lt;&lt; endl;
		cout &lt;&lt; &quot;L1的大小为： &quot; &lt;&lt; L1.size() &lt;&lt; endl;
	&#125;

	//重新指定大小
	L1.resize(10);
	printList(L1);
	L1.resize(2);
	printList(L1);

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>判断是否为空 --- empty</li><li>返回元素个数 --- size</li><li>重新指定个数 --- resize</li></ul><h3 id="375-list-插入和删除"><a class="anchor" href="#375-list-插入和删除">#</a> 3.7.5 list 插入和删除</h3><p><strong>功能描述：</strong></p><ul><li>对 list 容器进行数据的插入和删除</li></ul><p><strong>函数原型：</strong></p><ul><li>push_back (elem);// 在容器尾部加入一个元素</li><li>pop_back ();// 删除容器中最后一个元素</li><li>push_front (elem);// 在容器开头插入一个元素</li><li>pop_front ();// 从容器开头移除第一个元素</li><li>insert (pos,elem);// 在 pos 位置插 elem 元素的拷贝，返回新数据的位置。</li><li>insert (pos,n,elem);// 在 pos 位置插入 n 个 elem 数据，无返回值。</li><li>insert (pos,beg,end);// 在 pos 位置插入 [beg,end) 区间的数据，无返回值。</li><li>clear ();// 移除容器的所有数据</li><li>erase (beg,end);// 删除 [beg,end) 区间的数据，返回下一个数据的位置。</li><li>erase (pos);// 删除 pos 位置的数据，返回下一个数据的位置。</li><li>remove (elem);// 删除容器中所有与 elem 值匹配的元素。</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;list&gt;

void printList(const list&lt;int&gt;&amp; L) &#123;
	for (list&lt;int&gt;::const_iterator it = L.begin(); it != L.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
&#125;

int main() &#123;

	list&lt;int&gt; L;
	//尾插
	L.push_back(10);
	L.push_back(20);
	L.push_back(30);
	//头插
	L.push_front(100);
	L.push_front(200);
	L.push_front(300);
	printList(L);// 300 200 100 10 20 30

	//尾删
	L.pop_back();
	printList(L);// 300 200 100 10 20

	//头删
	L.pop_front();
	printList(L);// 200 100 10 20

	//插入
  L.insert(L.begin(), 1000);
  printList(L);// 1000 200 100 10 20
	list&lt;int&gt;::iterator it = L.begin();
	L.insert(++it, 1000);
	printList(L);// 1000 1000 200 100 10 20

	//删除
	it = L.begin();
	L.erase(++it);
	printList(L);// 1000 200 100 10 20

	//移除
	L.push_back(10000);
	L.push_back(10000);
	L.push_back(10000);
	printList(L);// 1000 200 100 10 20 10000 10000 10000
	L.remove(10000);
	printList(L);// 200 100 10 20
    
  //清空
	L.clear();
	printList(L);

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>尾插 --- push_back</li><li>尾删 --- pop_back</li><li>头插 --- push_front</li><li>头删 --- pop_front</li><li>插入 --- insert</li><li>删除 --- erase</li><li>移除 --- remove</li><li>清空 --- clear</li></ul><h3 id="376-list-数据存取"><a class="anchor" href="#376-list-数据存取">#</a> 3.7.6 list 数据存取</h3><p><strong>功能描述：</strong></p><ul><li>对 list 容器中数据进行存取</li></ul><p><strong>函数原型：</strong></p><ul><li><code>front();</code> // 返回第一个元素。</li><li><code>back();</code> // 返回最后一个元素</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;list&gt;

//数据存取
int main() &#123;

	list&lt;int&gt; L1;
	L1.push_back(10);
	L1.push_back(20);
	L1.push_back(30);
	L1.push_back(40);

	//cout &lt;&lt; L1.at(0) &lt;&lt; endl;// 错误 不支持at访问数据
	//cout &lt;&lt; L1[0] &lt;&lt; endl; // 错误  不支持[]方式访问数据
  // 原因是list本质链表，不是用连续线性空间存储数据，迭代器也是不支持随机访问的
	cout &lt;&lt; &quot;第一个元素为： &quot; &lt;&lt; L1.front() &lt;&lt; endl;
	cout &lt;&lt; &quot;最后一个元素为： &quot; &lt;&lt; L1.back() &lt;&lt; endl;

	// list容器的迭代器是双向迭代器，不支持随机访问
	list&lt;int&gt;::iterator it = L1.begin();
	//it = it + 1;// 错误，不可以跳跃访问，即使是+1
  it++;
  it--;
  // 支持双向

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>list 容器中不可以通过 [] 或者 at 方式访问数据</li><li>返回第一个元素 --- front</li><li>返回最后一个元素 --- back</li></ul><h3 id="377-list-反转和排序"><a class="anchor" href="#377-list-反转和排序">#</a> 3.7.7 list 反转和排序</h3><p><strong>功能描述：</strong></p><ul><li>将容器中的元素反转，以及将容器中的数据进行排序</li></ul><p><strong>函数原型：</strong></p><ul><li><code>reverse();</code> // 反转链表</li><li><code>sort();</code> // 链表排序</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">void printList(const list&lt;int&gt;&amp; L) &#123;
	for (list&lt;int&gt;::const_iterator it = L.begin(); it != L.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
&#125;

bool myCompare(int val1 , int val2) &#123;
	return val1 &gt; val2;// 降序就让第一个数 &gt; 第二个数
&#125;

//反转和排序
int main() &#123;
	list&lt;int&gt; L;
	L.push_back(90);
	L.push_back(30);
	L.push_back(20);
	L.push_back(70);
	printList(L);

	//反转容器的元素
	L.reverse();
	printList(L);

	//排序
  // 所有不支持随机访问迭代器的容器，不可以用标准算法
  // sort(L.begin(), L.end());// 报错
  
  // 不支持随机访问迭代器的容器，内部会提供对应的一些算法
	L.sort(); //默认的排序规则 从小到大，升序
	printList(L);
	L.sort(myCompare); //指定规则，从大到小
	printList(L);
  
	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>反转 --- reverse</li><li>排序 --- sort （成员函数）</li></ul><h3 id="378-排序案例"><a class="anchor" href="#378-排序案例">#</a> 3.7.8 排序案例</h3><p>案例描述：将 Person 自定义数据类型进行排序，Person 中属性有姓名、年龄、身高</p><p>排序规则：按照年龄进行升序，如果年龄相同按照身高进行降序</p><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;list&gt;
#include &lt;string&gt;
class Person &#123;
 public:
	Person(string name, int age , int height) &#123;
		m_Name = name;
		m_Age = age;
		m_Height = height;
	&#125;

 public:
	string m_Name;  //姓名
	int m_Age;      //年龄
	int m_Height;   //身高
&#125;;

bool comparePerson(Person&amp; p1, Person&amp; p2) &#123;
	if (p1.m_Age == p2.m_Age) &#123;
		return p1.m_Height &gt; p2.m_Height;
	&#125; else &#123;
		return  p1.m_Age &lt; p2.m_Age;
	&#125;
&#125;

int main() &#123;

	list&lt;Person&gt; L;

	Person p1(&quot;刘备&quot;, 35 , 175);
	Person p2(&quot;曹操&quot;, 45 , 180);
	Person p3(&quot;孙权&quot;, 40 , 170);
	Person p4(&quot;赵云&quot;, 25 , 190);
	Person p5(&quot;张飞&quot;, 35 , 160);
	Person p6(&quot;关羽&quot;, 35 , 200);

	L.push_back(p1);
	L.push_back(p2);
	L.push_back(p3);
	L.push_back(p4);
	L.push_back(p5);
	L.push_back(p6);

	for (list&lt;Person&gt;::iterator it = L.begin(); it != L.end(); it++) &#123;
		cout &lt;&lt; &quot;姓名： &quot; &lt;&lt; it-&gt;m_Name &lt;&lt; &quot; 年龄： &quot; &lt;&lt; it-&gt;m_Age &lt;&lt; &quot; 身高： &quot; &lt;&lt; it-&gt;m_Height &lt;&lt; endl;
	&#125;
	cout &lt;&lt; &quot;---------------------------------&quot; &lt;&lt; endl;
  
	L.sort(comparePerson); //排序

	for (list&lt;Person&gt;::iterator it = L.begin(); it != L.end(); it++) &#123;
		cout &lt;&lt; &quot;姓名： &quot; &lt;&lt; it-&gt;m_Name &lt;&lt; &quot; 年龄： &quot; &lt;&lt; it-&gt;m_Age &lt;&lt; &quot; 身高： &quot; &lt;&lt; it-&gt;m_Height &lt;&lt; endl;
	&#125;
&#125;

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li><p>对于自定义数据类型，必须要指定排序规则，否则编译器不知道如何进行排序</p></li><li><p>高级排序只是在排序规则上再进行一次逻辑规则制定，并不复杂</p></li></ul><h2 id="38-set-multiset-容器"><a class="anchor" href="#38-set-multiset-容器">#</a> 3.8 set/multiset 容器</h2><h3 id="381-set基本概念"><a class="anchor" href="#381-set基本概念">#</a> 3.8.1 set 基本概念</h3><p><strong>简介：</strong></p><ul><li>所有元素都会在插入时自动被排序</li></ul><p><strong>本质：</strong></p><ul><li>set/multiset 属于<strong>关联式容器</strong>，底层结构是用<strong>二叉树</strong>实现。</li></ul><p><strong>set 和 multiset 区别</strong>：</p><ul><li>set 不允许容器中有重复的元素</li><li>multiset 允许容器中有重复的元素</li></ul><h3 id="382-set构造和赋值"><a class="anchor" href="#382-set构造和赋值">#</a> 3.8.2 set 构造和赋值</h3><p>功能描述：创建 set 容器以及赋值</p><p>构造：</p><ul><li><code>set&lt;T&gt; st;</code> // 默认构造函数：</li><li><code>set(const set&amp; st);</code> // 拷贝构造函数</li></ul><p>赋值：</p><ul><li><code>set&amp; operator=(const set&amp; st);</code> // 重载等号操作符</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;set&gt;

void printSet(set&lt;int&gt;&amp; s) &#123;
	for (set&lt;int&gt;::iterator it = s.begin(); it != s.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
&#125;

int main() &#123;
	set&lt;int&gt; s1;

  //插入数据，只有insert方式
	s1.insert(10);
	s1.insert(40);
	s1.insert(30);
	s1.insert(20);
	s1.insert(30);
  //遍历容器
	printSet(s1);// 10 20 30 40 
  //set容器特点：所有元素插入时自动被排序，set容器不允许插入重复值

	//拷贝构造
	set&lt;int&gt; s2(s1);
	printSet(s2);

	//赋值
	set&lt;int&gt; s3;
	s3 = s2;
	printSet(s3);

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>set 容器插入数据时用 insert</li><li>set 容器插入数据的数据会自动排序</li></ul><h3 id="383-set大小和交换"><a class="anchor" href="#383-set大小和交换">#</a> 3.8.3 set 大小和交换</h3><p><strong>功能描述：</strong></p><ul><li>统计 set 容器大小以及交换 set 容器</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>size();</code> // 返回容器中元素的数目</p><blockquote><p>不允许重新指定 set 的大小，resize 机制默认情况下用默认值 0 来填充扩出来的元素，比如说一开始有 5 个元素，指定了 resize 到 10 个，扩出来的 5 个用 0 来填充，0 就重复了。set 容器不允许有重复的值，因此它也不会让你重新指定它的大小</p></blockquote></li><li><p><code>empty();</code> // 判断容器是否为空</p></li><li><p><code>swap(st);</code> // 交换两个集合容器</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;set&gt;

void printSet(set&lt;int&gt;&amp; s) &#123;
	for (set&lt;int&gt;::iterator it = s.begin(); it != s.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
&#125;

//大小
void test01() &#123;
	set&lt;int&gt; s1;
	
	s1.insert(10);
	s1.insert(30);
	s1.insert(20);
	s1.insert(40);

	if (s1.empty()) &#123;
		cout &lt;&lt; &quot;s1为空&quot; &lt;&lt; endl;
	&#125; else &#123;
		cout &lt;&lt; &quot;s1不为空&quot; &lt;&lt; endl;
		cout &lt;&lt; &quot;s1的大小为： &quot; &lt;&lt; s1.size() &lt;&lt; endl;
	&#125;
&#125;

//交换
void test02() &#123;
	set&lt;int&gt; s1;
	s1.insert(10);
	s1.insert(30);
	s1.insert(20);
	s1.insert(40);

	set&lt;int&gt; s2;
	s2.insert(100);
	s2.insert(300);
	s2.insert(200);
	s2.insert(400);

	cout &lt;&lt; &quot;交换前&quot; &lt;&lt; endl;
	printSet(s1);
	printSet(s2);
	cout &lt;&lt; endl;

	cout &lt;&lt; &quot;交换后&quot; &lt;&lt; endl;
	s1.swap(s2);
	printSet(s1);
	printSet(s2);
&#125;

int main() &#123;

	test01();
	test02();

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>统计大小 --- size</li><li>判断是否为空 --- empty</li><li>交换容器 --- swap</li></ul><h3 id="384-set插入和删除"><a class="anchor" href="#384-set插入和删除">#</a> 3.8.4 set 插入和删除</h3><p><strong>功能描述：</strong></p><ul><li>set 容器进行插入数据和删除数据</li></ul><p><strong>函数原型：</strong></p><ul><li><code>insert(elem);</code> // 在容器中插入元素。</li><li><code>clear();</code> // 清除所有元素</li><li><code>erase(pos);</code> // 删除 pos 迭代器所指的元素，返回下一个元素的迭代器。</li><li><code>erase(beg, end);</code> // 删除区间 [beg,end) 的所有元素 ，返回下一个元素的迭代器。</li><li><code>erase(elem);</code> // 删除容器中值为 elem 的元素。</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;set&gt;

void printSet(set&lt;int&gt;&amp; s) &#123;
	for (set&lt;int&gt;::iterator it = s.begin(); it != s.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
&#125;

//插入和删除
int main() &#123;

	set&lt;int&gt; s1;
	//插入
	s1.insert(10);
	s1.insert(30);
	s1.insert(20);
	s1.insert(40);
	printSet(s1);// 10 20 30 40 

	//删除
	s1.erase(s1.begin());
	printSet(s1);// 20 30 40 

	s1.erase(30);
	printSet(s1);// 20 40 

	//清空
	//s1.erase(s1.begin(), s1.end());
	s1.clear();
	printSet(s1);

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>插入 --- insert</li><li>删除 --- erase</li><li>清空 --- clear</li></ul><h3 id="385-set查找和统计"><a class="anchor" href="#385-set查找和统计">#</a> 3.8.5 set 查找和统计</h3><p><strong>功能描述：</strong></p><ul><li>对 set 容器进行查找数据以及统计数据</li></ul><p><strong>函数原型：</strong></p><ul><li><code>find(key);</code> // 查找 key 是否存在，若存在，返回该键的元素的迭代器；若不存在，返回 set.end ();</li><li><code>count(key);</code> // 统计 key 的元素个数</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;set&gt;

//查找和统计
int main() &#123;

	set&lt;int&gt; s1;
	//插入
	s1.insert(10);
	s1.insert(30);
	s1.insert(20);
	s1.insert(40);
	
	//查找
	set&lt;int&gt;::iterator pos = s1.find(30);
	if (pos != s1.end()) &#123;
		cout &lt;&lt; &quot;找到了元素 ： &quot; &lt;&lt; *pos &lt;&lt; endl;
	&#125; else &#123;
		cout &lt;&lt; &quot;未找到元素&quot; &lt;&lt; endl;
	&#125;

	//统计
	int num = s1.count(30);
	cout &lt;&lt; &quot;num = &quot; &lt;&lt; num &lt;&lt; endl;// 1

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>查找 --- find （返回的是迭代器）</li><li>统计 --- count （对于 set，结果为 0 或者 1）</li></ul><h3 id="386-set和multiset区别"><a class="anchor" href="#386-set和multiset区别">#</a> 3.8.6 set 和 multiset 区别</h3><p><strong>学习目标：</strong></p><ul><li>掌握 set 和 multiset 的区别</li></ul><p><strong>区别：</strong></p><ul><li>set 不可以插入重复数据，而 multiset 可以</li><li>set 插入数据的同时会返回插入结果，表示插入是否成功</li><li>multiset 不会检测数据，因此可以插入重复数据</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;set&gt;

//set和multiset区别
int main() &#123;

	set&lt;int&gt; s;
	pair&lt;set&lt;int&gt;::iterator, bool&gt; ret = s.insert(10);// set.insert的返回值类型叫_Pairib = pair&lt;iterator, bool&gt;。pair叫对组，相当于成对出现的一组数据。第一个数据是迭代器，在插入数据的时候会返回插到哪了；第二个是布尔数据类型，代表了你插这个数据到底插成功了还是插失败了
	if (ret.second) &#123;
		cout &lt;&lt; &quot;第一次插入成功!&quot; &lt;&lt; endl;
	&#125; else &#123;
		cout &lt;&lt; &quot;第一次插入失败!&quot; &lt;&lt; endl;
	&#125;
	ret = s.insert(10);
	if (ret.second) &#123;
		cout &lt;&lt; &quot;第二次插入成功!&quot; &lt;&lt; endl;
	&#125; else &#123;
		cout &lt;&lt; &quot;第二次插入失败!&quot; &lt;&lt; endl;
	&#125;

	//multiset
	multiset&lt;int&gt; ms;
  // 允许插入重复值
	ms.insert(10);
	ms.insert(10);
	for (multiset&lt;int&gt;::iterator it = ms.begin(); it != ms.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>如果不允许插入重复数据可以利用 set</li><li>如果需要插入重复数据利用 multiset</li></ul><h3 id="387-pair对组创建"><a class="anchor" href="#387-pair对组创建">#</a> 3.8.7 pair 对组创建</h3><p><strong>功能描述：</strong></p><ul><li>成对出现的数据，利用对组可以返回两个数据</li></ul><p><strong>两种创建方式：</strong></p><ul><li><code>pair&lt;type, type&gt; p(value1, value2);</code></li><li><code>pair&lt;type, type&gt; p = make_pair(value1, value2 );</code></li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;string&gt;

//对组创建
int main() &#123;

	pair&lt;string, int&gt; p(string(&quot;Tom&quot;), 20);
	cout &lt;&lt; &quot;姓名： &quot; &lt;&lt;  p.first &lt;&lt; &quot; 年龄： &quot; &lt;&lt; p.second &lt;&lt; endl;

	pair&lt;string, int&gt; p2 = make_pair(&quot;Jerry&quot;, 10);
	cout &lt;&lt; &quot;姓名： &quot; &lt;&lt; p2.first &lt;&lt; &quot; 年龄： &quot; &lt;&lt; p2.second &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>总结：</p><p>两种方式都可以创建对组，记住一种即可</p><h3 id="388-set容器排序"><a class="anchor" href="#388-set容器排序">#</a> 3.8.8 set 容器排序</h3><p>学习目标：</p><ul><li>set 容器默认排序规则为从小到大，掌握如何改变排序规则</li></ul><p>主要技术点：</p><ul><li><p>利用仿函数，可以改变排序规则</p><blockquote><p>仿函数就是重载了函数调用的运算符 ()，利用它可以修改算法的内容，比如说排序，可以改变排序规则</p></blockquote></li></ul><p><strong>示例一</strong> set 存放内置数据类型</p><pre><code class="language-C++">#include &lt;set&gt;

class MyCompare &#123;
 public:
	bool operator()(int v1, int v2) &#123;
		return v1 &gt; v2;
	&#125;
&#125;;

int main() &#123;

	set&lt;int&gt; s1;
	s1.insert(10);
	s1.insert(40);
	s1.insert(20);
	s1.insert(30);
	s1.insert(50);
	//默认从小到大
	for (set&lt;int&gt;::iterator it = s1.begin(); it != s1.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;

	//指定排序规则为从大到小。在set容器的模板参数列表中再加一个参数
	set&lt;int, MyCompare&gt; s2;
  //在插数据之前就要告诉set容器从大到小排序
	s2.insert(10);
	s2.insert(40);
	s2.insert(20);
	s2.insert(30);
	s2.insert(50);
	for (set&lt;int, MyCompare&gt;::iterator it = s2.begin(); it != s2.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>总结：利用仿函数可以指定 set 容器的排序规则</p><p><strong>示例二</strong> set 存放自定义数据类型</p><blockquote><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;set></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token function">Person</span><span class="token punctuation">(</span>string name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token keyword">this</span><span class="token operator">-></span>m_Name <span class="token operator">=</span> name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>		<span class="token keyword">this</span><span class="token operator">-></span>m_Age <span class="token operator">=</span> age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	string m_Name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">int</span> m_Age<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>	set<span class="token operator">&lt;</span>Person<span class="token operator">></span> s<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>	Person <span class="token function">p1</span><span class="token punctuation">(</span><span class="token string">"刘备"</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	Person <span class="token function">p2</span><span class="token punctuation">(</span><span class="token string">"关羽"</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	Person <span class="token function">p3</span><span class="token punctuation">(</span><span class="token string">"张飞"</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	Person <span class="token function">p4</span><span class="token punctuation">(</span><span class="token string">"赵云"</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>	s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>	s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p3<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>	s<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>p4<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre></pre></td></tr><tr><td data-num="28"></td><td><pre>	<span class="token keyword">for</span> <span class="token punctuation">(</span>set<span class="token operator">&lt;</span>Person<span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>		cout <span class="token operator">&lt;&lt;</span> <span class="token string">"姓名： "</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span>m_Name <span class="token operator">&lt;&lt;</span> <span class="token string">" 年龄： "</span> <span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span>m_Age <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="31"></td><td><pre></pre></td></tr><tr><td data-num="32"></td><td><pre>	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>报错。对于 set 容器而言，默认的排序规则是从小到大，编译器无法比较 Person 数据类型的大小。所以对于自定义的数据类型而言，通常都会指定排序规则</p></blockquote><pre><code class="language-C++">#include &lt;set&gt;
#include &lt;string&gt;

class Person &#123;
 public:
	Person(string name, int age) &#123;
		this-&gt;m_Name = name;
		this-&gt;m_Age = age;
	&#125;
	string m_Name;
	int m_Age;
&#125;;

class ComparePerson &#123;
 public:
	bool operator()(const Person&amp; p1, const Person&amp; p2) &#123;
		//按照年龄进行排序  降序
		return p1.m_Age &gt; p2.m_Age;
	&#125;
&#125;;

int main() &#123;

	set&lt;Person, ComparePerson&gt; s;

	Person p1(&quot;刘备&quot;, 23);
	Person p2(&quot;关羽&quot;, 27);
	Person p3(&quot;张飞&quot;, 25);
	Person p4(&quot;赵云&quot;, 21);

	s.insert(p1);
	s.insert(p2);
	s.insert(p3);
	s.insert(p4);

	for (set&lt;Person, comparePerson&gt;::iterator it = s.begin(); it != s.end(); it++) &#123;
		cout &lt;&lt; &quot;姓名： &quot; &lt;&lt; it-&gt;m_Name &lt;&lt; &quot; 年龄： &quot; &lt;&lt; it-&gt;m_Age &lt;&lt; endl;
	&#125;

	return 0;
&#125;
</code></pre><p>总结：</p><p>对于自定义数据类型，set 必须指定排序规则才可以插入数据</p><h2 id="39-map-multimap容器"><a class="anchor" href="#39-map-multimap容器">#</a> 3.9 map/multimap 容器</h2><h3 id="391-map基本概念"><a class="anchor" href="#391-map基本概念">#</a> 3.9.1 map 基本概念</h3><p><strong>简介：</strong></p><ul><li>map 中所有元素都是 pair</li><li>pair 中第一个元素为 key（键值），起到索引作用，第二个元素为 value（实值）</li><li>所有元素都会根据元素的键值自动排序</li></ul><p><strong>本质：</strong></p><ul><li>map/multimap 属于<strong>关联式容器</strong>，底层结构是用二叉树实现。</li></ul><p><strong>优点：</strong></p><ul><li>可以根据 key 值快速找到 value 值</li></ul><p>map 和 multimap<strong> 区别</strong>：</p><ul><li>map 不允许容器中有重复 key 值元素</li><li>multimap 允许容器中有重复 key 值元素</li></ul><h3 id="392-map构造和赋值"><a class="anchor" href="#392-map构造和赋值">#</a> 3.9.2 map 构造和赋值</h3><p><strong>功能描述：</strong></p><ul><li>对 map 容器进行构造和赋值操作</li></ul><p><strong>函数原型：</strong></p><p><strong>构造：</strong></p><ul><li><code>map&lt;T1, T2&gt; mp;</code> //map 默认构造函数:</li><li><code>map(const map&amp; mp);</code> // 拷贝构造函数</li></ul><p><strong>赋值：</strong></p><ul><li><code>map&amp; operator=(const map&amp; mp);</code> // 重载等号操作符</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;map&gt;

void printMap(map&lt;int, int&gt;&amp; m) &#123;
	for (map&lt;int, int&gt;::iterator it = m.begin(); it != m.end(); it++) &#123;
		cout &lt;&lt; &quot;key = &quot; &lt;&lt; it-&gt;first &lt;&lt; &quot; value = &quot; &lt;&lt; it-&gt;second &lt;&lt; endl;
	&#125;
	cout &lt;&lt; endl;
&#125;

int main() &#123;

	map&lt;int, int&gt; m; //默认构造
	m.insert(pair&lt;int, int&gt;(1, 10));
	m.insert(pair&lt;int, int&gt;(2, 20));
	m.insert(pair&lt;int, int&gt;(3, 30));
	printMap(m);

	map&lt;int, int&gt; m2(m); //拷贝构造
	printMap(m2);

	map&lt;int, int&gt; m3;
	m3 = m2; //赋值
	printMap(m3);

	return 0;
&#125;
</code></pre><p>总结：map 中所有元素都是成对出现，插入数据时候要使用对组</p><h3 id="393-map大小和交换"><a class="anchor" href="#393-map大小和交换">#</a> 3.9.3 map 大小和交换</h3><p><strong>功能描述：</strong></p><ul><li>统计 map 容器大小以及交换 map 容器</li></ul><p>函数原型：</p><ul><li><code>size();</code> // 返回容器中元素的数目</li><li><code>empty();</code> // 判断容器是否为空</li><li><code>swap(st);</code> // 交换两个集合容器</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;map&gt;

void printMap(map&lt;int,int&gt;&amp; m) &#123;
	for (map&lt;int, int&gt;::iterator it = m.begin(); it != m.end(); it++) &#123;
		cout &lt;&lt; &quot;key = &quot; &lt;&lt; it-&gt;first &lt;&lt; &quot; value = &quot; &lt;&lt; it-&gt;second &lt;&lt; endl;
	&#125;
	cout &lt;&lt; endl;
&#125;

void test01() &#123;
	map&lt;int, int&gt; m;
	m.insert(pair&lt;int, int&gt;(1, 10));
	m.insert(pair&lt;int, int&gt;(2, 20));
	m.insert(pair&lt;int, int&gt;(3, 30));

	if (m.empty()) &#123;
		cout &lt;&lt; &quot;m为空&quot; &lt;&lt; endl;
	&#125; else &#123;
		cout &lt;&lt; &quot;m不为空&quot; &lt;&lt; endl;
		cout &lt;&lt; &quot;m的大小为： &quot; &lt;&lt; m.size() &lt;&lt; endl;
	&#125;
&#125;

//交换
void test02() &#123;
	map&lt;int, int&gt; m;
	m.insert(pair&lt;int, int&gt;(1, 10));
	m.insert(pair&lt;int, int&gt;(2, 20));
	m.insert(pair&lt;int, int&gt;(3, 30));

	map&lt;int, int&gt; m2;
	m2.insert(pair&lt;int, int&gt;(4, 100));
	m2.insert(pair&lt;int, int&gt;(5, 200));
	m2.insert(pair&lt;int, int&gt;(6, 300));

	cout &lt;&lt; &quot;交换前&quot; &lt;&lt; endl;
	printMap(m);
	printMap(m2);

	cout &lt;&lt; &quot;交换后&quot; &lt;&lt; endl;
	m.swap(m2);
	printMap(m);
	printMap(m2);
&#125;

int main() &#123;

	test01();
	test02();

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>统计大小 --- size</li><li>判断是否为空 --- empty</li><li>交换容器 --- swap</li></ul><h3 id="394-map插入和删除"><a class="anchor" href="#394-map插入和删除">#</a> 3.9.4 map 插入和删除</h3><p><strong>功能描述：</strong></p><ul><li>map 容器进行插入数据和删除数据</li></ul><p><strong>函数原型：</strong></p><ul><li><code>insert(elem);</code> // 在容器中插入元素。</li><li><code>clear();</code> // 清除所有元素</li><li><code>erase(pos);</code> // 删除 pos 迭代器所指的元素，返回下一个元素的迭代器。</li><li><code>erase(beg, end);</code> // 删除区间 [beg,end) 的所有元素 ，返回下一个元素的迭代器。</li><li><code>erase(key);</code> // 删除容器中值为 key 的元素。</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;map&gt;

void printMap(map&lt;int,int&gt;&amp; m) &#123;
	for (map&lt;int, int&gt;::iterator it = m.begin(); it != m.end(); it++) &#123;
		cout &lt;&lt; &quot;key = &quot; &lt;&lt; it-&gt;first &lt;&lt; &quot; value = &quot; &lt;&lt; it-&gt;second &lt;&lt; endl;
	&#125;
	cout &lt;&lt; endl;
&#125;

int main() &#123;

	//插入
	map&lt;int, int&gt; m;
	//第一种插入方式
	m.insert(pair&lt;int, int&gt;(1, 10));
	//第二种插入方式
	m.insert(make_pair(2, 20));
	//第三种插入方式
	m.insert(map&lt;int, int&gt;::value_type(3, 30));
	//第四种插入方式
	m[4] = 40;
  // []不建议插入
  cout &lt;&lt; m[5] &lt;&lt; endl;// 0。如果没有找到key为5的数字，会创建出来一个key为5value为0的键值对
  // 用途：可以利用key访问到value
  cout &lt;&lt; m[4] &lt;&lt; endl;// 40
	printMap(m);// 1-10、2-20、3-30、4-40、5-0

	//删除
	m.erase(m.begin());
	printMap(m);
	m.erase(3);
	printMap(m);

	//清空
	m.erase(m.begin(), m.end());
	m.clear();
	printMap(m);

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li><p>map 插入方式很多，记住其一即可</p></li><li><p>插入 --- insert</p></li><li><p>删除 --- erase</p></li><li><p>清空 --- clear</p></li></ul><h3 id="395-map查找和统计"><a class="anchor" href="#395-map查找和统计">#</a> 3.9.5 map 查找和统计</h3><p><strong>功能描述：</strong></p><ul><li>对 map 容器进行查找数据以及统计数据</li></ul><p><strong>函数原型：</strong></p><ul><li><code>find(key);</code> // 查找 key 是否存在，若存在，返回该键的元素的迭代器；若不存在，返回 set.end ();</li><li><code>count(key);</code> // 统计 key 的元素个数</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;map&gt;

//查找和统计
int main() &#123;

	map&lt;int, int&gt; m; 
	m.insert(pair&lt;int, int&gt;(1, 10));
	m.insert(pair&lt;int, int&gt;(2, 20));
	m.insert(pair&lt;int, int&gt;(3, 30));
  m.insert(pair&lt;int, int&gt;(3, 40));// 插不进去。map不允许插入重复key的元素

	//查找
	map&lt;int, int&gt;::iterator pos = m.find(3);
	if (pos != m.end()) &#123;
		cout &lt;&lt; &quot;找到了元素 key = &quot; &lt;&lt; (*pos).first &lt;&lt; &quot; value = &quot; &lt;&lt; pos-&gt;second &lt;&lt; endl;
	&#125; else &#123;
		cout &lt;&lt; &quot;未找到元素&quot; &lt;&lt; endl;
	&#125;

	//统计
	int num = m.count(3);
	cout &lt;&lt; &quot;num = &quot; &lt;&lt; num &lt;&lt; endl;// 1

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>查找 --- find （返回的是迭代器）</li><li>统计 --- count （对于 map，结果为 0 或者 1）</li></ul><h3 id="396-map容器排序"><a class="anchor" href="#396-map容器排序">#</a> 3.9.6 map 容器排序</h3><p><strong>学习目标：</strong></p><ul><li>map 容器默认排序规则为 按照 key 值进行 从小到大排序，掌握如何改变排序规则</li></ul><p><strong>主要技术点:</strong></p><ul><li>利用仿函数，可以改变排序规则</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;map&gt;

class MyCompare &#123;
 public:
	bool operator()(int v1, int v2) &#123;
		return v1 &gt; v2;
	&#125;
&#125;;

int main() &#123;

	//默认从小到大排序
	//利用仿函数实现从大到小排序
	map&lt;int, int, MyCompare&gt; m;

	m.insert(make_pair(1, 10));
	m.insert(make_pair(2, 20));
	m.insert(make_pair(3, 30));
	m.insert(make_pair(4, 40));
	m.insert(make_pair(5, 50));

	for (map&lt;int, int, MyCompare&gt;::iterator it = m.begin(); it != m.end(); it++) &#123;
		cout &lt;&lt; &quot;key:&quot; &lt;&lt; it-&gt;first &lt;&lt; &quot; value:&quot; &lt;&lt; it-&gt;second &lt;&lt; endl;
	&#125;

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>利用仿函数可以指定 map 容器的排序规则</li><li>对于自定义数据类型的 key，map 必须要指定排序规则，同 set 容器</li></ul><h2 id="310-案例-员工分组"><a class="anchor" href="#310-案例-员工分组">#</a> 3.10 案例 - 员工分组</h2><h3 id="3101-案例描述"><a class="anchor" href="#3101-案例描述">#</a> 3.10.1 案例描述</h3><ul><li>公司今天招聘了 10 个员工（ABCDEFGHIJ），10 名员工进入公司之后，需要指派员工在那个部门工作</li><li>员工信息有：姓名 工资组成；部门分为：策划、美术、研发</li><li>随机给 10 名员工分配部门和工资</li><li>通过 multimap 进行信息的插入 key (部门编号) value (员工)</li><li>分部门显示员工信息</li></ul><h3 id="3102-实现步骤"><a class="anchor" href="#3102-实现步骤">#</a> 3.10.2 实现步骤</h3><ol><li>创建 10 名员工，放到 vector 中</li><li>遍历 vector 容器，取出每个员工，进行随机分组</li><li>分组后，将员工部门编号作为 key，具体员工作为 value，放入到 multimap 容器中</li><li>分部门显示员工信息</li></ol><p><strong>案例代码：</strong></p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;map></span></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;ctime></span></span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">/*</span></pre></td></tr><tr><td data-num="9"></td><td><pre>- 公司今天招聘了 10 个员工（ABCDEFGHIJ），10 名员工进入公司之后，需要指派员工在那个部门工作</pre></td></tr><tr><td data-num="10"></td><td><pre>- 员工信息有：姓名  工资组成；部门分为：策划、美术、研发</pre></td></tr><tr><td data-num="11"></td><td><pre>- 随机给 10 名员工分配部门和工资</pre></td></tr><tr><td data-num="12"></td><td><pre>- 通过 multimap 进行信息的插入  key (部门编号) value (员工)</pre></td></tr><tr><td data-num="13"></td><td><pre>- 分部门显示员工信息</pre></td></tr><tr><td data-num="14"></td><td><pre>*/</pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">CEHUA</span>  <span class="token expression"><span class="token number">0</span></span></span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">MEISHU</span> <span class="token expression"><span class="token number">1</span></span></span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">YANFA</span>  <span class="token expression"><span class="token number">2</span></span></span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">class</span> <span class="token class-name">Worker</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre> <span class="token keyword">public</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="22"></td><td><pre>  string m_Name<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>  <span class="token keyword">int</span> m_Salary<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token keyword">void</span> <span class="token function">createWorker</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Worker<span class="token operator">></span><span class="token operator">&amp;</span> v<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>  string nameSeed <span class="token operator">=</span> <span class="token string">"ABCDEFGHIJ"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    Worker worker<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>    worker<span class="token punctuation">.</span>m_Name <span class="token operator">=</span> <span class="token string">"员工"</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>    worker<span class="token punctuation">.</span>m_Name <span class="token operator">+=</span> nameSeed<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre></pre></td></tr><tr><td data-num="33"></td><td><pre>    worker<span class="token punctuation">.</span>m_Salary <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10000</span> <span class="token operator">+</span> <span class="token number">10000</span><span class="token punctuation">;</span> <span class="token comment">// 10000 ~ 19999</span></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token comment">// 将员工放入到容器中</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>worker<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="37"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="38"></td><td><pre></pre></td></tr><tr><td data-num="39"></td><td><pre><span class="token comment">// 员工分组</span></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token keyword">void</span> <span class="token function">setGroup</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Worker<span class="token operator">></span><span class="token operator">&amp;</span> v<span class="token punctuation">,</span> multimap<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> Worker<span class="token operator">></span><span class="token operator">&amp;</span> m<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>Worker<span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator it <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="42"></td><td><pre>    <span class="token comment">// 产生随机部门编号</span></pre></td></tr><tr><td data-num="43"></td><td><pre>    <span class="token keyword">int</span> deptId <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// 0 1 2 </span></pre></td></tr><tr><td data-num="44"></td><td><pre></pre></td></tr><tr><td data-num="45"></td><td><pre>    <span class="token comment">// 将员工插入到分组中</span></pre></td></tr><tr><td data-num="46"></td><td><pre>    <span class="token comment">//key 部门编号，value 具体员工</span></pre></td></tr><tr><td data-num="47"></td><td><pre>    m<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span>deptId<span class="token punctuation">,</span> <span class="token operator">*</span>it<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="49"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="50"></td><td><pre></pre></td></tr><tr><td data-num="51"></td><td><pre><span class="token keyword">void</span> <span class="token function">showWorkerByGourp</span><span class="token punctuation">(</span>multimap<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> Worker<span class="token operator">></span><span class="token operator">&amp;</span> m<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="52"></td><td><pre>  <span class="token comment">// 0  A  B  C   1  D  E   2  F G ...</span></pre></td></tr><tr><td data-num="53"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"策划部门："</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>  multimap<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> Worker<span class="token operator">></span><span class="token double-colon punctuation">::</span>iterator pos <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>CEHUA<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>  <span class="token keyword">int</span> count <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>CEHUA<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 统计具体人数</span></pre></td></tr><tr><td data-num="56"></td><td><pre>  <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> pos <span class="token operator">!=</span> m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> pos<span class="token operator">++</span> <span class="token punctuation">,</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="58"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"姓名： "</span> <span class="token operator">&lt;&lt;</span> pos<span class="token operator">-></span>second<span class="token punctuation">.</span>m_Name <span class="token operator">&lt;&lt;</span> <span class="token string">" 工资： "</span> <span class="token operator">&lt;&lt;</span> pos<span class="token operator">-></span>second<span class="token punctuation">.</span>m_Salary <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="59"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="60"></td><td><pre></pre></td></tr><tr><td data-num="61"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"----------------------"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"美术部门： "</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>  pos <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>MEISHU<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="64"></td><td><pre>  count <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>MEISHU<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 统计具体人数</span></pre></td></tr><tr><td data-num="65"></td><td><pre>  index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="66"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> pos <span class="token operator">!=</span> m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">,</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"姓名： "</span> <span class="token operator">&lt;&lt;</span> pos<span class="token operator">-></span>second<span class="token punctuation">.</span>m_Name <span class="token operator">&lt;&lt;</span> <span class="token string">" 工资： "</span> <span class="token operator">&lt;&lt;</span> pos<span class="token operator">-></span>second<span class="token punctuation">.</span>m_Salary <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="69"></td><td><pre></pre></td></tr><tr><td data-num="70"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"----------------------"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="71"></td><td><pre>  cout <span class="token operator">&lt;&lt;</span> <span class="token string">"研发部门： "</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="72"></td><td><pre>  pos <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>YANFA<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="73"></td><td><pre>  count <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>YANFA<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 统计具体人数</span></pre></td></tr><tr><td data-num="74"></td><td><pre>  index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="75"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> pos <span class="token operator">!=</span> m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> index <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> pos<span class="token operator">++</span><span class="token punctuation">,</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="76"></td><td><pre>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"姓名： "</span> <span class="token operator">&lt;&lt;</span> pos<span class="token operator">-></span>second<span class="token punctuation">.</span>m_Name <span class="token operator">&lt;&lt;</span> <span class="token string">" 工资： "</span> <span class="token operator">&lt;&lt;</span> pos<span class="token operator">-></span>second<span class="token punctuation">.</span>m_Salary <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="77"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="78"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="79"></td><td><pre></pre></td></tr><tr><td data-num="80"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="81"></td><td><pre></pre></td></tr><tr><td data-num="82"></td><td><pre>  <span class="token function">srand</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="83"></td><td><pre></pre></td></tr><tr><td data-num="84"></td><td><pre>  <span class="token comment">//1、创建员工</span></pre></td></tr><tr><td data-num="85"></td><td><pre>  vector<span class="token operator">&lt;</span>Worker<span class="token operator">></span> vWorker<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>  <span class="token function">createWorker</span><span class="token punctuation">(</span>vWorker<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>  <span class="token comment">// 测试</span></pre></td></tr><tr><td data-num="88"></td><td><pre>  <span class="token comment">//for (vector&lt;Worker>::iterator it = vWorker.begin(); it != vWorker.end(); it++) &#123;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>  <span class="token comment">//  cout &lt;&lt; "姓名：" &lt;&lt; it->m_Name &lt;&lt; "工资：" &lt;&lt; it->m_Salary &lt;&lt; endl;</span></pre></td></tr><tr><td data-num="90"></td><td><pre>  <span class="token comment">//&#125;</span></pre></td></tr><tr><td data-num="91"></td><td><pre></pre></td></tr><tr><td data-num="92"></td><td><pre>  <span class="token comment">//2、员工分组</span></pre></td></tr><tr><td data-num="93"></td><td><pre>  multimap<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> Worker<span class="token operator">></span> mWorker<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="94"></td><td><pre>  <span class="token function">setGroup</span><span class="token punctuation">(</span>vWorker<span class="token punctuation">,</span> mWorker<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="95"></td><td><pre></pre></td></tr><tr><td data-num="96"></td><td><pre>  <span class="token comment">//3、分组显示员工</span></pre></td></tr><tr><td data-num="97"></td><td><pre>  <span class="token function">showWorkerByGourp</span><span class="token punctuation">(</span>mWorker<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="98"></td><td><pre></pre></td></tr><tr><td data-num="99"></td><td><pre>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="100"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>总结：</p><ul><li>当数据以键值对形式存在，可以考虑用 map 或 multimap</li></ul><h1 id="4-stl-函数对象"><a class="anchor" href="#4-stl-函数对象">#</a> 4 STL- 函数对象</h1><h2 id="41-函数对象"><a class="anchor" href="#41-函数对象">#</a> 4.1 函数对象</h2><h3 id="411-函数对象概念"><a class="anchor" href="#411-函数对象概念">#</a> 4.1.1 函数对象概念</h3><p><strong>概念：</strong></p><ul><li>重载<strong>函数调用操作符</strong>的类，其对象常称为<strong>函数对象</strong></li><li><strong>函数对象</strong>使用重载的 () 时，行为类似函数调用，也叫<strong>仿函数</strong></li></ul><p><strong>本质：</strong></p><p>函数对象 (仿函数) 是一个<strong>类</strong>，不是一个函数</p><h3 id="412-函数对象使用"><a class="anchor" href="#412-函数对象使用">#</a> 4.1.2 函数对象使用</h3><p><strong>特点：</strong></p><ul><li>函数对象在使用时，可以像普通函数那样调用，可以有参数，可以有返回值</li><li>函数对象超出普通函数的概念，函数对象可以有自己的状态</li><li>函数对象可以作为参数传递</li></ul><p><strong>示例:</strong></p><pre><code class="language-C++">#include &lt;string&gt;

//1、函数对象在使用时，可以像普通函数那样调用, 可以有参数，可以有返回值
class MyAdd &#123;
 public :
	int operator()(int v1,int v2) &#123;
		return v1 + v2;
	&#125;
&#125;;
void test01() &#123;
	MyAdd myAdd;
	cout &lt;&lt; myAdd(10, 10) &lt;&lt; endl;
&#125;

//2、函数对象可以有自己的状态
class MyPrint &#123;
 public:
	MyPrint() &#123;
		count = 0;
	&#125;
	void operator()(string test) &#123;
		cout &lt;&lt; test &lt;&lt; endl;
		count++; //统计使用次数
	&#125;

	int count; //内部自己的状态
&#125;;
void test02() &#123;
	MyPrint myPrint;
	myPrint(&quot;hello world&quot;);
	myPrint(&quot;hello world&quot;);
	myPrint(&quot;hello world&quot;);
	cout &lt;&lt; &quot;myPrint调用次数为： &quot; &lt;&lt; myPrint.count &lt;&lt; endl;
&#125;

//3、函数对象可以作为参数传递
void doPrint(MyPrint&amp; mp, string test) &#123;
	mp(test);
&#125;
void test03() &#123;
	MyPrint myPrint;
	doPrint(myPrint, &quot;Hello C++&quot;);
&#125;

int main() &#123;

	test01();
	test02();
	test03();

	return 0;
&#125;
</code></pre><p>总结：</p><ul><li>仿函数写法非常灵活，可以作为参数进行传递。</li></ul><h2 id="42-谓词"><a class="anchor" href="#42-谓词">#</a> 4.2 谓词</h2><h3 id="421-谓词概念"><a class="anchor" href="#421-谓词概念">#</a> 4.2.1 谓词概念</h3><p><strong>概念：</strong></p><ul><li>返回 bool 类型的<mark>仿函数</mark>称为<strong>谓词</strong></li><li>如果 operator () 接受一个参数，那么叫做一元谓词</li><li>如果 operator () 接受两个参数，那么叫做二元谓词</li></ul><h3 id="422-一元谓词"><a class="anchor" href="#422-一元谓词">#</a> 4.2.2 一元谓词</h3><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;vector&gt;
#include &lt;algorithm&gt;

//1.一元谓词
class GreaterFive&#123;
	bool operator()(int val) &#123;
		return val &gt; 5;
	&#125;
&#125;;

int main() &#123;

	vector&lt;int&gt; v;
	for (int i = 0; i &lt; 10; i++) &#123;
		v.push_back(i);
	&#125;

  // 查找容器中有没有大于5的数字。第三个参数是匿名函数对象
	vector&lt;int&gt;::iterator it = find_if(v.begin(), v.end(), GreaterFive());
	if (it == v.end()) &#123;
		cout &lt;&lt; &quot;没找到!&quot; &lt;&lt; endl;
	&#125; else &#123;
		cout &lt;&lt; &quot;找到:&quot; &lt;&lt; *it &lt;&lt; endl;
	&#125;

	return 0;
&#125;
</code></pre><blockquote><p>find_if 底层实现：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_InputIterator</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">_Predicate</span><span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre>_LIBCPP_NODISCARD_EXT <span class="token keyword">inline</span> _LIBCPP_INLINE_VISIBILITY</pre></td></tr><tr><td data-num="3"></td><td><pre>    _LIBCPP_CONSTEXPR_SINCE_CXX20 _InputIterator</pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token function">find_if</span><span class="token punctuation">(</span>_InputIterator __first<span class="token punctuation">,</span> _InputIterator __last<span class="token punctuation">,</span> _Predicate __pred<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> __first <span class="token operator">!=</span> __last<span class="token punctuation">;</span> <span class="token operator">++</span>__first<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">__pred</span><span class="token punctuation">(</span><span class="token operator">*</span>__first<span class="token punctuation">)</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>      <span class="token keyword">break</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token keyword">return</span> __first<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></blockquote><p>总结：参数只有一个的谓词，称为一元谓词</p><h3 id="423-二元谓词"><a class="anchor" href="#423-二元谓词">#</a> 4.2.3 二元谓词</h3><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;vector&gt;
#include &lt;algorithm&gt;
//二元谓词
class MyCompare &#123;
 public:
	bool operator()(int num1, int num2) &#123;
		return num1 &gt; num2;
	&#125;
&#125;;

int main() &#123;

	vector&lt;int&gt; v;
	v.push_back(10);
	v.push_back(40);
	v.push_back(20);
	v.push_back(30);
	v.push_back(50);

	//默认从小到大
	sort(v.begin(), v.end());
	for (vector&lt;int&gt;::iterator it = v.begin(); it != v.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;
	cout &lt;&lt; &quot;----------------------------&quot; &lt;&lt; endl;

	//使用函数对象改变算法策略，排序从大到小
	sort(v.begin(), v.end(), MyCompare());
	for (vector&lt;int&gt;::iterator it = v.begin(); it != v.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>总结：参数只有两个的谓词，称为二元谓词</p><h2 id="43-内建函数对象"><a class="anchor" href="#43-内建函数对象">#</a> 4.3 内建函数对象</h2><h3 id="431-内建函数对象意义"><a class="anchor" href="#431-内建函数对象意义">#</a> 4.3.1 内建函数对象意义</h3><p><strong>概念：</strong></p><ul><li>STL 内建了一些函数对象</li></ul><p><strong>分类:</strong></p><ul><li>算术仿函数</li><li>关系仿函数</li><li>逻辑仿函数</li></ul><p><strong>用法：</strong></p><ul><li>这些仿函数所产生的对象，用法和一般函数完全相同</li><li>使用内建函数对象，需要引入头文件 <code>#include&lt;functional&gt;</code></li></ul><h3 id="432-算术仿函数"><a class="anchor" href="#432-算术仿函数">#</a> 4.3.2 算术仿函数</h3><p><strong>功能描述：</strong></p><ul><li>实现四则运算</li><li>其中 negate 是一元运算，其他都是二元运算</li></ul><p><strong>仿函数原型：</strong></p><ul><li><code>template&lt;class T&gt; T plus&lt;T&gt;</code> // 加法仿函数</li><li><code>template&lt;class T&gt; T minus&lt;T&gt;</code> // 减法仿函数</li><li><code>template&lt;class T&gt; T multiplies&lt;T&gt;</code> // 乘法仿函数</li><li><code>template&lt;class T&gt; T divides&lt;T&gt;</code> // 除法仿函数</li><li><code>template&lt;class T&gt; T modulus&lt;T&gt;</code> // 取模仿函数</li><li><code>template&lt;class T&gt; T negate&lt;T&gt;</code> // 取反仿函数</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;functional&gt;
//negate
void test01() &#123;
	negate&lt;int&gt; n;
	cout &lt;&lt; n(50) &lt;&lt; endl;
&#125;

//plus
void test02() &#123;
	plus&lt;int&gt; p;
	cout &lt;&lt; p(10, 20) &lt;&lt; endl;
&#125;

int main() &#123;

	test01();
	test02();

	return 0;
&#125;
</code></pre><p>总结：使用内建函数对象时，需要引入头文件 <code>#include &lt;functional&gt;</code></p><h3 id="433-关系仿函数"><a class="anchor" href="#433-关系仿函数">#</a> 4.3.3 关系仿函数</h3><p><strong>功能描述：</strong></p><ul><li>实现关系对比</li></ul><p><strong>仿函数原型：</strong></p><ul><li><code>template&lt;class T&gt; bool equal_to&lt;T&gt;</code> // 等于</li><li><code>template&lt;class T&gt; bool not_equal_to&lt;T&gt;</code> // 不等于</li><li><code>template&lt;class T&gt; bool greater&lt;T&gt;</code> // 大于</li><li><code>template&lt;class T&gt; bool greater_equal&lt;T&gt;</code> // 大于等于</li><li><code>template&lt;class T&gt; bool less&lt;T&gt;</code> // 小于</li><li><code>template&lt;class T&gt; bool less_equal&lt;T&gt;</code> // 小于等于</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;functional&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

class MyCompare &#123;
 public:
	bool operator()(int v1,int v2) &#123;
		return v1 &gt; v2;
	&#125;
&#125;;

int main() &#123;

	vector&lt;int&gt; v;

	v.push_back(10);
	v.push_back(30);
	v.push_back(50);
	v.push_back(40);
	v.push_back(20);

	for (vector&lt;int&gt;::iterator it = v.begin(); it != v.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;

	//自己实现仿函数
	//sort(v.begin(), v.end(), MyCompare());
  
	//STL内建仿函数  大于仿函数
	sort(v.begin(), v.end(), greater&lt;int&gt;());

	for (vector&lt;int&gt;::iterator it = v.begin(); it != v.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>总结：关系仿函数中最常用的就是 greater&lt;&gt; 大于</p><h3 id="434-逻辑仿函数"><a class="anchor" href="#434-逻辑仿函数">#</a> 4.3.4 逻辑仿函数</h3><p><strong>功能描述：</strong></p><ul><li>实现逻辑运算</li></ul><p><strong>函数原型：</strong></p><ul><li><code>template&lt;class T&gt; bool logical_and&lt;T&gt;</code> // 逻辑与</li><li><code>template&lt;class T&gt; bool logical_or&lt;T&gt;</code> // 逻辑或</li><li><code>template&lt;class T&gt; bool logical_not&lt;T&gt;</code> // 逻辑非</li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;vector&gt;
#include &lt;functional&gt;
#include &lt;algorithm&gt;

int main() &#123;

	vector&lt;bool&gt; v;
	v.push_back(true);
	v.push_back(false);
	v.push_back(true);
	v.push_back(false);

	for (vector&lt;bool&gt;::iterator it = v.begin(); it!= v.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;

	//逻辑非  将v容器搬运到v2中，并执行逻辑非运算
	vector&lt;bool&gt; v2;
	v2.resize(v.size());
	transform(v.begin(), v.end(), v2.begin(), logical_not&lt;bool&gt;());
	for (vector&lt;bool&gt;::iterator it = v2.begin(); it != v2.end(); it++) &#123;
		cout &lt;&lt; *it &lt;&lt; &quot; &quot;;
	&#125;
	cout &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>总结：逻辑仿函数实际应用较少，了解即可</p><h1 id="5-stl-常用算法"><a class="anchor" href="#5-stl-常用算法">#</a> 5 STL- 常用算法</h1><p><strong>概述</strong>:</p><ul><li><p>算法主要是由头文件 <code>&lt;algorithm&gt;</code> <code>&lt;functional&gt;</code> <code>&lt;numeric&gt;</code> 组成。</p></li><li><p><code>&lt;algorithm&gt;</code> 是所有 STL 头文件中最大的一个，范围涉及到比较、 交换、查找、遍历操作、复制、修改等等</p></li><li><p><code>&lt;numeric&gt;</code> 体积很小，只包括几个在序列上面进行简单数学运算的模板函数</p></li><li><p><code>&lt;functional&gt;</code> 定义了一些模板类，用以声明函数对象。</p></li></ul><h2 id="51-常用遍历算法"><a class="anchor" href="#51-常用遍历算法">#</a> 5.1 常用遍历算法</h2><p><strong>学习目标：</strong></p><ul><li>掌握常用的遍历算法</li></ul><p><strong>算法简介：</strong></p><ul><li><code>for_each</code> // 遍历容器</li><li><code>transform</code> // 搬运容器到另一个容器中</li></ul><h3 id="511-for_each"><a class="anchor" href="#511-for_each">#</a> 5.1.1 for_each</h3><p><strong>功能描述：</strong></p><ul><li>实现遍历容器</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>for_each(iterator beg, iterator end, _func);</code></p><p>// 遍历算法 遍历容器元素</p><p>//beg 开始迭代器</p><p>//end 结束迭代器</p><p>//_func 函数或者函数对象</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;algorithm&gt;
#include &lt;vector&gt;

//普通函数
void print01(int val) &#123;
	cout &lt;&lt; val &lt;&lt; &quot; &quot;;
&#125;
//函数对象（仿函数）
class Print02 &#123;
 public:
	void operator()(int val) &#123;
		cout &lt;&lt; val &lt;&lt; &quot; &quot;;
	&#125;
&#125;;

//for_each算法基本用法
int main() &#123;

	vector&lt;int&gt; v;
	for (int i = 0; i &lt; 10; i++) &#123;
		v.push_back(i);
	&#125;

	//遍历算法
	for_each(v.begin(), v.end(), print01);
	cout &lt;&lt; endl;

	for_each(v.begin(), v.end(), Print02());
	cout &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>** 总结：**for_each 在实际开发中是最常用遍历算法，需要熟练掌握</p><h3 id="512-transform"><a class="anchor" href="#512-transform">#</a> 5.1.2 transform</h3><p><strong>功能描述：</strong></p><ul><li>搬运容器到另一个容器中</li></ul><p><strong>函数原型：</strong></p><ul><li><code>transform(iterator beg1, iterator end1, iterator beg2, _func);</code></li></ul><p>//beg1 源容器开始迭代器</p><p>//end1 源容器结束迭代器</p><p>//beg2 目标容器开始迭代器</p><p>//_func 函数或者函数对象</p><p><strong>示例：</strong></p><pre><code class="language-C++">#include&lt;vector&gt;
#include&lt;algorithm&gt;

//常用遍历算法  搬运 transform

class TransForm &#123;
 public:
	int operator()(int val) &#123;
		return val + 100;
	&#125;
&#125;;

class MyPrint &#123;
 public:
	void operator()(int val) &#123;
		cout &lt;&lt; val &lt;&lt; &quot; &quot;;
	&#125;
&#125;;

int main() &#123;

	vector&lt;int&gt; v;
	for (int i = 0; i &lt; 10; i++) &#123;
		v.push_back(i);
	&#125;

	vector&lt;int&gt; vTarget; //目标容器

	vTarget.resize(v.size()); // 目标容器需要提前开辟空间
	transform(v.begin(), v.end(), vTarget.begin(), TransForm());

	for_each(vTarget.begin(), vTarget.end(), MyPrint());

	return 0;
&#125;
</code></pre><p><strong>总结：</strong> 搬运的目标容器必须要提前开辟空间，否则无法正常搬运</p><h2 id="52-常用查找算法"><a class="anchor" href="#52-常用查找算法">#</a> 5.2 常用查找算法</h2><p>学习目标：</p><ul><li>掌握常用的查找算法</li></ul><p><strong>算法简介：</strong></p><ul><li><code>find</code> // 查找元素</li><li><code>find_if</code> // 按条件查找元素</li><li><code>adjacent_find</code> // 查找相邻重复元素</li><li><code>binary_search</code> // 二分查找法</li><li><code>count</code> // 统计元素个数</li><li><code>count_if</code> // 按条件统计元素个数</li></ul><h3 id="521-find"><a class="anchor" href="#521-find">#</a> 5.2.1 find</h3><p><strong>功能描述：</strong></p><ul><li>查找指定元素，找到返回指定元素的迭代器，找不到返回结束迭代器 end ()</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>find(iterator beg, iterator end, value);</code></p><p>// 按值查找元素，找到返回指定位置迭代器，找不到返回结束迭代器位置</p><p>//beg 开始迭代器</p><p>//end 结束迭代器</p><p>//value 查找的元素</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;string&gt;
void test01() &#123;

	vector&lt;int&gt; v;
	for (int i = 0; i &lt; 10; i++) &#123;
		v.push_back(i + 1);
	&#125;
	//查找容器中是否有 5 这个元素
	vector&lt;int&gt;::iterator it = find(v.begin(), v.end(), 5);
	if (it == v.end()) &#123;
		cout &lt;&lt; &quot;没有找到!&quot; &lt;&lt; endl;
	&#125; else &#123;
		cout &lt;&lt; &quot;找到:&quot; &lt;&lt; *it &lt;&lt; endl;
	&#125;
&#125;

class Person &#123;
 public:
	Person(string name, int age) &#123;
		this-&gt;m_Name = name;
		this-&gt;m_Age = age;
	&#125;
	//重载==，让底层的find知道如何对比Person数据类型
	bool operator==(const Person&amp; p) &#123;
		if (this-&gt;m_Name == p.m_Name &amp;&amp; this-&gt;m_Age == p.m_Age) &#123;
			return true;
		&#125;
		return false;
	&#125;

 public:
	string m_Name;
	int m_Age;
&#125;;
void test02() &#123;

	vector&lt;Person&gt; v;

	//创建数据
	Person p1(&quot;aaa&quot;, 10);
	Person p2(&quot;bbb&quot;, 20);
	Person p3(&quot;ccc&quot;, 30);
	Person p4(&quot;ddd&quot;, 40);

	v.push_back(p1);
	v.push_back(p2);
	v.push_back(p3);
	v.push_back(p4);

	vector&lt;Person&gt;::iterator it = find(v.begin(), v.end(), p2);
	if (it == v.end()) &#123;
		cout &lt;&lt; &quot;没有找到!&quot; &lt;&lt; endl;
	&#125; else &#123;
		cout &lt;&lt; &quot;找到姓名:&quot; &lt;&lt; it-&gt;m_Name &lt;&lt; &quot; 年龄: &quot; &lt;&lt; it-&gt;m_Age &lt;&lt; endl;
	&#125;
&#125;
</code></pre><blockquote><p>find 算法现在操纵的是自定义的数据类型 Person，它不知道怎么去做 <code>==</code> 号的对比，所以要给 Person 重载 <code>==</code> 号</p></blockquote><p>总结： 利用 find 可以在容器中找指定的元素，返回值是<strong>迭代器</strong></p><h3 id="522-find_if"><a class="anchor" href="#522-find_if">#</a> 5.2.2 find_if</h3><p><strong>功能描述：</strong></p><ul><li>按条件查找元素</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>find_if(iterator beg, iterator end, _Pred);</code></p><p>// 按值查找元素，找到返回指定位置迭代器，找不到返回结束迭代器位置</p><p>//beg 开始迭代器</p><p>//end 结束迭代器</p><p>//_Pred 函数或者谓词（返回 bool 类型的仿函数）</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;string&gt;

//1、查找内置数据类型
class GreaterFive &#123;
 public:
	bool operator()(int val) &#123;
		return val &gt; 5;
	&#125;
&#125;;
void test01() &#123;

	vector&lt;int&gt; v;
	for (int i = 0; i &lt; 10; i++) &#123;
		v.push_back(i + 1);
	&#125;

	vector&lt;int&gt;::iterator it = find_if(v.begin(), v.end(), GreaterFive());
	if (it == v.end()) &#123;
		cout &lt;&lt; &quot;没有找到!&quot; &lt;&lt; endl;
	&#125; else &#123;
		cout &lt;&lt; &quot;找到大于5的数字:&quot; &lt;&lt; *it &lt;&lt; endl;
	&#125;
&#125;

//2、查找自定义数据类型
class Person &#123;
 public:
	Person(string name, int age) &#123;
		this-&gt;m_Name = name;
		this-&gt;m_Age = age;
	&#125;
 public:
	string m_Name;
	int m_Age;
&#125;;
class Greater20 &#123;
 public:
	bool operator()(Person&amp; p) &#123;
		return p.m_Age &gt; 20;
	&#125;
&#125;;
void test02() &#123;

	vector&lt;Person&gt; v;

	//创建数据
	Person p1(&quot;aaa&quot;, 10);
	Person p2(&quot;bbb&quot;, 20);
	Person p3(&quot;ccc&quot;, 30);
	Person p4(&quot;ddd&quot;, 40);

	v.push_back(p1);
	v.push_back(p2);
	v.push_back(p3);
	v.push_back(p4);

	vector&lt;Person&gt;::iterator it = find_if(v.begin(), v.end(), Greater20());
	if (it == v.end()) &#123;
		cout &lt;&lt; &quot;没有找到!&quot; &lt;&lt; endl;
	&#125; else &#123;
		cout &lt;&lt; &quot;找到姓名:&quot; &lt;&lt; it-&gt;m_Name &lt;&lt; &quot; 年龄: &quot; &lt;&lt; it-&gt;m_Age &lt;&lt; endl;
	&#125;
&#125;

int main() &#123;

	test01();
	test02();

	return 0;
&#125;
</code></pre><p>总结：find_if 按条件查找使查找更加灵活，提供的仿函数可以改变不同的策略</p><h3 id="523-adjacent_find"><a class="anchor" href="#523-adjacent_find">#</a> 5.2.3 adjacent_find</h3><p><strong>功能描述：</strong></p><ul><li>查找相邻重复元素</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>adjacent_find(iterator beg, iterator end);</code></p><p>// 查找相邻重复元素，返回相邻元素的第一个位置的迭代器</p><p>//beg 开始迭代器</p><p>//end 结束迭代器</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;algorithm&gt;
#include &lt;vector&gt;

void test01() &#123;
	vector&lt;int&gt; v;
	v.push_back(1);
	v.push_back(2);
	v.push_back(5);
	v.push_back(2);
	v.push_back(4);
	v.push_back(4);
	v.push_back(3);

	//查找相邻重复元素
	vector&lt;int&gt;::iterator it = adjacent_find(v.begin(), v.end());
	if (it == v.end()) &#123;
		cout &lt;&lt; &quot;找不到!&quot; &lt;&lt; endl;
	&#125; else &#123;
		cout &lt;&lt; &quot;找到相邻重复元素为:&quot; &lt;&lt; *it &lt;&lt; endl;
	&#125;
&#125;
</code></pre><p>总结：面试题中如果出现查找相邻重复元素，记得用 STL 中的 adjacent_find 算</p><h3 id="524-binary_search"><a class="anchor" href="#524-binary_search">#</a> 5.2.4 binary_search</h3><p><strong>功能描述：</strong></p><ul><li>查找指定元素是否存在</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>bool binary_search(iterator beg, iterator end, value);</code></p><p>// 查找指定的元素，查到 返回 true 否则 false</p><p>// 注意：在<strong>无序序列中不可用</strong></p><p>//beg 开始迭代器</p><p>//end 结束迭代器</p><p>//value 查找的元素</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;algorithm&gt;
#include &lt;vector&gt;

int main() &#123;

	vector&lt;int&gt; v;

	for (int i = 0; i &lt; 10; i++) &#123;
		v.push_back(i);
	&#125;
  // v.push_back(2);// 如果是无序序列，结果会输出&quot;未找到&quot;
	//二分查找
	bool ret = binary_search(v.begin(), v.end(), 2);
	if (ret) &#123;
		cout &lt;&lt; &quot;找到了&quot; &lt;&lt; endl;
	&#125; else &#123;
		cout &lt;&lt; &quot;未找到&quot; &lt;&lt; endl;
	&#125;

	return 0;
&#125;
</code></pre><p>** 总结：** 二分查找法查找效率很高，值得注意的是查找的容器中元素必须的有序序列</p><h3 id="525-count"><a class="anchor" href="#525-count">#</a> 5.2.5 count</h3><p><strong>功能描述：</strong></p><ul><li>统计元素个数</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>count(iterator beg, iterator end, value);</code></p><p>// 统计元素出现次数</p><p>//beg 开始迭代器</p><p>//end 结束迭代器</p><p>//value 统计的元素</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;algorithm&gt;
#include &lt;vector&gt;

//内置数据类型
void test01() &#123;
	vector&lt;int&gt; v;
	v.push_back(1);
	v.push_back(2);
	v.push_back(4);
	v.push_back(5);
	v.push_back(3);
	v.push_back(4);
	v.push_back(4);

	int num = count(v.begin(), v.end(), 4);

	cout &lt;&lt; &quot;4的个数为： &quot; &lt;&lt; num &lt;&lt; endl;
&#125;

//自定义数据类型
class Person &#123;
 public:
	Person(string name, int age) &#123;
		this-&gt;m_Name = name;
		this-&gt;m_Age = age;
	&#125;
	bool operator==(const Person&amp; p) &#123;// 必须加const，否则会报错
		if (this-&gt;m_Age == p.m_Age) &#123;
			return true;
		&#125; else &#123;
			return false;
		&#125;
	&#125;
	string m_Name;
	int m_Age;
&#125;;
void test02() &#123;
	vector&lt;Person&gt; v;

	Person p1(&quot;刘备&quot;, 35);
	Person p2(&quot;关羽&quot;, 35);
	Person p3(&quot;张飞&quot;, 35);
	Person p4(&quot;赵云&quot;, 30);
	Person p5(&quot;曹操&quot;, 25);

	v.push_back(p1);
	v.push_back(p2);
	v.push_back(p3);
	v.push_back(p4);
	v.push_back(p5);
    
  Person p(&quot;诸葛亮&quot;,35);

	int num = count(v.begin(), v.end(), p);
	cout &lt;&lt; &quot;num = &quot; &lt;&lt; num &lt;&lt; endl;
&#125;
int main() &#123;

	test01();
	test02();

	return 0;
&#125;
</code></pre><blockquote><p>count 算法底层实现：</p><figure class="highlight cpp"><figcaption data-lang="C++"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">template</span> <span class="token operator">&lt;</span><span class="token keyword">class</span> <span class="token class-name">_InputIterator</span><span class="token punctuation">,</span> <span class="token keyword">class</span> <span class="token class-name">_Tp</span><span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre>_LIBCPP_NODISCARD_EXT <span class="token keyword">inline</span> _LIBCPP_INLINE_VISIBILITY _LIBCPP_CONSTEXPR_SINCE_CXX20</pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">typename</span> <span class="token class-name">iterator_traits</span><span class="token operator">&lt;</span>_InputIterator<span class="token operator">></span><span class="token double-colon punctuation">::</span>difference_type</pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token function">count</span><span class="token punctuation">(</span>_InputIterator __first<span class="token punctuation">,</span> _InputIterator __last<span class="token punctuation">,</span> <span class="token keyword">const</span> _Tp<span class="token operator">&amp;</span> __value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token keyword">typename</span> <span class="token class-name">iterator_traits</span><span class="token operator">&lt;</span>_InputIterator<span class="token operator">></span><span class="token double-colon punctuation">::</span>difference_type <span class="token function">__r</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> __first <span class="token operator">!=</span> __last<span class="token punctuation">;</span> <span class="token operator">++</span>__first<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>__first <span class="token operator">==</span> __value<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>      <span class="token operator">++</span>__r<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token keyword">return</span> __r<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></blockquote><p><strong>总结：</strong> 统计自定义数据类型时候，需要配合重载 <code>operator==</code></p><h3 id="526-count_if"><a class="anchor" href="#526-count_if">#</a> 5.2.6 count_if</h3><p><strong>功能描述：</strong></p><ul><li>按条件统计元素个数</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>count_if(iterator beg, iterator end, _Pred);</code></p><p>// 按条件统计元素出现次数</p><p>//beg 开始迭代器</p><p>//end 结束迭代器</p><p>//_Pred 谓词</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;algorithm&gt;
#include &lt;vector&gt;

class Greater4 &#123;
 public:
	bool operator()(int val) &#123;
		return val &gt;= 4;
	&#125;
&#125;;
//内置数据类型
void test01() &#123;
	vector&lt;int&gt; v;
	v.push_back(1);
	v.push_back(2);
	v.push_back(4);
	v.push_back(5);
	v.push_back(3);
	v.push_back(4);
	v.push_back(4);

	int num = count_if(v.begin(), v.end(), Greater4());

	cout &lt;&lt; &quot;大于4的个数为： &quot; &lt;&lt; num &lt;&lt; endl;
&#125;

//自定义数据类型
class Person &#123;
 public:
	Person(string name, int age) &#123;
		this-&gt;m_Name = name;
		this-&gt;m_Age = age;
	&#125;

	string m_Name;
	int m_Age;
&#125;;
class AgeLess35 &#123;
 public:
	bool operator()(const Person&amp; p) &#123;
		return p.m_Age &lt; 35;
	&#125;
&#125;;
void test02() &#123;
	vector&lt;Person&gt; v;

	Person p1(&quot;刘备&quot;, 35);
	Person p2(&quot;关羽&quot;, 35);
	Person p3(&quot;张飞&quot;, 35);
	Person p4(&quot;赵云&quot;, 30);
	Person p5(&quot;曹操&quot;, 25);

	v.push_back(p1);
	v.push_back(p2);
	v.push_back(p3);
	v.push_back(p4);
	v.push_back(p5);

	int num = count_if(v.begin(), v.end(), AgeLess35());
	cout &lt;&lt; &quot;小于35岁的个数：&quot; &lt;&lt; num &lt;&lt; endl;
&#125;

int main() &#123;

	test01();
	test02();

	return 0;
&#125;
</code></pre><p>** 总结：** 按值统计用 count，按条件统计用 count_if</p><h2 id="53-常用排序算法"><a class="anchor" href="#53-常用排序算法">#</a> 5.3 常用排序算法</h2><p><strong>学习目标：</strong></p><ul><li>掌握常用的排序算法</li></ul><p><strong>算法简介：</strong></p><ul><li><code>sort</code> // 对容器内元素进行排序</li><li><code>random_shuffle</code> // 洗牌 指定范围内的元素随机调整次序</li><li><code>merge</code> // 容器元素合并，并存储到另一容器中</li><li><code>reverse</code> // 反转指定范围的元素</li></ul><h3 id="531-sort"><a class="anchor" href="#531-sort">#</a> 5.3.1 sort</h3><p><strong>功能描述：</strong></p><ul><li>对容器内元素进行排序</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>sort(iterator beg, iterator end, _Pred);</code></p><p>// 按值查找元素，找到返回指定位置迭代器，找不到返回结束迭代器位置</p><p>// beg 开始迭代器</p><p>// end 结束迭代器</p><p>//_Pred 谓词</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-c++">#include &lt;algorithm&gt;
#include &lt;vector&gt;

void myPrint(int val) &#123;
	cout &lt;&lt; val &lt;&lt; &quot; &quot;;
&#125;

int main() &#123;

	vector&lt;int&gt; v;
	v.push_back(10);
	v.push_back(30);
	v.push_back(50);
	v.push_back(20);
	v.push_back(40);

	//sort默认从小到大排序
	sort(v.begin(), v.end());
	for_each(v.begin(), v.end(), myPrint);
	cout &lt;&lt; endl;

	//从大到小排序
	sort(v.begin(), v.end(), greater&lt;int&gt;());
	for_each(v.begin(), v.end(), myPrint);
	cout &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>** 总结：**sort 属于开发中最常用的算法之一，需熟练掌握</p><h3 id="532-shuffle"><a class="anchor" href="#532-shuffle">#</a> 5.3.2 shuffle</h3><p><strong>功能描述：</strong></p><ul><li>洗牌 指定范围内的元素随机调整次序</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>shuffle(iterator beg, iterator end, UniformRandomNumberGenerator&amp;&amp; __g);</code></p><p>// 指定范围内的元素随机调整次序</p><p>//beg 开始迭代器</p><p>//end 结束迭代器</p><p>//__g 统一随机数生成器</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-c++">#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;ctime&gt;
#include &lt;random&gt;  // 包含 random_device 和 default_random_engine

class myPrint &#123;
 public:
	void operator()(int val) &#123;
		cout &lt;&lt; val &lt;&lt; &quot; &quot;;
	&#125;
&#125;;

int main() &#123;

	srand((unsigned int)time(NULL));
	vector&lt;int&gt; v;
	for(int i = 0 ; i &lt; 10;i++) &#123;
		v.push_back(i);
	&#125;
	for_each(v.begin(), v.end(), myPrint());
	cout &lt;&lt; endl;

	//打乱顺序
  // 创建随机数生成器
  random_device rd;// 获取随机数种子
  default_random_engine eng(rd());// 使用随机数种子初始化引擎
	random(v.begin(), v.end(), eng);// 使用 shuffle 进行随机打乱
	for_each(v.begin(), v.end(), myPrint());
	cout &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>** 总结：**shuffle 洗牌算法比较实用，使用时记得加随机数种子</p><h3 id="533-merge"><a class="anchor" href="#533-merge">#</a> 5.3.3 merge</h3><p><strong>功能描述：</strong></p><ul><li>两个容器元素合并，并存储到另一容器中</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>merge(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest);</code></p><p>// 容器元素合并，并存储到另一容器中</p><p>// 注意：两个容器必须是<strong>有序的</strong></p><p>//beg1 容器 1 开始迭代器 //end1 容器 1 结束迭代器 //beg2 容器 2 开始迭代器 //end2 容器 2 结束迭代器 //dest 目标容器开始迭代器</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-c++">#include &lt;algorithm&gt;
#include &lt;vector&gt;

class MyPrint &#123;
 public:
	void operator()(int val) &#123;
		cout &lt;&lt; val &lt;&lt; &quot; &quot;;
	&#125;
&#125;;

int main() &#123;

	vector&lt;int&gt; v1;
	vector&lt;int&gt; v2;
	for (int i = 0; i &lt; 10 ; i++) &#123;
		v1.push_back(i);
		v2.push_back(i + 1);
	&#125;

	vector&lt;int&gt; vtarget;
	//目标容器需要提前开辟空间
	vtarget.resize(v1.size() + v2.size());
	//合并  需要两个有序序列
	merge(v1.begin(), v1.end(), v2.begin(), v2.end(), vtarget.begin());
	for_each(vtarget.begin(), vtarget.end(), MyPrint());
	cout &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>** 总结：**merge 合并的两个容器必须的有序序列</p><h3 id="534-reverse"><a class="anchor" href="#534-reverse">#</a> 5.3.4 reverse</h3><p><strong>功能描述：</strong></p><ul><li>将容器内元素进行反转</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>reverse(iterator beg, iterator end);</code></p><p>// 反转指定范围的元素</p><p>//beg 开始迭代器</p><p>//end 结束迭代器</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-c++">#include &lt;algorithm&gt;
#include &lt;vector&gt;

class MyPrint &#123;
 public:
	void operator()(int val) &#123;
		cout &lt;&lt; val &lt;&lt; &quot; &quot;;
	&#125;
&#125;;

int main() &#123;

	vector&lt;int&gt; v;
	v.push_back(10);
	v.push_back(30);
	v.push_back(50);
	v.push_back(20);
	v.push_back(40);

	cout &lt;&lt; &quot;反转前： &quot; &lt;&lt; endl;
	for_each(v.begin(), v.end(), MyPrint());
	cout &lt;&lt; endl;

	cout &lt;&lt; &quot;反转后： &quot; &lt;&lt; endl;
	reverse(v.begin(), v.end());
	for_each(v.begin(), v.end(), MyPrint());
	cout &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>** 总结：**reverse 反转区间内元素，面试题可能涉及到</p><h2 id="54-常用拷贝和替换算法"><a class="anchor" href="#54-常用拷贝和替换算法">#</a> 5.4 常用拷贝和替换算法</h2><p><strong>学习目标：</strong></p><ul><li>掌握常用的拷贝和替换算法</li></ul><p><strong>算法简介：</strong></p><ul><li><code>copy</code> // 容器内指定范围的元素拷贝到另一容器中</li><li><code>replace</code> // 将容器内指定范围的旧元素修改为新元素</li><li><code>replace_if</code> // 容器内指定范围满足条件的元素替换为新元素</li><li><code>swap</code> // 互换两个容器的元素</li></ul><h3 id="541-copy"><a class="anchor" href="#541-copy">#</a> 5.4.1 copy</h3><p><strong>功能描述：</strong></p><ul><li>容器内指定范围的元素拷贝到另一容器中</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>copy(iterator beg, iterator end, iterator dest);</code></p><p>// 按值查找元素，找到返回指定位置迭代器，找不到返回结束迭代器位置</p><p>//beg 开始迭代器</p><p>//end 结束迭代器</p><p>//dest 目标起始迭代器</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-c++">#include &lt;algorithm&gt;
#include &lt;vector&gt;

class MyPrint &#123;
 public:
	void operator()(int val) &#123;
		cout &lt;&lt; val &lt;&lt; &quot; &quot;;
	&#125;
&#125;;

int main() &#123;

	vector&lt;int&gt; v1;
	for (int i = 0; i &lt; 10; i++) &#123;
		v1.push_back(i + 1);
	&#125;
	vector&lt;int&gt; v2;
	v2.resize(v1.size());
	copy(v1.begin(), v1.end(), v2.begin());

	for_each(v2.begin(), v2.end(), MyPrint());
	cout &lt;&lt; endl;

	return 0;
&#125;
</code></pre><blockquote><p>拷贝算法用到的几率比较小，拷贝操作类似于一个赋值操作，把 v1 容器中的数据都赋值给 v2，直接用一个 = 赋值就完事了</p></blockquote><p>** 总结：** 利用 copy 算法在拷贝时，目标容器记得提前开辟空间</p><h3 id="542-replace"><a class="anchor" href="#542-replace">#</a> 5.4.2 replace</h3><p><strong>功能描述：</strong></p><ul><li>将容器内指定范围的旧元素修改为新元素</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>replace(iterator beg, iterator end, oldvalue, newvalue);</code></p><p>// 将区间内旧元素 替换成 新元素</p><p>//beg 开始迭代器</p><p>//end 结束迭代器</p><p>//oldvalue 旧元素</p><p>//newvalue 新元素</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-c++">#include &lt;algorithm&gt;
#include &lt;vector&gt;

class MyPrint &#123;
 public:
	void operator()(int val) &#123;
		cout &lt;&lt; val &lt;&lt; &quot; &quot;;
	&#125;
&#125;;

int main() &#123;

	vector&lt;int&gt; v;
	v.push_back(20);
	v.push_back(30);
	v.push_back(20);
	v.push_back(40);
	v.push_back(50);
	v.push_back(10);
	v.push_back(20);

	cout &lt;&lt; &quot;替换前：&quot; &lt;&lt; endl;
	for_each(v.begin(), v.end(), MyPrint());
	cout &lt;&lt; endl;

	//将容器中的20 替换成 2000
	cout &lt;&lt; &quot;替换后：&quot; &lt;&lt; endl;
	replace(v.begin(), v.end(), 20, 2000);
	for_each(v.begin(), v.end(), MyPrint());
	cout &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>** 总结：**replace 会替换区间内满足条件的元素</p><h3 id="543-replace_if"><a class="anchor" href="#543-replace_if">#</a> 5.4.3 replace_if</h3><p><strong>功能描述:</strong></p><ul><li>将区间内满足条件的元素，替换成指定元素</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>replace_if(iterator beg, iterator end, _pred, newvalue);</code></p><p>// 按条件替换元素，满足条件的替换成指定元素</p><p>//beg 开始迭代器</p><p>//end 结束迭代器</p><p>//_pred 谓词</p><p>//newvalue 替换的新元素</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-c++">#include &lt;algorithm&gt;
#include &lt;vector&gt;

class MyPrint &#123;
 public:
	void operator()(int val) &#123;
		cout &lt;&lt; val &lt;&lt; &quot; &quot;;
	&#125;
&#125;;

class ReplaceGreater30 &#123;
 public:
	bool operator()(int val) &#123;
		return val &gt;= 30;
	&#125;

&#125;;

int main() &#123;

	vector&lt;int&gt; v;
	v.push_back(20);
	v.push_back(30);
	v.push_back(20);
	v.push_back(40);
	v.push_back(50);
	v.push_back(10);
	v.push_back(20);

	cout &lt;&lt; &quot;替换前：&quot; &lt;&lt; endl;
	for_each(v.begin(), v.end(), MyPrint());
	cout &lt;&lt; endl;

	//将容器中大于等于的30 替换成 3000
	cout &lt;&lt; &quot;替换后：&quot; &lt;&lt; endl;
	replace_if(v.begin(), v.end(), ReplaceGreater30(), 3000);
	for_each(v.begin(), v.end(), MyPrint());
	cout &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>** 总结：**replace_if 按条件查找，可以利用仿函数灵活筛选满足的条件</p><h3 id="544-swap"><a class="anchor" href="#544-swap">#</a> 5.4.4 swap</h3><p><strong>功能描述：</strong></p><ul><li>互换两个容器的元素</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>swap(container c1, container c2);</code></p><p>// 互换两个容器的元素</p><p>//c1 容器 1</p><p>//c2 容器 2</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-c++">#include &lt;algorithm&gt;
#include &lt;vector&gt;

class MyPrint &#123;
 public:
	void operator()(int val) &#123;
		cout &lt;&lt; val &lt;&lt; &quot; &quot;;
	&#125;
&#125;;

int main() &#123;

	vector&lt;int&gt; v1;
	vector&lt;int&gt; v2;
	for (int i = 0; i &lt; 10; i++) &#123;
		v1.push_back(i);
		v2.push_back(i+100);
	&#125;

	cout &lt;&lt; &quot;交换前： &quot; &lt;&lt; endl;
	for_each(v1.begin(), v1.end(), MyPrint());
	cout &lt;&lt; endl;
	for_each(v2.begin(), v2.end(), MyPrint());
	cout &lt;&lt; endl;

	cout &lt;&lt; &quot;交换后： &quot; &lt;&lt; endl;
	swap(v1, v2);
	for_each(v1.begin(), v1.end(), MyPrint());
	cout &lt;&lt; endl;
	for_each(v2.begin(), v2.end(), MyPrint());
	cout &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>** 总结：**swap 交换容器时，注意交换的容器要同种类型</p><h2 id="55-常用算术生成算法"><a class="anchor" href="#55-常用算术生成算法">#</a> 5.5 常用算术生成算法</h2><p><strong>学习目标：</strong></p><ul><li>掌握常用的算术生成算法</li></ul><p><strong>注意：</strong></p><ul><li>算术生成算法属于小型算法，使用时包含的头文件为 <code>#include &lt;numeric&gt;</code></li></ul><p><strong>算法简介：</strong></p><ul><li><p><code>accumulate</code> // 计算容器元素累计总和</p></li><li><p><code>fill</code> // 向容器中添加元素</p></li></ul><h3 id="551-accumulate"><a class="anchor" href="#551-accumulate">#</a> 5.5.1 accumulate</h3><p><strong>功能描述：</strong></p><ul><li>计算区间内 容器元素累计总和</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>accumulate(iterator beg, iterator end, value);</code></p><p>// 计算容器元素累计总和</p><p>//beg 开始迭代器</p><p>//end 结束迭代器</p><p>//value 起始值</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-c++">#include &lt;numeric&gt;
#include &lt;vector&gt;

int main() &#123;

	vector&lt;int&gt; v;
	for (int i = 0; i &lt;= 100; i++) &#123;
		v.push_back(i);
	&#125;

	int total = accumulate(v.begin(), v.end(), 0);

	cout &lt;&lt; &quot;total = &quot; &lt;&lt; total &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>** 总结：**accumulate 使用时头文件注意是 numeric，这个算法很实用</p><h3 id="552-fill"><a class="anchor" href="#552-fill">#</a> 5.5.2 fill</h3><p><strong>功能描述：</strong></p><ul><li>向容器中填充指定的元素</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>fill(iterator beg, iterator end, value);</code></p><p>// 向容器中填充元素</p><p>//beg 开始迭代器</p><p>//end 结束迭代器</p><p>//value 填充的值</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-c++">#include &lt;numeric&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

void myPrint(int val) &#123;
  cout &lt;&lt; val &lt;&lt; &quot; &quot;;
&#125;

int main() &#123;

	vector&lt;int&gt; v;
	v.resize(10);
	//填充
	fill(v.begin(), v.end(), 100);

	for_each(v.begin(), v.end(), myPrint);
	cout &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p>** 总结：** 利用 fill 可以将容器区间内元素填充为 指定的值</p><h2 id="56-常用集合算法"><a class="anchor" href="#56-常用集合算法">#</a> 5.6 常用集合算法</h2><p><strong>学习目标：</strong></p><ul><li>掌握常用的集合算法</li></ul><p><strong>算法简介：</strong></p><ul><li><p><code>set_intersection</code> // 求两个容器的交集</p></li><li><p><code>set_union</code> // 求两个容器的并集</p></li><li><p><code>set_difference</code> // 求两个容器的差集</p></li></ul><h3 id="561-set_intersection"><a class="anchor" href="#561-set_intersection">#</a> 5.6.1 set_intersection</h3><p><strong>功能描述：</strong></p><ul><li>求两个容器的交集</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>set_intersection(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest);</code></p><p>// 求两个集合的交集</p><p>// <strong>注意：两个集合必须是有序序列</strong></p><p>//beg1 容器 1 开始迭代器 //end1 容器 1 结束迭代器 //beg2 容器 2 开始迭代器 //end2 容器 2 结束迭代器 //dest 目标容器开始迭代器</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;vector&gt;
#include &lt;algorithm&gt;

class MyPrint &#123;
public:
	void operator()(int val) &#123;
		cout &lt;&lt; val &lt;&lt; &quot; &quot;;
	&#125;
&#125;;

int main() &#123;

	vector&lt;int&gt; v1;
	vector&lt;int&gt; v2;
	for (int i = 0; i &lt; 10; i++) &#123;
		v1.push_back(i);// 0～9
		v2.push_back(i+5);// 5～14
	&#125;

	vector&lt;int&gt; vTarget;
	//目标容器需要提前开辟空间。最特殊情况：大容器包含小容器，开辟空间取两个里面较小的值给目标容器开辟空间
	vTarget.resize(min(v1.size(), v2.size()));

	//返回目标容器的最后一个元素的迭代器地址
	vector&lt;int&gt;::iterator itEnd = set_intersection(v1.begin(), v1.end(), v2.begin(), v2.end(), vTarget.begin());

	for_each(vTarget.begin(), itEnd, MyPrint());// 若不用itEnd，用vTarget.end()，则遍历出来的结果是5 6 7 8 9 0 0 0 0 0，相当于是把容器中所有数据都遍历一遍
  // 5 6 7 8 9
	cout &lt;&lt; endl;

	return 0;
&#125;
</code></pre><blockquote><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411151109547.png" alt=""></p></blockquote><p><strong>总结：</strong></p><ul><li>求交集的两个集合必须是有序序列</li><li>目标容器开辟空间需要从<strong>两个容器中取小值</strong></li><li>set_intersection 返回值既是交集中最后一个元素的位置</li></ul><h3 id="562-set_union"><a class="anchor" href="#562-set_union">#</a> 5.6.2 set_union</h3><p><strong>功能描述：</strong></p><ul><li>求两个集合的并集</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>set_union(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest);</code></p><p>// 求两个集合的并集</p><p>// <strong>注意：两个集合必须是有序序列</strong></p><p>//beg1 容器 1 开始迭代器 //end1 容器 1 结束迭代器 //beg2 容器 2 开始迭代器 //end2 容器 2 结束迭代器 //dest 目标容器开始迭代器</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;vector&gt;
#include &lt;algorithm&gt;

class MyPrint &#123;
 public:
	void operator()(int val) &#123;
		cout &lt;&lt; val &lt;&lt; &quot; &quot;;
	&#125;
&#125;;

int main() &#123;

	vector&lt;int&gt; v1;
	vector&lt;int&gt; v2;
	for (int i = 0; i &lt; 10; i++) &#123;
		v1.push_back(i);
		v2.push_back(i+5);
	&#125;

	vector&lt;int&gt; vTarget;
	//取两个容器的和给目标容器开辟空间。最特殊情况：两个容器没有交集，并集就是两个容器size相加
	vTarget.resize(v1.size() + v2.size());

	//返回目标容器的最后一个元素的迭代器地址
	vector&lt;int&gt;::iterator itEnd = set_union(v1.begin(), v1.end(), v2.begin(), v2.end(), vTarget.begin());

	for_each(vTarget.begin(), itEnd, MyPrint());
  // 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14
  // 若用vTarget.end()而不用itEnd，则输出0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 0 0 0 0 0
	cout &lt;&lt; endl;

	return 0;
&#125;
</code></pre><p><strong>总结：</strong></p><ul><li>求并集的两个集合必须是有序序列</li><li>目标容器开辟空间需要<strong>两个容器相加</strong></li><li>set_union 返回值既是并集中最后一个元素的位置</li></ul><h3 id="563-set_difference"><a class="anchor" href="#563-set_difference">#</a> 5.6.3 set_difference</h3><p><strong>功能描述：</strong></p><ul><li>求两个集合的差集</li></ul><p><strong>函数原型：</strong></p><ul><li><p><code>set_difference(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest);</code></p><p>// 求两个集合的差集</p><p>// <strong>注意：两个集合必须是有序序列</strong></p><p>//beg1 容器 1 开始迭代器 //end1 容器 1 结束迭代器 //beg2 容器 2 开始迭代器 //end2 容器 2 结束迭代器 //dest 目标容器开始迭代器</p></li></ul><p><strong>示例：</strong></p><pre><code class="language-C++">#include &lt;vector&gt;
#include &lt;algorithm&gt;

class MyPrint &#123;
 public:
	void operator()(int val) &#123;
		cout &lt;&lt; val &lt;&lt; &quot; &quot;;
	&#125;
&#125;;

int main() &#123;

	vector&lt;int&gt; v1;
	vector&lt;int&gt; v2;
	for (int i = 0; i &lt; 10; i++) &#123;
		v1.push_back(i);
		v2.push_back(i+5);
	&#125;

  //创建目标容器
	vector&lt;int&gt; vTarget;
	//最特殊情况：两个容器没有交集，取两个里面较大的size给目标容器开辟空间
	vTarget.resize(max(v1.size(), v2.size()));

	//返回目标容器的最后一个元素的迭代器地址
	cout &lt;&lt; &quot;v1与v2的差集为： &quot; &lt;&lt; endl;
	vector&lt;int&gt;::iterator itEnd = set_difference(v1.begin(), v1.end(), v2.begin(), v2.end(), vTarget.begin());
	for_each(vTarget.begin(), itEnd, MyPrint());// 若不传itEnd而传vTarget.end()，则打印0 1 2 3 4 0 0 0 0 0，后几个0并不是v1和v2的差集。想看到真正差集的结束的位置要把set_difference返回的结束位置itEnd传进来
	cout &lt;&lt; endl;

	cout &lt;&lt; &quot;v2与v1的差集为： &quot; &lt;&lt; endl;
	itEnd = set_difference(v2.begin(), v2.end(), v1.begin(), v1.end(), vTarget.begin());
	for_each(vTarget.begin(), itEnd, MyPrint());
	cout &lt;&lt; endl;

	return 0;
&#125;
</code></pre><blockquote><p><img data-src="https://cdn.jsdelivr.net/gh/60sAINT/images@latest/202411151124424.png" alt=""></p></blockquote><p><strong>总结：</strong></p><ul><li>求差集的两个集合必须的有序序列</li><li>目标容器开辟空间需要从<strong>两个容器取较大值</strong></li><li>set_difference 返回值既是差集中最后一个元素的位置</li></ul><div class="tags"><a href="/tags/C/" rel="tag"><i class="ic i-tag"></i> C++</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">Edited on</span> <time title="Modified: 2024-11-20 20:29:41" itemprop="dateModified" datetime="2024-11-20T20:29:41+08:00">2024-11-20</time> </span><span id="cpp/三.C++提高编程/" class="item leancloud_visitors" data-flag-title="三.C++提高编程" title="Views"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">Views</span> <span class="leancloud-visitors-count"></span> <span class="text">times</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> Donate</button><p>Give me a cup of [coffee]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Li Xinyi WeChat Pay"><p>WeChat Pay</p></div><div><img data-src="/images/alipay.png" alt="Li Xinyi Alipay"><p>Alipay</p></div><div><img data-src="/images/paypal.png" alt="Li Xinyi PayPal"><p>PayPal</p></div></div></div><div id="copyright"><ul><li class="author"><strong>Post author: </strong>Li Xinyi <i class="ic i-at"><em>@</em></i>但行好事，莫问前程</li><li class="link"><strong>Post link: </strong><a href="https://60saint.github.io/cpp/%E4%B8%89.C++%E6%8F%90%E9%AB%98%E7%BC%96%E7%A8%8B/" title="三.C++提高编程">https://60saint.github.io/cpp/三.C++提高编程/</a></li><li class="license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> unless stating additionally.</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/cpp/%E4%BA%8C.%E5%AE%9E%E6%88%98-%E8%81%8C%E5%B7%A5%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="prev" data-background-image="&#x2F;assets&#x2F;cpp.png" title="二.实战-职工管理系统"><span class="type">Previous Post</span> <span class="category"><i class="ic i-flag"></i> C++</span><h3>二.实战-职工管理系统</h3></a></div><div class="item right"><a href="/cpp/%E4%B8%89.%E5%AE%9E%E6%88%98-%E5%9F%BA%E4%BA%8ESTL%E7%9A%84%E6%BC%94%E8%AE%B2%E6%AF%94%E8%B5%9B%E6%B5%81%E7%A8%8B%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="next" data-background-image="&#x2F;assets&#x2F;cpp.png" title="三.实战-基于STL的演讲比赛流程管理系统"><span class="type">Next Post</span> <span class="category"><i class="ic i-flag"></i> C++</span><h3>三.实战-基于STL的演讲比赛流程管理系统</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="Contents"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E6%A8%A1%E7%89%88"><span class="toc-number">1.</span> <span class="toc-text">1 模版</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#11-%E6%A8%A1%E7%89%88%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 模版的概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 函数模板</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#121-%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.2.1 函数模板语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#122-%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">1.2.2.</span> <span class="toc-text">1.2.2 函数模板注意事项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#123-%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E6%A1%88%E4%BE%8B"><span class="toc-number">1.2.3.</span> <span class="toc-text">1.2.3 函数模板案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#124-%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0%E4%B8%8E%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.2.4.</span> <span class="toc-text">1.2.4 普通函数与函数模板的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#125-%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0%E4%B8%8E%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E7%9A%84%E8%B0%83%E7%94%A8%E8%A7%84%E5%88%99"><span class="toc-number">1.2.5.</span> <span class="toc-text">1.2.5 普通函数与函数模板的调用规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#126-%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%B1%80%E9%99%90%E6%80%A7"><span class="toc-number">1.2.6.</span> <span class="toc-text">1.2.6 模板的局限性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-%E7%B1%BB%E6%A8%A1%E6%9D%BF"><span class="toc-number">1.3.</span> <span class="toc-text">1.3 类模板</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#131-%E7%B1%BB%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95"><span class="toc-number">1.3.1.</span> <span class="toc-text">1.3.1 类模板语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#132-%E7%B1%BB%E6%A8%A1%E6%9D%BF%E4%B8%8E%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF%E5%8C%BA%E5%88%AB"><span class="toc-number">1.3.2.</span> <span class="toc-text">1.3.2 类模板与函数模板区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#133-%E7%B1%BB%E6%A8%A1%E6%9D%BF%E4%B8%AD%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E5%88%9B%E5%BB%BA%E6%97%B6%E6%9C%BA"><span class="toc-number">1.3.3.</span> <span class="toc-text">1.3.3 类模板中成员函数创建时机</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#134-%E7%B1%BB%E6%A8%A1%E6%9D%BF%E5%AF%B9%E8%B1%A1%E5%81%9A%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0"><span class="toc-number">1.3.4.</span> <span class="toc-text">1.3.4 类模板对象做函数参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#135-%E7%B1%BB%E6%A8%A1%E6%9D%BF%E4%B8%8E%E7%BB%A7%E6%89%BF"><span class="toc-number">1.3.5.</span> <span class="toc-text">1.3.5 类模板与继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#136-%E7%B1%BB%E6%A8%A1%E6%9D%BF%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0%E7%B1%BB%E5%A4%96%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.3.6.</span> <span class="toc-text">1.3.6 类模板成员函数类外实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#137-%E7%B1%BB%E6%A8%A1%E6%9D%BF%E5%88%86%E6%96%87%E4%BB%B6%E7%BC%96%E5%86%99"><span class="toc-number">1.3.7.</span> <span class="toc-text">1.3.7 类模板分文件编写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#138-%E7%B1%BB%E6%A8%A1%E6%9D%BF%E4%B8%8E%E5%8F%8B%E5%85%83"><span class="toc-number">1.3.8.</span> <span class="toc-text">1.3.8 类模板与友元</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#139-%E7%B1%BB%E6%A8%A1%E6%9D%BF%E6%A1%88%E4%BE%8B"><span class="toc-number">1.3.9.</span> <span class="toc-text">1.3.9 类模板案例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-stl%E5%88%9D%E8%AF%86"><span class="toc-number">2.</span> <span class="toc-text">2 STL 初识</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#21-stl%E7%9A%84%E8%AF%9E%E7%94%9F"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 STL 的诞生</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#22-stl%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 STL 基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#23-stl%E5%85%AD%E5%A4%A7%E7%BB%84%E4%BB%B6"><span class="toc-number">2.3.</span> <span class="toc-text">2.3 STL 六大组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#24-stl%E4%B8%AD%E5%AE%B9%E5%99%A8-%E7%AE%97%E6%B3%95-%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">2.4.</span> <span class="toc-text">2.4 STL 中容器、算法、迭代器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#25-%E5%AE%B9%E5%99%A8%E7%AE%97%E6%B3%95%E8%BF%AD%E4%BB%A3%E5%99%A8%E5%88%9D%E8%AF%86"><span class="toc-number">2.5.</span> <span class="toc-text">2.5 容器算法迭代器初识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#251-vector%E5%AD%98%E6%94%BE%E5%86%85%E7%BD%AE%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.5.1.</span> <span class="toc-text">2.5.1 vector 存放内置数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#252-vector%E5%AD%98%E6%94%BE%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.5.2.</span> <span class="toc-text">2.5.2 Vector 存放自定义数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#253-vector%E5%AE%B9%E5%99%A8%E5%B5%8C%E5%A5%97%E5%AE%B9%E5%99%A8"><span class="toc-number">2.5.3.</span> <span class="toc-text">2.5.3 Vector 容器嵌套容器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-stl-%E5%B8%B8%E7%94%A8%E5%AE%B9%E5%99%A8"><span class="toc-number">3.</span> <span class="toc-text">3 STL- 常用容器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#31-string%E5%AE%B9%E5%99%A8"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 string 容器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#311-string%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">3.1.1.</span> <span class="toc-text">3.1.1 string 基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#312-string%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">3.1.2.</span> <span class="toc-text">3.1.2 string 构造函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#313-string%E8%B5%8B%E5%80%BC%E6%93%8D%E4%BD%9C"><span class="toc-number">3.1.3.</span> <span class="toc-text">3.1.3 string 赋值操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#314-string%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5"><span class="toc-number">3.1.4.</span> <span class="toc-text">3.1.4 string 字符串拼接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#315-string%E6%9F%A5%E6%89%BE%E5%92%8C%E6%9B%BF%E6%8D%A2"><span class="toc-number">3.1.5.</span> <span class="toc-text">3.1.5 string 查找和替换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#316-string%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%AF%94%E8%BE%83"><span class="toc-number">3.1.6.</span> <span class="toc-text">3.1.6 string 字符串比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#317-string%E5%AD%97%E7%AC%A6%E5%AD%98%E5%8F%96"><span class="toc-number">3.1.7.</span> <span class="toc-text">3.1.7 string 字符存取</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#318-string%E6%8F%92%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4"><span class="toc-number">3.1.8.</span> <span class="toc-text">3.1.8 string 插入和删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#319-string%E5%AD%90%E4%B8%B2"><span class="toc-number">3.1.9.</span> <span class="toc-text">3.1.9 string 子串</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#32-vector%E5%AE%B9%E5%99%A8"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 vector 容器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#321-vector%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">3.2.1.</span> <span class="toc-text">3.2.1 vector 基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#322-vector%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">3.2.2.</span> <span class="toc-text">3.2.2 vector 构造函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#323-vector%E8%B5%8B%E5%80%BC%E6%93%8D%E4%BD%9C"><span class="toc-number">3.2.3.</span> <span class="toc-text">3.2.3 vector 赋值操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#324-vector%E5%AE%B9%E9%87%8F%E5%92%8C%E5%A4%A7%E5%B0%8F"><span class="toc-number">3.2.4.</span> <span class="toc-text">3.2.4 vector 容量和大小</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#325-vector%E6%8F%92%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4"><span class="toc-number">3.2.5.</span> <span class="toc-text">3.2.5 vector 插入和删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#326-vector%E6%95%B0%E6%8D%AE%E5%AD%98%E5%8F%96"><span class="toc-number">3.2.6.</span> <span class="toc-text">3.2.6 vector 数据存取</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#327-vector%E4%BA%92%E6%8D%A2%E5%AE%B9%E5%99%A8"><span class="toc-number">3.2.7.</span> <span class="toc-text">3.2.7 vector 互换容器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#328-vector%E9%A2%84%E7%95%99%E7%A9%BA%E9%97%B4"><span class="toc-number">3.2.8.</span> <span class="toc-text">3.2.8 vector 预留空间</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#33-deque%E5%AE%B9%E5%99%A8"><span class="toc-number">3.3.</span> <span class="toc-text">3.3 deque 容器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#331-deque%E5%AE%B9%E5%99%A8%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">3.3.1.</span> <span class="toc-text">3.3.1 deque 容器基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#332-deque%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">3.3.2.</span> <span class="toc-text">3.3.2 deque 构造函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#333-deque%E8%B5%8B%E5%80%BC%E6%93%8D%E4%BD%9C"><span class="toc-number">3.3.3.</span> <span class="toc-text">3.3.3 deque 赋值操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#334-deque%E5%A4%A7%E5%B0%8F%E6%93%8D%E4%BD%9C"><span class="toc-number">3.3.4.</span> <span class="toc-text">3.3.4 deque 大小操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#335-deque-%E6%8F%92%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4"><span class="toc-number">3.3.5.</span> <span class="toc-text">3.3.5 deque 插入和删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#336-deque-%E6%95%B0%E6%8D%AE%E5%AD%98%E5%8F%96"><span class="toc-number">3.3.6.</span> <span class="toc-text">3.3.6 deque 数据存取</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#337-deque-%E6%8E%92%E5%BA%8F"><span class="toc-number">3.3.7.</span> <span class="toc-text">3.3.7 deque 排序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#34-%E6%A1%88%E4%BE%8B-%E8%AF%84%E5%A7%94%E6%89%93%E5%88%86"><span class="toc-number">3.4.</span> <span class="toc-text">3.4 案例 - 评委打分</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#341-%E6%A1%88%E4%BE%8B%E6%8F%8F%E8%BF%B0"><span class="toc-number">3.4.1.</span> <span class="toc-text">3.4.1 案例描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#342-%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span class="toc-number">3.4.2.</span> <span class="toc-text">3.4.2 实现步骤</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#35-stack%E5%AE%B9%E5%99%A8"><span class="toc-number">3.5.</span> <span class="toc-text">3.5 stack 容器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#351-stack-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">3.5.1.</span> <span class="toc-text">3.5.1 stack 基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#352-stack-%E5%B8%B8%E7%94%A8%E6%8E%A5%E5%8F%A3"><span class="toc-number">3.5.2.</span> <span class="toc-text">3.5.2 stack 常用接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#36-queue-%E5%AE%B9%E5%99%A8"><span class="toc-number">3.6.</span> <span class="toc-text">3.6 queue 容器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#361-queue-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">3.6.1.</span> <span class="toc-text">3.6.1 queue 基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#362-queue-%E5%B8%B8%E7%94%A8%E6%8E%A5%E5%8F%A3"><span class="toc-number">3.6.2.</span> <span class="toc-text">3.6.2 queue 常用接口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#37-list%E5%AE%B9%E5%99%A8"><span class="toc-number">3.7.</span> <span class="toc-text">3.7 list 容器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#371-list%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">3.7.1.</span> <span class="toc-text">3.7.1 list 基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#372-list%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">3.7.2.</span> <span class="toc-text">3.7.2 list 构造函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#373-list-%E8%B5%8B%E5%80%BC%E5%92%8C%E4%BA%A4%E6%8D%A2"><span class="toc-number">3.7.3.</span> <span class="toc-text">3.7.3 list 赋值和交换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#374-list-%E5%A4%A7%E5%B0%8F%E6%93%8D%E4%BD%9C"><span class="toc-number">3.7.4.</span> <span class="toc-text">3.7.4 list 大小操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#375-list-%E6%8F%92%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4"><span class="toc-number">3.7.5.</span> <span class="toc-text">3.7.5 list 插入和删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#376-list-%E6%95%B0%E6%8D%AE%E5%AD%98%E5%8F%96"><span class="toc-number">3.7.6.</span> <span class="toc-text">3.7.6 list 数据存取</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#377-list-%E5%8F%8D%E8%BD%AC%E5%92%8C%E6%8E%92%E5%BA%8F"><span class="toc-number">3.7.7.</span> <span class="toc-text">3.7.7 list 反转和排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#378-%E6%8E%92%E5%BA%8F%E6%A1%88%E4%BE%8B"><span class="toc-number">3.7.8.</span> <span class="toc-text">3.7.8 排序案例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#38-set-multiset-%E5%AE%B9%E5%99%A8"><span class="toc-number">3.8.</span> <span class="toc-text">3.8 set&#x2F;multiset 容器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#381-set%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">3.8.1.</span> <span class="toc-text">3.8.1 set 基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#382-set%E6%9E%84%E9%80%A0%E5%92%8C%E8%B5%8B%E5%80%BC"><span class="toc-number">3.8.2.</span> <span class="toc-text">3.8.2 set 构造和赋值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#383-set%E5%A4%A7%E5%B0%8F%E5%92%8C%E4%BA%A4%E6%8D%A2"><span class="toc-number">3.8.3.</span> <span class="toc-text">3.8.3 set 大小和交换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#384-set%E6%8F%92%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4"><span class="toc-number">3.8.4.</span> <span class="toc-text">3.8.4 set 插入和删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#385-set%E6%9F%A5%E6%89%BE%E5%92%8C%E7%BB%9F%E8%AE%A1"><span class="toc-number">3.8.5.</span> <span class="toc-text">3.8.5 set 查找和统计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#386-set%E5%92%8Cmultiset%E5%8C%BA%E5%88%AB"><span class="toc-number">3.8.6.</span> <span class="toc-text">3.8.6 set 和 multiset 区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#387-pair%E5%AF%B9%E7%BB%84%E5%88%9B%E5%BB%BA"><span class="toc-number">3.8.7.</span> <span class="toc-text">3.8.7 pair 对组创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#388-set%E5%AE%B9%E5%99%A8%E6%8E%92%E5%BA%8F"><span class="toc-number">3.8.8.</span> <span class="toc-text">3.8.8 set 容器排序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#39-map-multimap%E5%AE%B9%E5%99%A8"><span class="toc-number">3.9.</span> <span class="toc-text">3.9 map&#x2F;multimap 容器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#391-map%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">3.9.1.</span> <span class="toc-text">3.9.1 map 基本概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#392-map%E6%9E%84%E9%80%A0%E5%92%8C%E8%B5%8B%E5%80%BC"><span class="toc-number">3.9.2.</span> <span class="toc-text">3.9.2 map 构造和赋值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#393-map%E5%A4%A7%E5%B0%8F%E5%92%8C%E4%BA%A4%E6%8D%A2"><span class="toc-number">3.9.3.</span> <span class="toc-text">3.9.3 map 大小和交换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#394-map%E6%8F%92%E5%85%A5%E5%92%8C%E5%88%A0%E9%99%A4"><span class="toc-number">3.9.4.</span> <span class="toc-text">3.9.4 map 插入和删除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#395-map%E6%9F%A5%E6%89%BE%E5%92%8C%E7%BB%9F%E8%AE%A1"><span class="toc-number">3.9.5.</span> <span class="toc-text">3.9.5 map 查找和统计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#396-map%E5%AE%B9%E5%99%A8%E6%8E%92%E5%BA%8F"><span class="toc-number">3.9.6.</span> <span class="toc-text">3.9.6 map 容器排序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#310-%E6%A1%88%E4%BE%8B-%E5%91%98%E5%B7%A5%E5%88%86%E7%BB%84"><span class="toc-number">3.10.</span> <span class="toc-text">3.10 案例 - 员工分组</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3101-%E6%A1%88%E4%BE%8B%E6%8F%8F%E8%BF%B0"><span class="toc-number">3.10.1.</span> <span class="toc-text">3.10.1 案例描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3102-%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span class="toc-number">3.10.2.</span> <span class="toc-text">3.10.2 实现步骤</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-stl-%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1"><span class="toc-number">4.</span> <span class="toc-text">4 STL- 函数对象</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#41-%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1"><span class="toc-number">4.1.</span> <span class="toc-text">4.1 函数对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#411-%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1%E6%A6%82%E5%BF%B5"><span class="toc-number">4.1.1.</span> <span class="toc-text">4.1.1 函数对象概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#412-%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1%E4%BD%BF%E7%94%A8"><span class="toc-number">4.1.2.</span> <span class="toc-text">4.1.2 函数对象使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#42-%E8%B0%93%E8%AF%8D"><span class="toc-number">4.2.</span> <span class="toc-text">4.2 谓词</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#421-%E8%B0%93%E8%AF%8D%E6%A6%82%E5%BF%B5"><span class="toc-number">4.2.1.</span> <span class="toc-text">4.2.1 谓词概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#422-%E4%B8%80%E5%85%83%E8%B0%93%E8%AF%8D"><span class="toc-number">4.2.2.</span> <span class="toc-text">4.2.2 一元谓词</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#423-%E4%BA%8C%E5%85%83%E8%B0%93%E8%AF%8D"><span class="toc-number">4.2.3.</span> <span class="toc-text">4.2.3 二元谓词</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#43-%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1"><span class="toc-number">4.3.</span> <span class="toc-text">4.3 内建函数对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#431-%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1%E6%84%8F%E4%B9%89"><span class="toc-number">4.3.1.</span> <span class="toc-text">4.3.1 内建函数对象意义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#432-%E7%AE%97%E6%9C%AF%E4%BB%BF%E5%87%BD%E6%95%B0"><span class="toc-number">4.3.2.</span> <span class="toc-text">4.3.2 算术仿函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#433-%E5%85%B3%E7%B3%BB%E4%BB%BF%E5%87%BD%E6%95%B0"><span class="toc-number">4.3.3.</span> <span class="toc-text">4.3.3 关系仿函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#434-%E9%80%BB%E8%BE%91%E4%BB%BF%E5%87%BD%E6%95%B0"><span class="toc-number">4.3.4.</span> <span class="toc-text">4.3.4 逻辑仿函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-stl-%E5%B8%B8%E7%94%A8%E7%AE%97%E6%B3%95"><span class="toc-number">5.</span> <span class="toc-text">5 STL- 常用算法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#51-%E5%B8%B8%E7%94%A8%E9%81%8D%E5%8E%86%E7%AE%97%E6%B3%95"><span class="toc-number">5.1.</span> <span class="toc-text">5.1 常用遍历算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#511-for_each"><span class="toc-number">5.1.1.</span> <span class="toc-text">5.1.1 for_each</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#512-transform"><span class="toc-number">5.1.2.</span> <span class="toc-text">5.1.2 transform</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#52-%E5%B8%B8%E7%94%A8%E6%9F%A5%E6%89%BE%E7%AE%97%E6%B3%95"><span class="toc-number">5.2.</span> <span class="toc-text">5.2 常用查找算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#521-find"><span class="toc-number">5.2.1.</span> <span class="toc-text">5.2.1 find</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#522-find_if"><span class="toc-number">5.2.2.</span> <span class="toc-text">5.2.2 find_if</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#523-adjacent_find"><span class="toc-number">5.2.3.</span> <span class="toc-text">5.2.3 adjacent_find</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#524-binary_search"><span class="toc-number">5.2.4.</span> <span class="toc-text">5.2.4 binary_search</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#525-count"><span class="toc-number">5.2.5.</span> <span class="toc-text">5.2.5 count</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#526-count_if"><span class="toc-number">5.2.6.</span> <span class="toc-text">5.2.6 count_if</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#53-%E5%B8%B8%E7%94%A8%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95"><span class="toc-number">5.3.</span> <span class="toc-text">5.3 常用排序算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#531-sort"><span class="toc-number">5.3.1.</span> <span class="toc-text">5.3.1 sort</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#532-shuffle"><span class="toc-number">5.3.2.</span> <span class="toc-text">5.3.2 shuffle</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#533-merge"><span class="toc-number">5.3.3.</span> <span class="toc-text">5.3.3 merge</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#534-reverse"><span class="toc-number">5.3.4.</span> <span class="toc-text">5.3.4 reverse</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#54-%E5%B8%B8%E7%94%A8%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%9B%BF%E6%8D%A2%E7%AE%97%E6%B3%95"><span class="toc-number">5.4.</span> <span class="toc-text">5.4 常用拷贝和替换算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#541-copy"><span class="toc-number">5.4.1.</span> <span class="toc-text">5.4.1 copy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#542-replace"><span class="toc-number">5.4.2.</span> <span class="toc-text">5.4.2 replace</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#543-replace_if"><span class="toc-number">5.4.3.</span> <span class="toc-text">5.4.3 replace_if</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#544-swap"><span class="toc-number">5.4.4.</span> <span class="toc-text">5.4.4 swap</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#55-%E5%B8%B8%E7%94%A8%E7%AE%97%E6%9C%AF%E7%94%9F%E6%88%90%E7%AE%97%E6%B3%95"><span class="toc-number">5.5.</span> <span class="toc-text">5.5 常用算术生成算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#551-accumulate"><span class="toc-number">5.5.1.</span> <span class="toc-text">5.5.1 accumulate</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#552-fill"><span class="toc-number">5.5.2.</span> <span class="toc-text">5.5.2 fill</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#56-%E5%B8%B8%E7%94%A8%E9%9B%86%E5%90%88%E7%AE%97%E6%B3%95"><span class="toc-number">5.6.</span> <span class="toc-text">5.6 常用集合算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#561-set_intersection"><span class="toc-number">5.6.1.</span> <span class="toc-text">5.6.1 set_intersection</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#562-set_union"><span class="toc-number">5.6.2.</span> <span class="toc-text">5.6.2 set_union</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#563-set_difference"><span class="toc-number">5.6.3.</span> <span class="toc-text">5.6.3 set_difference</span></a></li></ol></li></ol></li></ol></div><div class="related panel pjax" data-title="Related"><ul><li><a href="/cpp/VScode-C++%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%EF%BC%88MAC%EF%BC%89/" rel="bookmark" title="VScode C++环境配置（MAC）">VScode C++环境配置（MAC）</a></li><li><a href="/cpp/%E4%B8%80.C++%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/" rel="bookmark" title="一.C++基础语法入门">一.C++基础语法入门</a></li><li><a href="/cpp/%E4%BD%BF%E7%94%A8VS-Code%E8%BF%9B%E8%A1%8CC++%E5%87%BD%E6%95%B0%E5%88%86%E6%96%87%E4%BB%B6%E7%BC%96%E5%86%99/" rel="bookmark" title="使用VS Code进行C++函数分文件编写">使用VS Code进行C++函数分文件编写</a></li><li><a href="/cpp/%E4%B8%80.%E5%AE%9E%E6%88%98-%E9%80%9A%E8%AE%AF%E5%BD%95%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" rel="bookmark" title="一.实战-通讯录管理系统">一.实战-通讯录管理系统</a></li><li><a href="/cpp/%E4%BA%8C%E3%80%81C++%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B/" rel="bookmark" title="二.C++核心编程">二.C++核心编程</a></li><li><a href="/cpp/%E4%BA%8C.%E5%AE%9E%E6%88%98-%E8%81%8C%E5%B7%A5%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" rel="bookmark" title="二.实战-职工管理系统">二.实战-职工管理系统</a></li><li class="active"><a href="/cpp/%E4%B8%89.C++%E6%8F%90%E9%AB%98%E7%BC%96%E7%A8%8B/" rel="bookmark" title="三.C++提高编程">三.C++提高编程</a></li><li><a href="/cpp/%E4%B8%89.%E5%AE%9E%E6%88%98-%E5%9F%BA%E4%BA%8ESTL%E7%9A%84%E6%BC%94%E8%AE%B2%E6%AF%94%E8%B5%9B%E6%B5%81%E7%A8%8B%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" rel="bookmark" title="三.实战-基于STL的演讲比赛流程管理系统">三.实战-基于STL的演讲比赛流程管理系统</a></li><li><a href="/cpp/%E7%AC%AC1%E9%98%B6%E6%AE%B5-C++%E5%9F%BA%E7%A1%80%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B-%E6%9C%BA%E6%88%BF%E9%A2%84%E7%BA%A6%E7%B3%BB%E7%BB%9F/" rel="bookmark" title="C++基础阶段综合案例-机房预约系统">C++基础阶段综合案例-机房预约系统</a></li><li><a href="/cpp/%E3%80%8AC++-Primer-Plus%E3%80%8B%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/" rel="bookmark" title="《C++ Primer Plus》阅读笔记">《C++ Primer Plus》阅读笔记</a></li></ul></div><div class="overview panel" data-title="Overview"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Li Xinyi" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Li Xinyi</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">39</span> <span class="name">posts</span></a></div><div class="item categories"><a href="/categories/"><span class="count">7</span> <span class="name">categories</span></a></div><div class="item tags"><a href="/tags/"><span class="count">19</span> <span class="name">tags</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tLzYwc0FJTlQ=" title="https:&#x2F;&#x2F;github.com&#x2F;60sAINT"><i class="ic i-github"></i></span> <span class="exturl item email" data-url="bWFpbHRvOmxpeGlueWkwM0BxcS5jb20=" title="mailto:lixinyi03@qq.com"><i class="ic i-envelope"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>Home</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-user"></i>About</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>Posts</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>Archives</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>Categories</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>Tags</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>friends</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/cpp/%E4%BA%8C.%E5%AE%9E%E6%88%98-%E8%81%8C%E5%B7%A5%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" rel="prev" title="Previous Post"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/cpp/%E4%B8%89.%E5%AE%9E%E6%88%98-%E5%9F%BA%E4%BA%8ESTL%E7%9A%84%E6%BC%94%E8%AE%B2%E6%AF%94%E8%B5%9B%E6%B5%81%E7%A8%8B%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" rel="next" title="Next Post"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>Random Posts</h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/hexo%E4%B8%ADmarkdown%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6%E5%A4%84%E7%90%86/" title="Hexo 中 Markdown 特殊字符的处理方法">Hexo 中 Markdown 特殊字符的处理方法</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/front-end/" title="In 前端">前端</a> <i class="ic i-angle-right"></i> <a href="/categories/front-end/AJAX/" title="In AJAX">AJAX</a></div><span><a href="/front-end/AJAX/AJAX-%E5%8E%9F%E7%90%86%E7%AF%87/" title="AJAX - 原理篇">AJAX - 原理篇</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/front-end/" title="In 前端">前端</a></div><span><a href="/front-end/ECharts/" title="ECharts">ECharts</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/%E6%91%84%E5%BD%B1%E5%B1%95/" title="Zn1&#39;s Photographic Exhibition">Zn1's Photographic Exhibition</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/cpp/" title="In C++">C++</a></div><span><a href="/cpp/%E4%B8%80.%E5%AE%9E%E6%88%98-%E9%80%9A%E8%AE%AF%E5%BD%95%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/" title="一.实战-通讯录管理系统">一.实战-通讯录管理系统</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/front-end/" title="In 前端">前端</a> <i class="ic i-angle-right"></i> <a href="/categories/front-end/CSS/" title="In CSS">CSS</a></div><span><a href="/front-end/CSS/%E7%A7%BB%E5%8A%A8WEB%E5%BC%80%E5%8F%91%E2%80%94flex%E5%B8%83%E5%B1%80/" title="移动 WEB 开发 - flex 布局">移动 WEB 开发 - flex 布局</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/" title="Hexo个人博客搭建教程">Hexo个人博客搭建教程</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/cpp/" title="In C++">C++</a></div><span><a href="/cpp/%E4%BD%BF%E7%94%A8VS-Code%E8%BF%9B%E8%A1%8CC++%E5%87%BD%E6%95%B0%E5%88%86%E6%96%87%E4%BB%B6%E7%BC%96%E5%86%99/" title="使用VS Code进行C++函数分文件编写">使用VS Code进行C++函数分文件编写</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/cpp/" title="In C++">C++</a></div><span><a href="/cpp/%E4%BA%8C%E3%80%81C++%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B/" title="二.C++核心编程">二.C++核心编程</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/software-test/" title="In 软件测试与质量保证">软件测试与质量保证</a></div><span><a href="/software-test/JUnit/" title="JUnit 单元测试">JUnit 单元测试</a></span></li></ul></div><div><h2>Recent Comments</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2022 – <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Li Xinyi @ Zn1's Blog</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="Symbols count total">495k words</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="Reading time total">7:30</span></div><div class="powered-by">Powered by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"cpp/三.C++提高编程/",favicon:{show:"（●´3｀●）Goooood",hide:"(´Д｀)Booooom"},search:{placeholder:"Search for Posts",empty:"We didn't find any results for the search: ${query}",stats:"${hits} results found in ${time} ms"},valine:!0,fancybox:!0,copyright:'Copied to clipboard successfully! <br> All articles in this blog are licensed under <i class="ic i-creative-commons"></i>BY-NC-SA.',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html><!-- rebuild by hrmmi -->